
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="d2759024-c41e-5594-9d72-a463872e9e45")}catch(e){}}();
import{a as Af,b as kf,c as If}from"./chunk-FWMULOCB.js";import{Ia as Cf,Ja as rt,d as Jr}from"./chunk-K6UUAPPR.js";import{q as ga,r as Se,v as ba,w as Nf,x as Rf}from"./chunk-ZYOLZTH5.js";import{a as _a}from"./chunk-PQ3LFH2U.js";import{c as va,m as ma,n as mi,o as ya}from"./chunk-472WPQLO.js";import{e as I,f as L,g as yt,h as zr,i as ye}from"./chunk-B7YGBANW.js";var bi={};yt(bi,{__assign:()=>w,__asyncDelegator:()=>jf,__asyncGenerator:()=>Uf,__asyncValues:()=>Bf,__await:()=>cr,__awaiter:()=>Pe,__classPrivateFieldGet:()=>Gf,__classPrivateFieldSet:()=>Wf,__createBinding:()=>Pf,__decorate:()=>Df,__exportStar:()=>qf,__extends:()=>le,__generator:()=>qe,__importDefault:()=>Kf,__importStar:()=>Qf,__makeTemplateObject:()=>Vf,__metadata:()=>Mf,__param:()=>Ff,__read:()=>wa,__rest:()=>be,__spread:()=>Lf,__spreadArrays:()=>Le,__values:()=>gi});function le(r,t){yi(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function be(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e}function Df(r,t,e,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,t,e,n);else for(var s=r.length-1;s>=0;s--)(a=r[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}function Ff(r,t){return function(e,n){t(e,n,r)}}function Mf(r,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,t)}function Pe(r,t,e,n){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(r,t||[])).next())})}function qe(r,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(r,e)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Pf(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}function qf(r,t){for(var e in r)e!=="default"&&!t.hasOwnProperty(e)&&(t[e]=r[e])}function gi(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function wa(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o}function Lf(){for(var r=[],t=0;t<arguments.length;t++)r=r.concat(wa(arguments[t]));return r}function Le(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var n=Array(r),i=0,t=0;t<e;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function cr(r){return this instanceof cr?(this.v=r,this):new cr(r)}function Uf(r,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e.apply(r,t||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(h){n[h]&&(i[h]=function(v){return new Promise(function(g,m){o.push([h,v,g,m])>1||s(h,v)})})}function s(h,v){try{c(n[h](v))}catch(g){l(o[0][3],g)}}function c(h){h.value instanceof cr?Promise.resolve(h.value.v).then(u,f):l(o[0][2],h)}function u(h){s("next",h)}function f(h){s("throw",h)}function l(h,v){h(v),o.shift(),o.length&&s(o[0][0],o[0][1])}}function jf(r){var t,e;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,o){t[i]=r[i]?function(a){return(e=!e)?{value:cr(r[i](a)),done:i==="return"}:o?o(a):a}:o}}function Bf(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=r[Symbol.asyncIterator],e;return t?t.call(r):(r=typeof gi=="function"?gi(r):r[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(o){e[o]=r[o]&&function(a){return new Promise(function(s,c){a=r[o](a),i(s,c,a.done,a.value)})}}function i(o,a,s,c){Promise.resolve(c).then(function(u){o({value:u,done:s})},a)}}function Vf(r,t){return Object.defineProperty?Object.defineProperty(r,"raw",{value:t}):r.raw=t,r}function Qf(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)Object.hasOwnProperty.call(r,e)&&(t[e]=r[e]);return t.default=r,t}function Kf(r){return r&&r.__esModule?r:{default:r}}function Gf(r,t){if(!t.has(r))throw new TypeError("attempted to get private field on non-instance");return t.get(r)}function Wf(r,t,e){if(!t.has(r))throw new TypeError("attempted to set private field on non-instance");return t.set(r,e),e}var yi,w,Z=I(()=>{"use strict";yi=function(r,t){return yi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},yi(r,t)};w=function(){return w=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},w.apply(this,arguments)}});function j(r,t){if(!r)throw new Y(t)}function wi(r){return function(){if(Zr.indexOf(r)>=Ei)return console[r].apply(console,arguments)}}function Si(r){var t=Zr[Ei];return Ei=Math.max(0,Zr.indexOf(r)),t}var _i,Ea,Yf,Y,Zr,Ei,Wv,ne=I(()=>{"use strict";ya();_i="Invariant Violation",Ea=Object.setPrototypeOf,Yf=Ea===void 0?function(r,t){return r.__proto__=t,r}:Ea,Y=(function(r){ma(t,r);function t(e){e===void 0&&(e=_i);var n=r.call(this,typeof e=="number"?_i+": "+e+" (see https://github.com/apollographql/invariant-packages)":e)||this;return n.framesToPop=1,n.name=_i,Yf(n,t.prototype),n}return t})(Error);Zr=["log","warn","error","silent"],Ei=Zr.indexOf("log");(function(r){r.log=wi("log"),r.warn=wi("warn"),r.error=wi("error")})(j||(j={}));Wv=typeof process=="object"&&typeof process.env=="object"?process:{env:{}}});function Ue(r,t){var e=r.directives;return!e||!e.length?!0:Oi(e).every(function(n){var i=n.directive,o=n.ifArgument,a=!1;return o.value.kind==="Variable"?(a=t&&t[o.value.name.value],j(a!==void 0,38)):a=o.value.value,i.name.value==="skip"?!a:a})}function xi(r){var t=[];return Se(r,{Directive:function(e){t.push(e.name.value)}}),t}function nt(r,t){return xi(t).some(function(e){return r.indexOf(e)>-1})}function $r(r){return r&&nt(["client"],r)&&nt(["export"],r)}function Hf(r){var t=r.name.value;return t==="skip"||t==="include"}function Oi(r){var t=[];return r&&r.length&&r.forEach(function(e){if(Hf(e)){var n=e.arguments,i=e.name.value;j(n&&n.length===1,39);var o=n[0];j(o.name&&o.name.value==="if",40);var a=o.value;j(a&&(a.kind==="Variable"||a.kind==="BooleanValue"),41),t.push({directive:e,ifArgument:o})}}),t}var Sa=I(()=>{"use strict";rt();ne()});function Xr(r,t){var e=t,n=[];r.definitions.forEach(function(o){if(o.kind==="OperationDefinition")throw new Y(42);o.kind==="FragmentDefinition"&&n.push(o)}),typeof e>"u"&&(j(n.length===1,43),e=n[0].name.value);var i=w(w({},r),{definitions:Le([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:e}}]}}],r.definitions)});return i}function je(r){r===void 0&&(r=[]);var t={};return r.forEach(function(e){t[e.name.value]=e}),t}function Be(r,t){switch(r.kind){case"InlineFragment":return r;case"FragmentSpread":{var e=t&&t[r.name.value];return j(e,44),e}default:return null}}var en=I(()=>{"use strict";Z();ne()});var Oa=L((em,xa)=>{"use strict";xa.exports=function(r,t){t||(t={}),typeof t=="function"&&(t={cmp:t});var e=typeof t.cycles=="boolean"?t.cycles:!1,n=t.cmp&&(function(o){return function(a){return function(s,c){var u={key:s,value:a[s]},f={key:c,value:a[c]};return o(u,f)}}})(t.cmp),i=[];return(function o(a){if(a&&a.toJSON&&typeof a.toJSON=="function"&&(a=a.toJSON()),a!==void 0){if(typeof a=="number")return isFinite(a)?""+a:"null";if(typeof a!="object")return JSON.stringify(a);var s,c;if(Array.isArray(a)){for(c="[",s=0;s<a.length;s++)s&&(c+=","),c+=o(a[s])||"null";return c+"]"}if(a===null)return"null";if(i.indexOf(a)!==-1){if(e)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var u=i.push(a)-1,f=Object.keys(a).sort(n&&n(a));for(c="",s=0;s<f.length;s++){var l=f[s],h=o(a[l]);h&&(c&&(c+=","),c+=JSON.stringify(l)+":"+h)}return i.splice(u,1),"{"+c+"}"}})(r)}});function xe(r){return{__ref:String(r)}}function $(r){return!!(r&&typeof r=="object"&&typeof r.__ref=="string")}function zf(r){return r.kind==="StringValue"}function Jf(r){return r.kind==="BooleanValue"}function Zf(r){return r.kind==="IntValue"}function $f(r){return r.kind==="FloatValue"}function Xf(r){return r.kind==="Variable"}function el(r){return r.kind==="ObjectValue"}function tl(r){return r.kind==="ListValue"}function rl(r){return r.kind==="EnumValue"}function nl(r){return r.kind==="NullValue"}function Ze(r,t,e,n){if(Zf(e)||$f(e))r[t.value]=Number(e.value);else if(Jf(e)||zf(e))r[t.value]=e.value;else if(el(e)){var i={};e.fields.map(function(a){return Ze(i,a.name,a.value,n)}),r[t.value]=i}else if(Xf(e)){var o=(n||{})[e.name.value];r[t.value]=o}else if(tl(e))r[t.value]=e.values.map(function(a){var s={};return Ze(s,t,a,n),s[t.value]});else if(rl(e))r[t.value]=e.value;else if(nl(e))r[t.value]=null;else throw new Y(53)}function tn(r,t){var e=null;r.directives&&(e={},r.directives.forEach(function(i){e[i.name.value]={},i.arguments&&i.arguments.forEach(function(o){var a=o.name,s=o.value;return Ze(e[i.name.value],a,s,t)})}));var n=null;return r.arguments&&r.arguments.length&&(n={},r.arguments.forEach(function(i){var o=i.name,a=i.value;return Ze(n,o,a,t)})),fr(r.name.value,n,e)}function fr(r,t,e){if(t&&e&&e.connection&&e.connection.key)if(e.connection.filter&&e.connection.filter.length>0){var n=e.connection.filter?e.connection.filter:[];n.sort();var i={};return n.forEach(function(s){i[s]=t[s]}),e.connection.key+"("+JSON.stringify(i)+")"}else return e.connection.key;var o=r;if(t){var a=(0,Ta.default)(t);o+="("+a+")"}return e&&Object.keys(e).forEach(function(s){il.indexOf(s)===-1&&(e[s]&&Object.keys(e[s]).length?o+="@"+s+"("+JSON.stringify(e[s])+")":o+="@"+s)}),o}function Mt(r,t){if(r.arguments&&r.arguments.length){var e={};return r.arguments.forEach(function(n){var i=n.name,o=n.value;return Ze(e,i,o,t)}),e}return null}function Te(r){return r.alias?r.alias.value:r.name.value}function gt(r,t,e){if(typeof r.__typename=="string")return r.__typename;for(var n=0,i=t.selections;n<i.length;n++){var o=i[n];if(ae(o)){if(o.name.value==="__typename")return r[Te(o)]}else{var a=gt(r,Be(o,e).selectionSet,e);if(typeof a=="string")return a}}}function ae(r){return r.kind==="Field"}function Pt(r){return r.kind==="InlineFragment"}var Ta,il,rn=I(()=>{"use strict";Ta=zr(Oa());ne();en();il=["connection","include","skip","client","rest","export"]});function it(r){j(r&&r.kind==="Document",45);var t=r.definitions.filter(function(e){return e.kind!=="FragmentDefinition"}).map(function(e){if(e.kind!=="OperationDefinition")throw new Y(46);return e});return j(t.length<=1,47),r}function Ce(r){return it(r),r.definitions.filter(function(t){return t.kind==="OperationDefinition"})[0]}function bt(r){return r.definitions.filter(function(t){return t.kind==="OperationDefinition"&&t.name}).map(function(t){return t.name.value})[0]||null}function Ve(r){return r.definitions.filter(function(t){return t.kind==="FragmentDefinition"})}function nn(r){var t=Ce(r);return j(t&&t.operation==="query",48),t}function on(r){j(r.kind==="Document",49),j(r.definitions.length<=1,50);var t=r.definitions[0];return j(t.kind==="FragmentDefinition",51),t}function ot(r){it(r);for(var t,e=0,n=r.definitions;e<n.length;e++){var i=n[e];if(i.kind==="OperationDefinition"){var o=i.operation;if(o==="query"||o==="mutation"||o==="subscription")return i}i.kind==="FragmentDefinition"&&!t&&(t=i)}if(t)return t;throw new Y(52)}function at(r){var t=Object.create(null),e=r&&r.variableDefinitions;return e&&e.length&&e.forEach(function(n){n.defaultValue&&Ze(t,n.variable.name,n.defaultValue)}),t}var Ti=I(()=>{"use strict";ne();rn()});function Ai(r,t,e){var n=0;return r.forEach(function(i,o){t.call(this,i,o,r)&&(r[n++]=i)},e),r.length=n,r}var Aa=I(()=>{"use strict"});function Na(r,t){return r.selectionSet.selections.every(function(e){return e.kind==="FragmentSpread"&&Na(t[e.name.value],t)})}function ki(r){return Na(Ce(r)||on(r),je(Ve(r)))?null:r}function ka(r){return function(e){return r.some(function(n){return n.name&&n.name===e.name.value||n.test&&n.test(e)})}}function an(r,t){var e=Object.create(null),n=[],i=Object.create(null),o=[],a=ki(Se(t,{Variable:{enter:function(s,c,u){u.kind!=="VariableDefinition"&&(e[s.name.value]=!0)}},Field:{enter:function(s){if(r&&s.directives){var c=r.some(function(u){return u.remove});if(c&&s.directives&&s.directives.some(ka(r)))return s.arguments&&s.arguments.forEach(function(u){u.value.kind==="Variable"&&n.push({name:u.value.name.value})}),s.selectionSet&&Ra(s.selectionSet).forEach(function(u){o.push({name:u.name.value})}),null}}},FragmentSpread:{enter:function(s){i[s.name.value]=!0}},Directive:{enter:function(s){if(ka(r)(s))return null}}}));return a&&Ai(n,function(s){return!!s.name&&!e[s.name]}).length&&(a=Ii(n,a)),a&&Ai(o,function(s){return!!s.name&&!i[s.name]}).length&&(a=Ni(o,a)),a}function _t(r){return Se(it(r),{SelectionSet:{enter:function(t,e,n){if(!(n&&n.kind==="OperationDefinition")){var i=t.selections;if(i){var o=i.some(function(s){return ae(s)&&(s.name.value==="__typename"||s.name.value.lastIndexOf("__",0)===0)});if(!o){var a=n;if(!(ae(a)&&a.directives&&a.directives.some(function(s){return s.name.value==="export"})))return w(w({},t),{selections:Le(i,[Ia])})}}}}}})}function sn(r){return an([ol],it(r))}function al(r){return function(e){return r.some(function(n){return e.value&&e.value.kind==="Variable"&&e.value.name&&(n.name===e.value.name.value||n.test&&n.test(e))})}}function Ii(r,t){var e=al(r);return ki(Se(t,{OperationDefinition:{enter:function(n){return w(w({},n),{variableDefinitions:n.variableDefinitions?n.variableDefinitions.filter(function(i){return!r.some(function(o){return o.name===i.variable.name.value})}):[]})}},Field:{enter:function(n){var i=r.some(function(a){return a.remove});if(i){var o=0;if(n.arguments&&n.arguments.forEach(function(a){e(a)&&(o+=1)}),o===1)return null}}},Argument:{enter:function(n){if(e(n))return null}}}))}function Ni(r,t){function e(n){if(r.some(function(i){return i.name===n.name.value}))return null}return ki(Se(t,{FragmentSpread:{enter:e},FragmentDefinition:{enter:e}}))}function Ra(r){var t=[];return r.selections.forEach(function(e){(ae(e)||Pt(e))&&e.selectionSet?Ra(e.selectionSet).forEach(function(n){return t.push(n)}):e.kind==="FragmentSpread"&&t.push(e)}),t}function un(r){var t=ot(r),e=t.operation;if(e==="query")return r;var n=Se(r,{OperationDefinition:{enter:function(i){return w(w({},i),{operation:"query"})}}});return n}function cn(r){it(r);var t=an([{test:function(e){return e.name.value==="client"},remove:!0}],r);return t&&(t=Se(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet){var n=e.selectionSet.selections.every(function(i){return ae(i)&&i.name.value==="__typename"});if(n)return null}}}})),t}var Ia,ol,Ca=I(()=>{"use strict";Z();rt();ne();Ti();Aa();rn();en();Ia={kind:"Field",name:{kind:"Name",value:"__typename"}};_t.added=function(r){return r===Ia};ol={test:function(r){var t=r.name.value==="connection";return t&&(!r.arguments||r.arguments.some(function(e){return e.name.value==="key"})),t}}});function wt(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return qt(r)}function qt(r){var t=r[0]||{},e=r.length;if(e>1)for(var n=new Lt,i=1;i<e;++i)t=n.merge(t,r[i]);return t}function fn(r){return r!==null&&typeof r=="object"}var sl,ul,Lt,Ri=I(()=>{"use strict";Z();sl=Object.prototype.hasOwnProperty;ul=function(r,t,e){return this.merge(r[e],t[e])},Lt=(function(){function r(t){t===void 0&&(t=ul),this.reconciler=t,this.isObject=fn,this.pastCopies=new Set}return r.prototype.merge=function(t,e){for(var n=this,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];return fn(e)&&fn(t)?(Object.keys(e).forEach(function(a){if(sl.call(t,a)){var s=t[a];if(e[a]!==s){var c=n.reconciler.apply(n,Le([t,e,a],i));c!==s&&(t=n.shallowCopyForMerge(t),t[a]=c)}}else t=n.shallowCopyForMerge(t),t[a]=e[a]}),t):e},r.prototype.shallowCopyForMerge=function(t){return fn(t)&&!this.pastCopies.has(t)&&(Array.isArray(t)?t=t.slice(0):t=w({__proto__:Object.getPrototypeOf(t)},t),this.pastCopies.add(t)),t},r})()});function Da(r){return r===void 0&&(r=!1),{keyArgs:r,merge:function(t,e){return t?Le(t,e):e}}}function Fa(r){return r===void 0&&(r=!1),{keyArgs:r,merge:function(t,e,n){var i=n.args,o=t?t.slice(0):[];if(i)for(var a=i.offset,s=a===void 0?0:a,c=0;c<e.length;++c)o[s+c]=e[c];else o.push.apply(o,e);return o}}}function Ma(r){return r===void 0&&(r=!1),{keyArgs:r,read:function(t,e){var n=e.canRead,i=e.readField;if(t){var o=[],a="",s="";return t.edges.forEach(function(c){n(i("node",c))&&(o.push(c),c.cursor&&(a=a||c.cursor,s=c.cursor))}),w(w({},Ci(t)),{edges:o,pageInfo:w(w({},t.pageInfo),{startCursor:a,endCursor:s})})}},merge:function(t,e,n){t===void 0&&(t=fl());var i=n.args,o=n.isReference,a=n.readField,s=e.edges?e.edges.map(function(E){return o(E=w({},E))&&(E.cursor=a("cursor",E)),E}):[];if(e.pageInfo){var c=e.pageInfo,u=c.startCursor,f=c.endCursor,l=s[0],h=s[s.length-1];l&&u&&(l.cursor=u),h&&f&&(h.cursor=f);var v=l&&l.cursor;v&&!u&&(e=wt(e,{pageInfo:{startCursor:v}}));var g=h&&h.cursor;g&&!f&&(e=wt(e,{pageInfo:{endCursor:g}}))}var m=t.edges,_=[];if(i&&i.after){var k=m.findIndex(function(E){return E.cursor===i.after});k>=0&&(m=m.slice(0,k+1))}else if(i&&i.before){var k=m.findIndex(function(U){return U.cursor===i.before});_=k<0?m:m.slice(k),m=[]}else e.edges&&(m=[]);var T=Le(m,s,_),N=w(w({},e.pageInfo),t.pageInfo);if(e.pageInfo){var R=e.pageInfo,C=R.hasPreviousPage,M=R.hasNextPage,u=R.startCursor,f=R.endCursor,F=be(R,["hasPreviousPage","hasNextPage","startCursor","endCursor"]);Object.assign(N,F),m.length||(C!==void 0&&(N.hasPreviousPage=C),u!==void 0&&(N.startCursor=u)),_.length||(M!==void 0&&(N.hasNextPage=M),f!==void 0&&(N.endCursor=f))}return w(w(w({},Ci(t)),Ci(e)),{edges:T,pageInfo:N})}}}function fl(){return{edges:[],pageInfo:{hasPreviousPage:!1,hasNextPage:!0,startCursor:"",endCursor:""}}}var Ci,cl,Pa=I(()=>{"use strict";Z();Z();Ri();Ci=function(r){return be(r,cl)},cl=["edges","pageInfo"]});var Ba=L(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.Observable=void 0;function Pi(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function qa(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function qi(r,t,e){return t&&qa(r.prototype,t),e&&qa(r,e),r}var Li=function(){return typeof Symbol=="function"},Ui=function(r){return Li()&&!!Symbol[r]},ji=function(r){return Ui(r)?Symbol[r]:"@@"+r};Li()&&!Ui("observable")&&(Symbol.observable=Symbol("observable"));var ll=ji("iterator"),Fi=ji("observable"),La=ji("species");function hn(r,t){var e=r[t];if(e!=null){if(typeof e!="function")throw new TypeError(e+" is not a function");return e}}function lr(r){var t=r.constructor;return t!==void 0&&(t=t[La],t===null&&(t=void 0)),t!==void 0?t:pn}function hl(r){return r instanceof pn}function Ut(r){Ut.log?Ut.log(r):setTimeout(function(){throw r})}function ln(r){Promise.resolve().then(function(){try{r()}catch(t){Ut(t)}})}function Ua(r){var t=r._cleanup;if(t!==void 0&&(r._cleanup=void 0,!!t))try{if(typeof t=="function")t();else{var e=hn(t,"unsubscribe");e&&e.call(t)}}catch(n){Ut(n)}}function Mi(r){r._observer=void 0,r._queue=void 0,r._state="closed"}function pl(r){var t=r._queue;if(t){r._queue=void 0,r._state="ready";for(var e=0;e<t.length&&(ja(r,t[e].type,t[e].value),r._state!=="closed");++e);}}function ja(r,t,e){r._state="running";var n=r._observer;try{var i=hn(n,t);switch(t){case"next":i&&i.call(n,e);break;case"error":if(Mi(r),i)i.call(n,e);else throw e;break;case"complete":Mi(r),i&&i.call(n);break}}catch(o){Ut(o)}r._state==="closed"?Ua(r):r._state==="running"&&(r._state="ready")}function Di(r,t,e){if(r._state!=="closed"){if(r._state==="buffering"){r._queue.push({type:t,value:e});return}if(r._state!=="ready"){r._state="buffering",r._queue=[{type:t,value:e}],ln(function(){return pl(r)});return}ja(r,t,e)}}var dl=(function(){function r(t,e){Pi(this,r),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var n=new vl(this);try{this._cleanup=e.call(void 0,n)}catch(i){n.error(i)}this._state==="initializing"&&(this._state="ready")}return qi(r,[{key:"unsubscribe",value:function(){this._state!=="closed"&&(Mi(this),Ua(this))}},{key:"closed",get:function(){return this._state==="closed"}}]),r})(),vl=(function(){function r(t){Pi(this,r),this._subscription=t}return qi(r,[{key:"next",value:function(e){Di(this._subscription,"next",e)}},{key:"error",value:function(e){Di(this._subscription,"error",e)}},{key:"complete",value:function(){Di(this._subscription,"complete")}},{key:"closed",get:function(){return this._subscription._state==="closed"}}]),r})(),pn=(function(){function r(t){if(Pi(this,r),!(this instanceof r))throw new TypeError("Observable cannot be called as a function");if(typeof t!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=t}return qi(r,[{key:"subscribe",value:function(e){return(typeof e!="object"||e===null)&&(e={next:e,error:arguments[1],complete:arguments[2]}),new dl(e,this._subscriber)}},{key:"forEach",value:function(e){var n=this;return new Promise(function(i,o){if(typeof e!="function"){o(new TypeError(e+" is not a function"));return}function a(){s.unsubscribe(),i()}var s=n.subscribe({next:function(c){try{e(c,a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i})})}},{key:"map",value:function(e){var n=this;if(typeof e!="function")throw new TypeError(e+" is not a function");var i=lr(this);return new i(function(o){return n.subscribe({next:function(a){try{a=e(a)}catch(s){return o.error(s)}o.next(a)},error:function(a){o.error(a)},complete:function(){o.complete()}})})}},{key:"filter",value:function(e){var n=this;if(typeof e!="function")throw new TypeError(e+" is not a function");var i=lr(this);return new i(function(o){return n.subscribe({next:function(a){try{if(!e(a))return}catch(s){return o.error(s)}o.next(a)},error:function(a){o.error(a)},complete:function(){o.complete()}})})}},{key:"reduce",value:function(e){var n=this;if(typeof e!="function")throw new TypeError(e+" is not a function");var i=lr(this),o=arguments.length>1,a=!1,s=arguments[1],c=s;return new i(function(u){return n.subscribe({next:function(f){var l=!a;if(a=!0,!l||o)try{c=e(c,f)}catch(h){return u.error(h)}else c=f},error:function(f){u.error(f)},complete:function(){if(!a&&!o)return u.error(new TypeError("Cannot reduce an empty sequence"));u.next(c),u.complete()}})})}},{key:"concat",value:function(){for(var e=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=lr(this);return new a(function(s){var c,u=0;function f(l){c=l.subscribe({next:function(h){s.next(h)},error:function(h){s.error(h)},complete:function(){u===i.length?(c=void 0,s.complete()):f(a.from(i[u++]))}})}return f(e),function(){c&&(c.unsubscribe(),c=void 0)}})}},{key:"flatMap",value:function(e){var n=this;if(typeof e!="function")throw new TypeError(e+" is not a function");var i=lr(this);return new i(function(o){var a=[],s=n.subscribe({next:function(u){if(e)try{u=e(u)}catch(l){return o.error(l)}var f=i.from(u).subscribe({next:function(l){o.next(l)},error:function(l){o.error(l)},complete:function(){var l=a.indexOf(f);l>=0&&a.splice(l,1),c()}});a.push(f)},error:function(u){o.error(u)},complete:function(){c()}});function c(){s.closed&&a.length===0&&o.complete()}return function(){a.forEach(function(u){return u.unsubscribe()}),s.unsubscribe()}})}},{key:Fi,value:function(){return this}}],[{key:"from",value:function(e){var n=typeof this=="function"?this:r;if(e==null)throw new TypeError(e+" is not an object");var i=hn(e,Fi);if(i){var o=i.call(e);if(Object(o)!==o)throw new TypeError(o+" is not an object");return hl(o)&&o.constructor===n?o:new n(function(a){return o.subscribe(a)})}if(Ui("iterator")&&(i=hn(e,ll),i))return new n(function(a){ln(function(){if(!a.closed){var s=!0,c=!1,u=void 0;try{for(var f=i.call(e)[Symbol.iterator](),l;!(s=(l=f.next()).done);s=!0){var h=l.value;if(a.next(h),a.closed)return}}catch(v){c=!0,u=v}finally{try{!s&&f.return!=null&&f.return()}finally{if(c)throw u}}a.complete()}})});if(Array.isArray(e))return new n(function(a){ln(function(){if(!a.closed){for(var s=0;s<e.length;++s)if(a.next(e[s]),a.closed)return;a.complete()}})});throw new TypeError(e+" is not observable")}},{key:"of",value:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=typeof this=="function"?this:r;return new o(function(a){ln(function(){if(!a.closed){for(var s=0;s<n.length;++s)if(a.next(n[s]),a.closed)return;a.complete()}})})}},{key:La,get:function(){return this}}]),r})();dn.Observable=pn;Li()&&Object.defineProperty(pn,Symbol("extensions"),{value:{symbol:Fi,hostReportError:Ut},configurable:!0})});var Qa=L((xm,Va)=>{"use strict";Va.exports=Ba().Observable});function Bi(r){var t,e=r.Symbol;if(typeof e=="function")if(e.observable)t=e.observable;else{typeof e.for=="function"?t=e.for("https://github.com/benlesh/symbol-observable"):t=e("https://github.com/benlesh/symbol-observable");try{e.observable=t}catch{}}else t="@@observable";return t}var Ka=I(()=>{"use strict"});var jt,Am,Ga=I(()=>{"use strict";Ka();typeof self<"u"?jt=self:typeof window<"u"?jt=window:typeof global<"u"?jt=global:typeof module<"u"?jt=module:jt=Function("return this")();Am=Bi(jt)});var B,Wa,Ya,hr=I(()=>{"use strict";B=zr(Qa());Ga();Wa=B.default.prototype,Ya="@@observable";Wa[Ya]||(Wa[Ya]=function(){return this})});function Qi(r){return Vi(r)}function Vi(r,t){switch(ml.call(r)){case"[object Array]":{if(t=t||new Map,t.has(r))return t.get(r);var e=r.slice(0);return t.set(r,e),e.forEach(function(i,o){e[o]=Vi(i,t)}),e}case"[object Object]":{if(t=t||new Map,t.has(r))return t.get(r);var n=Object.create(Object.getPrototypeOf(r));return t.set(r,n),Object.keys(r).forEach(function(i){n[i]=Vi(r[i],t)}),n}default:return r}}var ml,Ha=I(()=>{"use strict";ml=Object.prototype.toString});function za(r){return r}var Ja=I(()=>{"use strict"});function st(r,t,e){var n=[];r.forEach(function(i){return i[t]&&n.push(i)}),n.forEach(function(i){return i[t](e)})}var Ki=I(()=>{"use strict"});function vn(r,t,e){return new B.default(function(n){var i=n.next,o=n.error,a=n.complete,s=0,c=!1,u={then:function(v){return new Promise(function(g){return g(v())})}};function f(v,g){return v?function(m){++s;var _=function(){return v(m)};u=u.then(_,_).then(function(k){--s,i&&i.call(n,k),c&&l.complete()},function(k){throw--s,k}).catch(function(k){o&&o.call(n,k)})}:function(m){return g&&g.call(n,m)}}var l={next:f(t,i),error:f(e,o),complete:function(){c=!0,s||a&&a.call(n)}},h=r.subscribe(l);return function(){return h.unsubscribe()}})}var Za=I(()=>{"use strict";hr()});function pr(r){function t(e){Object.defineProperty(r,e,{value:B.default})}return typeof Symbol=="function"&&Symbol.species&&t(Symbol.species),t("@@species"),r}var Gi=I(()=>{"use strict";hr()});function $a(r){return r&&typeof r.then=="function"}var Et,Xa=I(()=>{"use strict";Z();hr();Ki();Gi();Et=(function(r){le(t,r);function t(e){var n=r.call(this,function(i){return n.addObserver(i),function(){return n.removeObserver(i)}})||this;return n.observers=new Set,n.addCount=0,n.promise=new Promise(function(i,o){n.resolve=i,n.reject=o}),n.handlers={next:function(i){n.sub!==null&&(n.latest=["next",i],st(n.observers,"next",i))},error:function(i){var o=n.sub;o!==null&&(o&&Promise.resolve().then(function(){return o.unsubscribe()}),n.sub=null,n.latest=["error",i],n.reject(i),st(n.observers,"error",i))},complete:function(){if(n.sub!==null){var i=n.sources.shift();i?$a(i)?i.then(function(o){return n.sub=o.subscribe(n.handlers)}):n.sub=i.subscribe(n.handlers):(n.sub=null,n.latest&&n.latest[0]==="next"?n.resolve(n.latest[1]):n.resolve(),st(n.observers,"complete"))}}},n.cancel=function(i){n.reject(i),n.sources=[],n.handlers.complete()},n.promise.catch(function(i){}),typeof e=="function"&&(e=[new B.default(e)]),$a(e)?e.then(function(i){return n.start(i)},n.handlers.error):n.start(e),n}return t.prototype.start=function(e){this.sub===void 0&&(this.sources=Array.from(e),this.handlers.complete())},t.prototype.deliverLastMessage=function(e){if(this.latest){var n=this.latest[0],i=e[n];i&&i.call(e,this.latest[1]),this.sub===null&&n==="next"&&e.complete&&e.complete()}},t.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e),++this.addCount)},t.prototype.removeObserver=function(e,n){this.observers.delete(e)&&--this.addCount<1&&!n&&this.handlers.error(new Error("Observable cancelled prematurely"))},t.prototype.cleanup=function(e){var n=this,i=!1,o=function(){i||(i=!0,n.observers.delete(a),e())},a={next:o,error:o,complete:o},s=this.addCount;this.addObserver(a),this.addCount=s},t})(B.default);pr(Et)});function Qe(r){return Array.isArray(r)&&r.length>0}var es=I(()=>{"use strict"});function St(r){return r.errors&&r.errors.length>0||!1}var ts=I(()=>{"use strict"});var Ke,rs=I(()=>{"use strict";Ke=typeof WeakMap=="function"&&!(typeof navigator=="object"&&navigator.product==="ReactNative")});function dr(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=Object.create(null);return r.forEach(function(n){n&&Object.keys(n).forEach(function(i){var o=n[i];o!==void 0&&(e[i]=o)})}),e}var ns=I(()=>{"use strict"});var Wi={};yt(Wi,{Concast:()=>Et,DeepMerger:()=>Lt,Observable:()=>B.default,addTypenameToDocument:()=>_t,argumentsObjectFromField:()=>Mt,asyncMap:()=>vn,buildQueryFromSelectionSet:()=>un,canUseWeakMap:()=>Ke,checkDocument:()=>it,cloneDeep:()=>Qi,compact:()=>dr,concatPagination:()=>Da,createFragmentMap:()=>je,fixObservableSubclass:()=>pr,getDefaultValues:()=>at,getDirectiveNames:()=>xi,getFragmentDefinition:()=>on,getFragmentDefinitions:()=>Ve,getFragmentFromSelection:()=>Be,getFragmentQueryDocument:()=>Xr,getInclusionDirectives:()=>Oi,getMainDefinition:()=>ot,getOperationDefinition:()=>Ce,getOperationName:()=>bt,getQueryDefinition:()=>nn,getStoreKeyName:()=>fr,getTypenameFromResult:()=>gt,graphQLResultHasError:()=>St,hasClientExports:()=>$r,hasDirectives:()=>nt,isField:()=>ae,isInlineFragment:()=>Pt,isNonEmptyArray:()=>Qe,isReference:()=>$,iterateObserversSafely:()=>st,makeReference:()=>xe,maybeDeepFreeze:()=>za,mergeDeep:()=>wt,mergeDeepArray:()=>qt,offsetLimitPagination:()=>Fa,relayStylePagination:()=>Ma,removeArgumentsFromDocument:()=>Ii,removeClientSetsFromDocument:()=>cn,removeConnectionDirectiveFromDocument:()=>sn,removeDirectivesFromDocument:()=>an,removeFragmentSpreadFromDocument:()=>Ni,resultKeyNameFromField:()=>Te,shouldInclude:()=>Ue,storeKeyNameFromField:()=>tn,valueToObjectRepresentation:()=>Ze});var ee=I(()=>{"use strict";Sa();en();Ti();rn();Ca();Pa();hr();Ri();Ha();Ja();Ki();Za();Xa();Gi();es();ts();rs();ns()});function Bt(r){return new B.default(function(t){t.error(r)})}var is=I(()=>{"use strict";ee()});function Yi(r){var t=!1;return new Promise(function(e,n){r.subscribe({next:function(i){t||(t=!0,e(i))},error:n})})}var os=I(()=>{"use strict";ne()});function Hi(r){return new B.default(function(t){r.then(function(e){t.next(e),t.complete()}).catch(t.error.bind(t))})}var as=I(()=>{"use strict";ee()});var Vt,ss=I(()=>{"use strict";Vt=function(r,t,e){var n=new Error(e);throw n.name="ServerError",n.response=r,n.statusCode=r.status,n.result=t,n}});function zi(r){for(var t=["query","operationName","variables","extensions","context"],e=0,n=Object.keys(r);e<n.length;e++){var i=n[e];if(t.indexOf(i)<0)throw new Y(26)}return r}var us=I(()=>{"use strict";ne()});function Ji(r,t){var e=w({},r),n=function(o){typeof o=="function"?e=w(w({},e),o(e)):e=w(w({},e),o)},i=function(){return w({},e)};return Object.defineProperty(t,"setContext",{enumerable:!1,value:n}),Object.defineProperty(t,"getContext",{enumerable:!1,value:i}),t}var cs=I(()=>{"use strict";Z()});function Zi(r){var t={variables:r.variables||{},extensions:r.extensions||{},operationName:r.operationName,query:r.query};return t.operationName||(t.operationName=typeof t.query!="string"?bt(t.query)||void 0:""),t}var fs=I(()=>{"use strict";ee()});var vr=I(()=>{"use strict";is();os();as();ss();us();cs();fs()});function ls(r,t){return t?t(r):B.default.of()}function mr(r){return typeof r=="function"?new te(r):r}function mn(r){return r.request.length<=1}var Ly,te,xt=I(()=>{"use strict";Z();ne();ee();vr();Ly=(function(r){le(t,r);function t(e,n){var i=r.call(this,e)||this;return i.link=n,i}return t})(Error),te=(function(){function r(t){t&&(this.request=t)}return r.empty=function(){return new r(function(){return B.default.of()})},r.from=function(t){return t.length===0?r.empty():t.map(mr).reduce(function(e,n){return e.concat(n)})},r.split=function(t,e,n){var i=mr(e),o=mr(n||new r(ls));return mn(i)&&mn(o)?new r(function(a){return t(a)?i.request(a)||B.default.of():o.request(a)||B.default.of()}):new r(function(a,s){return t(a)?i.request(a,s)||B.default.of():o.request(a,s)||B.default.of()})},r.execute=function(t,e){return t.request(Ji(e.context,Zi(zi(e))))||B.default.of()},r.concat=function(t,e){var n=mr(t);if(mn(n))return n;var i=mr(e);return mn(i)?new r(function(o){return n.request(o,function(a){return i.request(a)||B.default.of()})||B.default.of()}):new r(function(o,a){return n.request(o,function(s){return i.request(s,a)||B.default.of()})||B.default.of()})},r.prototype.split=function(t,e,n){return this.concat(r.split(t,e,n||new r(ls)))},r.prototype.concat=function(t){return r.concat(this,t)},r.prototype.request=function(t,e){throw new Y(21)},r.prototype.onError=function(t,e){if(e&&e.error)return e.error(t),!1;throw t},r.prototype.setOnError=function(t){return this.onError=t,this},r})()});var hs,ps=I(()=>{"use strict";xt();hs=te.empty});var ds,vs=I(()=>{"use strict";xt();ds=te.from});var ms,ys=I(()=>{"use strict";xt();ms=te.split});var gs,bs=I(()=>{"use strict";xt();gs=te.concat});var Ot,_s=I(()=>{"use strict";xt();Ot=te.execute});var ws=I(()=>{"use strict"});var Tt=I(()=>{"use strict";ps();vs();ys();bs();_s();xt();ws()});var Es,Ss=I(()=>{"use strict";Es="3.3.20"});function yr(r){return function(t){return t.text().then(function(e){try{return JSON.parse(e)}catch(i){var n=i;throw n.name="ServerParseError",n.response=t,n.statusCode=t.status,n.bodyText=e,n}}).then(function(e){return t.status>=300&&Vt(t,e,"Response not successful: Received status code "+t.status),!Array.isArray(e)&&!xs.call(e,"data")&&!xs.call(e,"errors")&&Vt(t,e,"Server response was missing for query '"+(Array.isArray(r)?r.map(function(n){return n.operationName}):r.operationName)+"'."),e})}}var xs,$i=I(()=>{"use strict";vr();xs=Object.prototype.hasOwnProperty});var ut,yn=I(()=>{"use strict";ne();ut=function(r,t){var e;try{e=JSON.stringify(r)}catch(i){var n=new Y(23);throw n.parseError=i,n}return e}});var yl,gl,bl,gr,br,Xi=I(()=>{"use strict";Z();rt();yl={includeQuery:!0,includeExtensions:!1},gl={accept:"*/*","content-type":"application/json"},bl={method:"POST"},gr={http:yl,headers:gl,options:bl},br=function(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var i=w(w({},t.options),{headers:t.headers,credentials:t.credentials}),o=t.http||{};e.forEach(function(l){i=w(w(w({},i),l.options),{headers:w(w({},i.headers),l.headers)}),l.credentials&&(i.credentials=l.credentials),o=w(w({},o),l.http)});var a=r.operationName,s=r.extensions,c=r.variables,u=r.query,f={operationName:a,variables:c};return o.includeExtensions&&(f.extensions=s),o.includeQuery&&(f.query=ba(u)),{options:i,body:f}}});var _r,eo=I(()=>{"use strict";ne();_r=function(r){if(!r&&typeof fetch>"u")throw new Y(22)}});var wr,to=I(()=>{"use strict";wr=function(){if(typeof AbortController>"u")return{controller:!1,signal:!1};var r=new AbortController,t=r.signal;return{controller:r,signal:t}}});var Er,ro=I(()=>{"use strict";Er=function(r,t){var e=r.getContext(),n=e.uri;return n||(typeof t=="function"?t(r):t||"/graphql")}});function Sr(r,t){var e=[],n=function(l,h){e.push(l+"="+encodeURIComponent(h))};if("query"in t&&n("query",t.query),t.operationName&&n("operationName",t.operationName),t.variables){var i=void 0;try{i=ut(t.variables,"Variables map")}catch(l){return{parseError:l}}n("variables",i)}if(t.extensions){var o=void 0;try{o=ut(t.extensions,"Extensions map")}catch(l){return{parseError:l}}n("extensions",o)}var a="",s=r,c=r.indexOf("#");c!==-1&&(a=r.substr(c),s=r.substr(0,c));var u=s.indexOf("?")===-1?"?":"&",f=s+u+e.join("&")+a;return{newURI:f}}var no=I(()=>{"use strict";yn()});var xr,io=I(()=>{"use strict";Z();rt();Tt();ee();yn();ro();$i();eo();Xi();to();no();vr();xr=function(r){r===void 0&&(r={});var t=r.uri,e=t===void 0?"/graphql":t,n=r.fetch,i=r.includeExtensions,o=r.useGETForQueries,a=r.includeUnusedVariables,s=a===void 0?!1:a,c=be(r,["uri","fetch","includeExtensions","useGETForQueries","includeUnusedVariables"]);_r(n),n||(n=fetch);var u={http:{includeExtensions:i},options:c.fetchOptions,credentials:c.credentials,headers:c.headers};return new te(function(f){var l=Er(f,e),h=f.getContext(),v={};if(h.clientAwareness){var g=h.clientAwareness,m=g.name,_=g.version;m&&(v["apollographql-client-name"]=m),_&&(v["apollographql-client-version"]=_)}var k=w(w({},v),h.headers),T={http:h.http,options:h.fetchOptions,credentials:h.credentials,headers:k},N=br(f,gr,u,T),R=N.options,C=N.body;if(C.variables&&!s){var M=new Set(Object.keys(C.variables));Se(f.query,{Variable:function(A,x,D){D&&D.kind!=="VariableDefinition"&&M.delete(A.name.value)}}),M.size&&(C.variables=w({},C.variables),M.forEach(function(A){delete C.variables[A]}))}var F;if(!R.signal){var E=wr(),U=E.controller,G=E.signal;F=U,F&&(R.signal=G)}var p=function(A){return A.kind==="OperationDefinition"&&A.operation==="mutation"};if(o&&!f.query.definitions.some(p)&&(R.method="GET"),R.method==="GET"){var d=Sr(l,C),y=d.newURI,O=d.parseError;if(O)return Bt(O);l=y}else try{R.body=ut(C,"Payload")}catch(A){return Bt(A)}return new B.default(function(A){return n(l,R).then(function(x){return f.setContext({response:x}),x}).then(yr(f)).then(function(x){return A.next(x),A.complete(),x}).catch(function(x){x.name!=="AbortError"&&(x.result&&x.result.errors&&x.result.data&&A.next(x.result),A.error(x))}),function(){F&&F.abort()}})})}});var Or,Os=I(()=>{"use strict";Z();Tt();io();Or=(function(r){le(t,r);function t(e){e===void 0&&(e={});var n=r.call(this,xr(e).request)||this;return n.options=e,n}return t})(te)});var Ts={};yt(Ts,{HttpLink:()=>Or,checkFetcher:()=>_r,createHttpLink:()=>xr,createSignalIfSupported:()=>wr,fallbackHttpConfig:()=>gr,parseAndCheckHttpResponse:()=>yr,rewriteURIForGET:()=>Sr,selectHttpOptionsAndBody:()=>br,selectURI:()=>Er,serializeFetchParameter:()=>ut});var gn=I(()=>{"use strict";$i();yn();Xi();eo();to();ro();io();Os();no()});function _e(r,t){try{return ao(r,t)}finally{oo.clear()}}function ao(r,t){if(r===t)return!0;var e=As.call(r),n=As.call(t);if(e!==n)return!1;switch(e){case"[object Array]":if(r.length!==t.length)return!1;case"[object Object]":{if(Ns(r,t))return!0;var i=Is(r),o=Is(t),a=i.length;if(a!==o.length)return!1;for(var s=0;s<a;++s)if(!_l.call(t,i[s]))return!1;for(var s=0;s<a;++s){var c=i[s];if(!ao(r[c],t[c]))return!1}return!0}case"[object Error]":return r.name===t.name&&r.message===t.message;case"[object Number]":if(r!==r)return t!==t;case"[object Boolean]":case"[object Date]":return+r==+t;case"[object RegExp]":case"[object String]":return r==""+t;case"[object Map]":case"[object Set]":{if(r.size!==t.size)return!1;if(Ns(r,t))return!0;for(var u=r.entries(),f=e==="[object Map]";;){var l=u.next();if(l.done)break;var h=l.value,v=h[0],g=h[1];if(!t.has(v)||f&&!ao(g,t.get(v)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":r=new Uint8Array(r),t=new Uint8Array(t);case"[object DataView]":{var m=r.byteLength;if(m===t.byteLength)for(;m--&&r[m]===t[m];);return m===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{var _=ks.call(r);return _!==ks.call(t)?!1:!Sl(_,El)}}return!1}function Is(r){return Object.keys(r).filter(wl,r)}function wl(r){return this[r]!==void 0}function Sl(r,t){var e=r.length-t.length;return e>=0&&r.indexOf(t,e)===e}function Ns(r,t){var e=oo.get(r);if(e){if(e.has(t))return!0}else oo.set(r,e=new Set);return e.add(t),!1}var Rs,As,_l,ks,oo,El,Qt=I(()=>{"use strict";Rs=Object.prototype,As=Rs.toString,_l=Rs.hasOwnProperty,ks=Function.prototype.toString,oo=new Map;El="{ [native code] }"});function bn(r){return r.hasOwnProperty("graphQLErrors")}var xl,$e,so=I(()=>{"use strict";Z();ee();xl=function(r){var t="";return Qe(r.graphQLErrors)&&r.graphQLErrors.forEach(function(e){var n=e?e.message:"Error message not found.";t+=n+`
`}),r.networkError&&(t+=r.networkError.message+`
`),t=t.replace(/\n$/,""),t},$e=(function(r){le(t,r);function t(e){var n=e.graphQLErrors,i=e.networkError,o=e.errorMessage,a=e.extraInfo,s=r.call(this,o)||this;return s.graphQLErrors=n||[],s.networkError=i||null,s.message=o||xl(s),s.extraInfo=a,s.__proto__=t.prototype,s}return t})(Error)});function ct(r){return r?r<7:!1}var X,Kt=I(()=>{"use strict";X=(function(r){return r[r.loading=1]="loading",r[r.setVariables=2]="setVariables",r[r.fetchMore=3]="fetchMore",r[r.refetch=4]="refetch",r[r.poll=6]="poll",r[r.ready=7]="ready",r[r.error=8]="error",r})(X||{})});var Cs,Ds=I(()=>{"use strict";Kt();ee();ne();Cs=(function(){function r(t,e,n,i){this.observer=t,this.options=e,this.fetch=n,this.shouldFetch=i}return r.prototype.reobserve=function(t,e){t?this.updateOptions(t):this.updatePolling();var n=this.fetch(this.options,e);return this.concast&&this.concast.removeObserver(this.observer,!0),n.addObserver(this.observer),(this.concast=n).promise},r.prototype.updateOptions=function(t){return Object.assign(this.options,dr(t)),this.updatePolling(),this},r.prototype.stop=function(){this.concast&&(this.concast.removeObserver(this.observer),delete this.concast),this.pollingInfo&&(clearTimeout(this.pollingInfo.timeout),this.options.pollInterval=0,this.updatePolling())},r.prototype.updatePolling=function(){var t=this,e=this,n=e.pollingInfo,i=e.options.pollInterval;if(!i){n&&(clearTimeout(n.timeout),delete this.pollingInfo);return}if(!(n&&n.interval===i)&&(j(i,20),this.shouldFetch!==!1)){var o=n||(this.pollingInfo={});o.interval=i;var a=function(){t.pollingInfo&&(t.shouldFetch&&t.shouldFetch()?t.reobserve({fetchPolicy:"network-only",nextFetchPolicy:t.options.fetchPolicy||"cache-first"},X.poll).then(s,s):s())},s=function(){var c=t.pollingInfo;c&&(clearTimeout(c.timeout),c.timeout=setTimeout(a,c.interval))};s()}},r})()});function Ol(r){}var Tr,uo=I(()=>{"use strict";Z();ne();Qt();Kt();ee();Ds();Tr=(function(r){le(t,r);function t(e){var n=e.queryManager,i=e.queryInfo,o=e.options,a=r.call(this,function(c){return a.onSubscribe(c)})||this;a.observers=new Set,a.subscriptions=new Set,a.observer={next:function(c){(a.lastError||a.isDifferentFromLastResult(c))&&(a.updateLastResult(c),st(a.observers,"next",c))},error:function(c){a.updateLastResult(w(w({},a.lastResult),{error:c,errors:c.graphQLErrors,networkStatus:X.error,loading:!1})),st(a.observers,"error",a.lastError=c)}},a.isTornDown=!1,a.options=o,a.queryId=n.generateQueryId();var s=Ce(o.query);return a.queryName=s&&s.name&&s.name.value,a.queryManager=n,a.queryInfo=i,a}return Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return new Promise(function(n,i){var o={next:function(s){n(s),e.observers.delete(o),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout(function(){a.unsubscribe()},0)},error:i},a=e.subscribe(o)})},t.prototype.getCurrentResult=function(e){e===void 0&&(e=!0);var n=this.lastResult,i=this.queryInfo.networkStatus||n&&n.networkStatus||X.ready,o=w(w({},n),{loading:ct(i),networkStatus:i});if(this.isTornDown)return o;var a=this.options.fetchPolicy,s=a===void 0?"cache-first":a;if(s==="no-cache"||s==="network-only")delete o.partial;else if(!o.data||!this.queryManager.transform(this.options.query).hasForcedResolvers){var c=this.queryInfo.getDiff();o.data=c.complete||this.options.returnPartialData?c.result:void 0,c.complete?(o.networkStatus===X.loading&&(s==="cache-first"||s==="cache-only")&&(o.networkStatus=X.ready,o.loading=!1),delete o.partial):o.partial=!0}return e&&this.updateLastResult(o),o},t.prototype.isDifferentFromLastResult=function(e){return!_e(this.lastResultSnapshot,e)},t.prototype.getLastResult=function(){return this.lastResult},t.prototype.getLastError=function(){return this.lastError},t.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var n={pollInterval:0},i=this.options.fetchPolicy;return i!=="no-cache"&&i!=="cache-and-network"&&(n.fetchPolicy="network-only",n.nextFetchPolicy=i||"cache-first"),e&&!_e(this.options.variables,e)&&(n.variables=this.options.variables=w(w({},this.options.variables),e)),this.newReobserver(!1).reobserve(n,X.refetch)},t.prototype.fetchMore=function(e){var n=this,i=w(w({},e.query?e:w(w(w({},this.options),e),{variables:w(w({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"}),o=this.queryManager.generateQueryId();return i.notifyOnNetworkStatusChange&&(this.queryInfo.networkStatus=X.fetchMore,this.observe()),this.queryManager.fetchQuery(o,i,X.fetchMore).then(function(a){var s=a.data,c=e.updateQuery;return c?n.updateQuery(function(u){return c(u,{fetchMoreResult:s,variables:i.variables})}):n.queryManager.cache.writeQuery({query:i.query,variables:i.variables,data:s}),a}).finally(function(){n.queryManager.stopQuery(o),n.reobserve()})},t.prototype.subscribeToMore=function(e){var n=this,i=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(o){var a=e.updateQuery;a&&n.updateQuery(function(s,c){var u=c.variables;return a(s,{subscriptionData:o,variables:u})})},error:function(o){if(e.onError){e.onError(o);return}}});return this.subscriptions.add(i),function(){n.subscriptions.delete(i)&&i.unsubscribe()}},t.prototype.setOptions=function(e){return this.reobserve(e)},t.prototype.setVariables=function(e){if(_e(this.variables,e))return this.observers.size?this.result():Promise.resolve();if(this.options.variables=e,!this.observers.size)return Promise.resolve();var n=this.options.fetchPolicy,i=n===void 0?"cache-first":n,o={fetchPolicy:i,variables:e};return i!=="cache-first"&&i!=="no-cache"&&i!=="network-only"&&(o.fetchPolicy="cache-and-network",o.nextFetchPolicy=i),this.reobserve(o,X.setVariables)},t.prototype.updateQuery=function(e){var n,i=this.queryManager,o=i.cache.diff({query:this.options.query,variables:this.variables,previousResult:(n=this.lastResult)===null||n===void 0?void 0:n.data,returnPartialData:!0,optimistic:!1}).result,a=e(o,{variables:this.variables});a&&(i.cache.writeQuery({query:this.options.query,data:a,variables:this.variables}),i.broadcastQueries())},t.prototype.startPolling=function(e){this.getReobserver().updateOptions({pollInterval:e})},t.prototype.stopPolling=function(){this.reobserver&&this.reobserver.updateOptions({pollInterval:0})},t.prototype.updateLastResult=function(e){var n=this.lastResult;return this.lastResult=e,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?e:Qi(e),Qe(e.errors)||delete this.lastError,n},t.prototype.onSubscribe=function(e){var n=this;if(e===this.observer)return function(){};try{var i=e._subscription._observer;i&&!i.error&&(i.error=Ol)}catch{}var o=!this.observers.size;return this.observers.add(e),this.lastError?e.error&&e.error(this.lastError):this.lastResult&&e.next&&e.next(this.lastResult),o&&this.reobserve().catch(function(a){}),function(){n.observers.delete(e)&&!n.observers.size&&n.tearDownQuery()}},t.prototype.getReobserver=function(){return this.reobserver||(this.reobserver=this.newReobserver(!0))},t.prototype.newReobserver=function(e){var n=this,i=this,o=i.queryManager,a=i.queryId;return o.setObservableQuery(this),new Cs(this.observer,e?this.options:w({},this.options),function(s,c){return o.setObservableQuery(n),o.fetchQueryObservable(a,s,c)},!o.ssrMode&&function(){return!ct(n.queryInfo.networkStatus)})},t.prototype.reobserve=function(e,n){return this.isTornDown=!1,this.getReobserver().reobserve(e,n)},t.prototype.observe=function(){this.observer.next(this.getCurrentResult(!1))},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.reobserver&&(this.reobserver.stop(),delete this.reobserver),this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t})(B.default);pr(Tr)});function Il(r){switch(typeof r){case"object":if(r===null)break;case"function":return!0}return!1}var Tl,Fs,Al,kl,ft,co=I(()=>{"use strict";Tl=function(){return Object.create(null)},Fs=Array.prototype,Al=Fs.forEach,kl=Fs.slice,ft=(function(){function r(t,e){t===void 0&&(t=!0),e===void 0&&(e=Tl),this.weakness=t,this.makeData=e}return r.prototype.lookup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.lookupArray(t)},r.prototype.lookupArray=function(t){var e=this;return Al.call(t,function(n){return e=e.getChildTrie(n)}),e.data||(e.data=this.makeData(kl.call(t)))},r.prototype.getChildTrie=function(t){var e=this.weakness&&Il(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),n=e.get(t);return n||e.set(t,n=new r(this.weakness,this.makeData)),n},r})()});var ue,Ms,Nl,Rl,fo,lo,Gt,Cl,Dl,_n=I(()=>{"use strict";ue=null,Ms={},Nl=1,Rl=function(){return(function(){function r(){this.id=["slot",Nl++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return r.prototype.hasValue=function(){for(var t=ue;t;t=t.parent)if(this.id in t.slots){var e=t.slots[this.id];if(e===Ms)break;return t!==ue&&(ue.slots[this.id]=e),!0}return ue&&(ue.slots[this.id]=Ms),!1},r.prototype.getValue=function(){if(this.hasValue())return ue.slots[this.id]},r.prototype.withValue=function(t,e,n,i){var o,a=(o={__proto__:null},o[this.id]=t,o),s=ue;ue={parent:s,slots:a};try{return e.apply(i,n)}finally{ue=s}},r.bind=function(t){var e=ue;return function(){var n=ue;try{return ue=e,t.apply(this,arguments)}finally{ue=n}}},r.noContext=function(t,e,n){if(ue){var i=ue;try{return ue=null,t.apply(n,e)}finally{ue=i}}else return t.apply(n,e)},r})()},fo="@wry/context:Slot",lo=Array,Gt=lo[fo]||(function(){var r=Rl();try{Object.defineProperty(lo,fo,{value:lo[fo]=r,enumerable:!1,writable:!1,configurable:!1})}finally{return r}})(),Cl=Gt.bind,Dl=Gt.noContext});function Fl(){}function wn(r){var t=r.unsubscribe;typeof t=="function"&&(r.unsubscribe=void 0,t())}function Wt(r,t){if(!r)throw new Error(t||"assertion failure")}function Ll(r,t){var e=r.length;return e>0&&e===t.length&&r[e-1]===t[e-1]}function qs(r){switch(r.length){case 0:throw new Error("unknown value");case 1:return r[0];case 2:throw r[1]}}function Ul(r){return r.slice(0)}function Ps(r){var t=En.getValue();if(t)return r.parents.add(t),t.childValues.has(r)||t.childValues.set(r,[]),lt(r)?js(t,r):Bs(t,r),t}function Bl(r,t){return Qs(r),En.withValue(r,Vl,[r,t]),Kl(r,t)&&Ql(r),qs(r.value)}function Vl(r,t){r.recomputing=!0,r.value.length=0;try{r.value[0]=r.fn.apply(null,t)}catch(e){r.value[1]=e}r.recomputing=!1}function lt(r){return r.dirty||!!(r.dirtyChildren&&r.dirtyChildren.size)}function Ql(r){r.dirty=!1,!lt(r)&&Us(r)}function Ls(r){mo(r,js)}function Us(r){mo(r,Bs)}function mo(r,t){var e=r.parents.size;if(e)for(var n=vo(r.parents),i=0;i<e;++i)t(n[i],r)}function js(r,t){Wt(r.childValues.has(t)),Wt(lt(t));var e=!lt(r);if(!r.dirtyChildren)r.dirtyChildren=Ar.pop()||new Set;else if(r.dirtyChildren.has(t))return;r.dirtyChildren.add(t),e&&Ls(r)}function Bs(r,t){Wt(r.childValues.has(t)),Wt(!lt(t));var e=r.childValues.get(t);e.length===0?r.childValues.set(t,Ul(t.value)):Ll(e,t.value)||r.setDirty(),Vs(r,t),!lt(r)&&Us(r)}function Vs(r,t){var e=r.dirtyChildren;e&&(e.delete(t),e.size===0&&(Ar.length<ql&&Ar.push(e),r.dirtyChildren=null))}function Qs(r){r.childValues.size>0&&r.childValues.forEach(function(t,e){Ks(r,e)}),r.forgetDeps(),Wt(r.dirtyChildren===null)}function Ks(r,t){t.parents.delete(r),r.childValues.delete(t),Vs(r,t)}function Kl(r,t){if(typeof r.subscribe=="function")try{wn(r),r.unsubscribe=r.subscribe.apply(null,t)}catch{return r.setDirty(),!1}return!0}function Yt(r){var t=new Map,e=r&&r.subscribe;function n(i){var o=En.getValue();if(o){var a=t.get(i);a||t.set(i,a=new Set),o.dependOn(a),typeof e=="function"&&(wn(a),a.unsubscribe=e(i))}}return n.dirty=function(o,a){var s=t.get(o);if(s){var c=a&&Pl.call(Gl,a)?a:"setDirty";vo(s).forEach(function(u){return u[c]()}),t.delete(o),wn(s)}},n}function Gs(){var r=new ft(typeof WeakMap=="function");return function(){return r.lookupArray(arguments)}}function At(r,t){t===void 0&&(t=Object.create(null));var e=new Ml(t.max||Math.pow(2,16),function(u){return u.dispose()}),n=t.keyArgs,i=t.makeCacheKey||Gs(),o=function(){var u=i.apply(null,n?n.apply(null,arguments):arguments);if(u===void 0)return r.apply(null,arguments);var f=e.get(u);f||(e.set(u,f=new jl(r)),f.subscribe=t.subscribe,f.forget=function(){return e.delete(u)});var l=f.recompute(Array.prototype.slice.call(arguments));return e.set(u,f),po.add(e),En.hasValue()||(po.forEach(function(h){return h.clean()}),po.clear()),l};Object.defineProperty(o,"size",{get:function(){return e.map.size},configurable:!1,enumerable:!1});function a(u){var f=e.get(u);f&&f.setDirty()}o.dirtyKey=a,o.dirty=function(){a(i.apply(null,arguments))};function s(u){var f=e.get(u);if(f)return f.peek()}o.peekKey=s,o.peek=function(){return s(i.apply(null,arguments))};function c(u){return e.delete(u)}return o.forgetKey=c,o.forget=function(){return c(i.apply(null,arguments))},o.makeCacheKey=i,o.getKey=n?function(){return i.apply(null,n.apply(null,arguments))}:i,Object.freeze(o)}var Ml,En,ho,Pl,vo,Ar,ql,jl,Gl,pg,po,kt=I(()=>{"use strict";co();co();_n();_n();Ml=(function(){function r(t,e){t===void 0&&(t=1/0),e===void 0&&(e=Fl),this.max=t,this.dispose=e,this.map=new Map,this.newest=null,this.oldest=null}return r.prototype.has=function(t){return this.map.has(t)},r.prototype.get=function(t){var e=this.getNode(t);return e&&e.value},r.prototype.getNode=function(t){var e=this.map.get(t);if(e&&e!==this.newest){var n=e.older,i=e.newer;i&&(i.older=n),n&&(n.newer=i),e.older=this.newest,e.older.newer=e,e.newer=null,this.newest=e,e===this.oldest&&(this.oldest=i)}return e},r.prototype.set=function(t,e){var n=this.getNode(t);return n?n.value=e:(n={key:t,value:e,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(t,n),n.value)},r.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},r.prototype.delete=function(t){var e=this.map.get(t);return e?(e===this.newest&&(this.newest=e.older),e===this.oldest&&(this.oldest=e.newer),e.newer&&(e.newer.older=e.older),e.older&&(e.older.newer=e.newer),this.map.delete(t),this.dispose(e.value,t),!0):!1},r})(),En=new Gt,Pl=Object.prototype.hasOwnProperty,vo=(ho=Array.from,ho===void 0?function(r){var t=[];return r.forEach(function(e){return t.push(e)}),t}:ho);Ar=[],ql=100;jl=(function(){function r(t){this.fn=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++r.count}return r.prototype.peek=function(){if(this.value.length===1&&!lt(this))return Ps(this),this.value[0]},r.prototype.recompute=function(t){return Wt(!this.recomputing,"already recomputing"),Ps(this),lt(this)?Bl(this,t):qs(this.value)},r.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Ls(this),wn(this))},r.prototype.dispose=function(){var t=this;this.setDirty(),Qs(this),mo(this,function(e,n){e.setDirty(),Ks(e,t)})},r.prototype.forget=function(){this.dispose()},r.prototype.dependOn=function(t){t.add(this),this.deps||(this.deps=Ar.pop()||new Set),this.deps.add(t)},r.prototype.forgetDeps=function(){var t=this;this.deps&&(vo(this.deps).forEach(function(e){return e.delete(t)}),this.deps.clear(),Ar.push(this.deps),this.deps=null)},r.count=0,r})();Gl={setDirty:!0,dispose:!0,forget:!0};pg=Gs(),po=new Set});var kr,yo=I(()=>{"use strict";kt();ee();kr=(function(){function r(){this.getFragmentDoc=At(Xr)}return r.prototype.recordOptimisticTransaction=function(t,e){this.performTransaction(t,e)},r.prototype.transformDocument=function(t){return t},r.prototype.identify=function(t){},r.prototype.gc=function(){return[]},r.prototype.modify=function(t){return!1},r.prototype.transformForLink=function(t){return t},r.prototype.readQuery=function(t,e){return e===void 0&&(e=!!t.optimistic),this.read({rootId:t.id||"ROOT_QUERY",query:t.query,variables:t.variables,returnPartialData:t.returnPartialData,optimistic:e})},r.prototype.readFragment=function(t,e){return e===void 0&&(e=!!t.optimistic),this.read({query:this.getFragmentDoc(t.fragment,t.fragmentName),variables:t.variables,rootId:t.id,returnPartialData:t.returnPartialData,optimistic:e})},r.prototype.writeQuery=function(t){return this.write({dataId:t.id||"ROOT_QUERY",result:t.data,query:t.query,variables:t.variables,broadcast:t.broadcast})},r.prototype.writeFragment=function(t){return this.write({dataId:t.id,result:t.data,variables:t.variables,query:this.getFragmentDoc(t.fragment,t.fragmentName),broadcast:t.broadcast})},r})()});var Ir,Ws=I(()=>{"use strict";Ir||(Ir={})});var It,Sn=I(()=>{"use strict";It=(function(){function r(t,e,n,i,o){this.message=t,this.path=e,this.query=n,this.clientOnly=i,this.variables=o}return r})()});function Xe(r){var t=r.match(go);return t?t[0]:r}function xn(r,t,e){return t&&typeof t=="object"?Array.isArray(t)?t.every(function(n){return xn(r,n,e)}):r.selections.every(function(n){if(ae(n)&&Ue(n,e)){var i=Te(n);return oe.call(t,i)&&(!n.selectionSet||xn(n.selectionSet,t[i],e))}return!0}):!1}function Nr(r){return r!==null&&typeof r=="object"&&!$(r)&&!Array.isArray(r)}function Ys(){return new Lt}var oe,go,Rr=I(()=>{"use strict";ee();oe=Object.prototype.hasOwnProperty,go=/^[_a-z][_0-9a-z]*/i});function _o(r,t){return t+"#"+r}function Wl(r,t,e){var n=r[e],i=t[e];return _e(n,i)?n:i}function zt(r){return!!(r instanceof Ht&&r.group.caching)}var On,bo,Hs,Ht,zs,ht,wo=I(()=>{"use strict";Z();kt();Qt();ee();Rr();On=Object.create(null),bo=function(){return On},Hs=Object.create(null),Ht=(function(){function r(t,e){var n=this;this.policies=t,this.group=e,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(i,o){return $(i)?n.get(i.__ref,o):i&&i[o]},this.canRead=function(i){return $(i)?n.has(i.__ref):typeof i=="object"},this.toReference=function(i,o){if(typeof i=="string")return xe(i);if($(i))return i;var a=n.policies.identify(i)[0];if(a){var s=xe(a);return o&&n.merge(a,i),s}}}return r.prototype.toObject=function(){return w({},this.data)},r.prototype.has=function(t){return this.lookup(t,!0)!==void 0},r.prototype.get=function(t,e){if(this.group.depend(t,e),oe.call(this.data,t)){var n=this.data[t];if(n&&oe.call(n,e))return n[e]}if(e==="__typename"&&oe.call(this.policies.rootTypenamesById,t))return this.policies.rootTypenamesById[t];if(this instanceof ht)return this.parent.get(t,e)},r.prototype.lookup=function(t,e){if(e&&this.group.depend(t,"__exists"),oe.call(this.data,t))return this.data[t];if(this instanceof ht)return this.parent.lookup(t,e);if(this.policies.rootTypenamesById[t])return Object.create(null)},r.prototype.merge=function(t,e){var n=this,i=this.lookup(t),o=new Lt(Wl).merge(i,e);if(this.data[t]=o,o!==i&&(delete this.refs[t],this.group.caching)){var a=Object.create(null);i||(a.__exists=1),Object.keys(e).forEach(function(s){if(!i||i[s]!==o[s]){a[s]=1;var c=Xe(s);c!==s&&!n.policies.hasKeyArgs(o.__typename,c)&&(a[c]=1),o[s]===void 0&&!(n instanceof ht)&&delete o[s]}}),Object.keys(a).forEach(function(s){return n.group.dirty(t,s)})}},r.prototype.modify=function(t,e){var n=this,i=this.lookup(t);if(i){var o=Object.create(null),a=!1,s=!0,c={DELETE:On,INVALIDATE:Hs,isReference:$,toReference:this.toReference,canRead:this.canRead,readField:function(u,f){return n.policies.readField(typeof u=="string"?{fieldName:u,from:f||xe(t)}:u,{store:n})}};if(Object.keys(i).forEach(function(u){var f=Xe(u),l=i[u];if(l!==void 0){var h=typeof e=="function"?e:e[u]||e[f];if(h){var v=h===bo?On:h(l,w(w({},c),{fieldName:f,storeFieldName:u,storage:n.getStorage(t,u)}));v===Hs?n.group.dirty(t,u):(v===On&&(v=void 0),v!==l&&(o[u]=v,a=!0,l=v))}l!==void 0&&(s=!1)}}),a)return this.merge(t,o),s&&(this instanceof ht?this.data[t]=void 0:delete this.data[t],this.group.dirty(t,"__exists")),!0}return!1},r.prototype.delete=function(t,e,n){var i,o=this.lookup(t);if(o){var a=this.getFieldValue(o,"__typename"),s=e&&n?this.policies.getStoreFieldName({typename:a,fieldName:e,args:n}):e;return this.modify(t,s?(i={},i[s]=bo,i):bo)}return!1},r.prototype.evict=function(t){var e=!1;return t.id&&(oe.call(this.data,t.id)&&(e=this.delete(t.id,t.fieldName,t.args)),this instanceof ht&&(e=this.parent.evict(t)||e),(t.fieldName||e)&&this.group.dirty(t.id,t.fieldName||"__exists")),e},r.prototype.clear=function(){this.replace(null)},r.prototype.extract=function(){var t=this,e=this.toObject(),n=[];return this.getRootIdSet().forEach(function(i){oe.call(t.policies.rootTypenamesById,i)||n.push(i)}),n.length&&(e.__META={extraRootIds:n.sort()}),e},r.prototype.replace=function(t){var e=this;if(Object.keys(this.data).forEach(function(o){t&&oe.call(t,o)||e.delete(o)}),t){var n=t.__META,i=be(t,["__META"]);Object.keys(i).forEach(function(o){e.merge(o,i[o])}),n&&n.extraRootIds.forEach(this.retain,this)}},r.prototype.retain=function(t){return this.rootIds[t]=(this.rootIds[t]||0)+1},r.prototype.release=function(t){if(this.rootIds[t]>0){var e=--this.rootIds[t];return e||delete this.rootIds[t],e}return 0},r.prototype.getRootIdSet=function(t){return t===void 0&&(t=new Set),Object.keys(this.rootIds).forEach(t.add,t),this instanceof ht?this.parent.getRootIdSet(t):Object.keys(this.policies.rootTypenamesById).forEach(t.add,t),t},r.prototype.gc=function(){var t=this,e=this.getRootIdSet(),n=this.toObject();e.forEach(function(a){oe.call(n,a)&&(Object.keys(t.findChildRefIds(a)).forEach(e.add,e),delete n[a])});var i=Object.keys(n);if(i.length){for(var o=this;o instanceof ht;)o=o.parent;i.forEach(function(a){return o.delete(a)})}return i},r.prototype.findChildRefIds=function(t){if(!oe.call(this.refs,t)){var e=this.refs[t]=Object.create(null),n=new Set([this.data[t]]),i=function(o){return o!==null&&typeof o=="object"};n.forEach(function(o){$(o)?e[o.__ref]=!0:i(o)&&Object.values(o).filter(i).forEach(n.add,n)})}return this.refs[t]},r.prototype.makeCacheKey=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.group.keyMaker.lookupArray(t)},r})(),zs=(function(){function r(t){this.caching=t,this.d=null,this.keyMaker=new ft(Ke),this.d=t?Yt():null}return r.prototype.depend=function(t,e){if(this.d){this.d(_o(t,e));var n=Xe(e);n!==e&&this.d(_o(t,n))}},r.prototype.dirty=function(t,e){this.d&&this.d.dirty(_o(t,e))},r})();(function(r){var t=(function(e){le(n,e);function n(i){var o=i.policies,a=i.resultCaching,s=a===void 0?!0:a,c=i.seed,u=e.call(this,o,new zs(s))||this;return u.storageTrie=new ft(Ke),u.sharedLayerGroup=new zs(s),c&&u.replace(c),u}return n.prototype.addLayer=function(i,o){return new ht(i,this,o,this.sharedLayerGroup)},n.prototype.removeLayer=function(){return this},n.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},n})(r);r.Root=t})(Ht||(Ht={}));ht=(function(r){le(t,r);function t(e,n,i,o){var a=r.call(this,n.policies,o)||this;return a.id=e,a.parent=n,a.replay=i,a.group=o,i(a),a}return t.prototype.addLayer=function(e,n){return new t(e,this,n,this.group)},t.prototype.removeLayer=function(e){var n=this,i=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(o){n.data[o]!==i.lookup(o)&&n.delete(o)}),i):i===this.parent?this:i.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return w(w({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(e){var n=this.parent.findChildRefIds(e);return oe.call(this.data,e)?w(w({},n),r.prototype.findChildRefIds.call(this,e)):n},t.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},t})(Ht)});function Js(r,t){return new It(r.message,t.path.slice(),t.query,t.clientOnly,t.variables)}var Zs,$s=I(()=>{"use strict";Z();kt();ne();ee();wo();Sn();Zs=(function(){function r(t){var e=this;this.config=t,this.executeSelectionSet=At(function(n){return e.execSelectionSetImpl(n)},{keyArgs:function(n){return[n.selectionSet,n.objectOrReference,n.context]},makeCacheKey:function(n,i,o){if(zt(o.store))return o.store.makeCacheKey(n,$(i)?i.__ref:i,o.varString)}}),this.knownResults=new WeakMap,this.executeSubSelectedArray=At(function(n){return e.execSubSelectedArrayImpl(n)},{makeCacheKey:function(n){var i=n.field,o=n.array,a=n.context;if(zt(a.store))return a.store.makeCacheKey(i,o,a.varString)}}),this.config=w({addTypename:!0},t)}return r.prototype.diffQueryAgainstStore=function(t){var e=t.store,n=t.query,i=t.rootId,o=i===void 0?"ROOT_QUERY":i,a=t.variables,s=t.returnPartialData,c=s===void 0?!0:s,u=this.config.cache.policies;a=w(w({},at(nn(n))),a);var f=this.executeSelectionSet({selectionSet:ot(n).selectionSet,objectOrReference:xe(o),context:{store:e,query:n,policies:u,variables:a,varString:JSON.stringify(a),fragmentMap:je(Ve(n)),path:[],clientOnly:!1}}),l=f.missing&&f.missing.length>0;if(l&&!c)throw f.missing[0];return{result:f.result,missing:f.missing,complete:!l}},r.prototype.isFresh=function(t,e,n,i){if(zt(i.store)&&this.knownResults.get(t)===n){var o=this.executeSelectionSet.peek(n,e,i);if(o&&t===o.result)return!0}return!1},r.prototype.execSelectionSetImpl=function(t){var e=this,n=t.selectionSet,i=t.objectOrReference,o=t.context;if($(i)&&!o.policies.rootTypenamesById[i.__ref]&&!o.store.has(i.__ref))return{result:{},missing:[Js(new Y(4),o)]};var a=o.variables,s=o.policies,c=o.store,u=[],f={result:null},l=c.getFieldValue(i,"__typename");this.config.addTypename&&typeof l=="string"&&!s.rootIdsByTypename[l]&&u.push({__typename:l});function h(){return f.missing||(f.missing=[])}function v(m){var _;return m.missing&&(_=h()).push.apply(_,m.missing),m.result}var g=new Set(n.selections);return g.forEach(function(m){var _;if(Ue(m,a))if(ae(m)){var k=s.readField({fieldName:m.name.value,field:m,variables:o.variables,from:i},o),T=Te(m);o.path.push(T);var N=o.clientOnly;o.clientOnly=N||!!(m.directives&&m.directives.some(function(C){return C.name.value==="client"})),k===void 0?_t.added(m)||h().push(Js(new Y(5),o)):Array.isArray(k)?k=v(e.executeSubSelectedArray({field:m,array:k,context:o})):m.selectionSet&&k!=null&&(k=v(e.executeSelectionSet({selectionSet:m.selectionSet,objectOrReference:k,context:o}))),k!==void 0&&u.push((_={},_[T]=k,_)),o.clientOnly=N,j(o.path.pop()===T)}else{var R=Be(m,o.fragmentMap);R&&s.fragmentMatches(R,l)&&R.selectionSet.selections.forEach(g.add,g)}}),f.result=qt(u),this.knownResults.set(f.result,n),f},r.prototype.execSubSelectedArrayImpl=function(t){var e=this,n=t.field,i=t.array,o=t.context,a;function s(c,u){return c.missing&&(a=a||[],a.push.apply(a,c.missing)),j(o.path.pop()===u),c.result}return n.selectionSet&&(i=i.filter(o.store.canRead)),i=i.map(function(c,u){return c===null?null:(o.path.push(u),Array.isArray(c)?s(e.executeSubSelectedArray({field:n,array:c,context:o}),u):n.selectionSet?s(e.executeSelectionSet({selectionSet:n.selectionSet,objectOrReference:c,context:o}),u):(j(o.path.pop()===u),c))}),{result:i,missing:a}},r})()});function Xs(r,t){var e=r.map;return e.has(t)||e.set(t,ru.pop()||{map:new Map}),e.get(t)}function eu(r,t){var e=r.map,n=e.get(t);n&&!n.info&&!n.map.size&&(ru.push(n),e.delete(t))}var tu,ru,nu=I(()=>{"use strict";Z();ne();Qt();ee();Rr();tu=(function(){function r(t,e){this.cache=t,this.reader=e}return r.prototype.writeToStore=function(t){var e=t.query,n=t.result,i=t.dataId,o=t.store,a=t.variables,s=Ce(e),c=Ys();a=w(w({},at(s)),a);var u=this.processSelectionSet({result:n||Object.create(null),dataId:i,selectionSet:s.selectionSet,mergeTree:{map:new Map},context:{store:o,written:Object.create(null),merge:function(f,l){return c.merge(f,l)},variables:a,varString:JSON.stringify(a),fragmentMap:je(Ve(e))}});if(!$(u))throw new Y(7);return o.retain(u.__ref),u},r.prototype.processSelectionSet=function(t){var e=this,n=t.dataId,i=t.result,o=t.selectionSet,a=t.context,s=t.mergeTree,c=this.cache.policies,u=c.identify(i,o,a.fragmentMap),f=u[0],l=u[1];if(n=n||f,typeof n=="string"){var h=a.written[n]||(a.written[n]=[]),v=xe(n);if(h.indexOf(o)>=0||(h.push(o),this.reader&&this.reader.isFresh(i,v,o,a)))return v}var g=Object.create(null);l&&(g=a.merge(g,l));var m=n&&c.rootTypenamesById[n]||gt(i,o,a.fragmentMap)||n&&a.store.get(n,"__typename");typeof m=="string"&&(g.__typename=m);var _=new Set(o.selections);if(_.forEach(function(C){var M;if(Ue(C,a.variables))if(ae(C)){var F=Te(C),E=i[F];if(typeof E<"u"){var U=c.getStoreFieldName({typename:m,fieldName:C.name.value,field:C,variables:a.variables}),G=Xs(s,U),p=e.processFieldValue(E,C,a,G),d=C.selectionSet&&a.store.getFieldValue(p,"__typename")||void 0,y=c.getMergeFunction(m,C.name.value,d);y?G.info={field:C,typename:m,merge:y}:eu(s,U),g=a.merge(g,(M={},M[U]=p,M))}else if(c.usingPossibleTypes&&!nt(["defer","client"],C))throw new Y(8)}else{var O=Be(C,a.fragmentMap);O&&c.fragmentMatches(O,m,i,a.variables)&&O.selectionSet.selections.forEach(_.add,_)}}),typeof n=="string"){var k=xe(n);if(s.map.size&&(g=this.applyMerges(s,k,g,a)),0)var T,N,R;return a.store.merge(n,g),k}return g},r.prototype.processFieldValue=function(t,e,n,i){var o=this;return!e.selectionSet||t===null?t:Array.isArray(t)?t.map(function(a,s){var c=o.processFieldValue(a,e,n,Xs(i,s));return eu(i,s),c}):this.processSelectionSet({result:t,selectionSet:e.selectionSet,context:n,mergeTree:i})},r.prototype.applyMerges=function(t,e,n,i,o){var a,s=this;if(t.map.size&&!$(n)){var c=!Array.isArray(n)&&($(e)||Nr(e))?e:void 0,u=n;c&&!o&&(o=[$(c)?c.__ref:c]);var f,l=function(h,v){return Array.isArray(h)?typeof v=="number"?h[v]:void 0:i.store.getFieldValue(h,String(v))};t.map.forEach(function(h,v){o&&o.push(v);var g=l(c,v),m=l(u,v),_=s.applyMerges(h,g,m,i,o);_!==m&&(f=f||new Map,f.set(v,_)),o&&j(o.pop()===v)}),f&&(n=Array.isArray(u)?u.slice(0):w({},u),f.forEach(function(h,v){n[v]=h}))}return t.info?this.cache.policies.runMergeFunction(e,n,t.info,i,o&&(a=i.store).getStorage.apply(a,o)):n},r})(),ru=[]});function Cr(r){var t=iu.get(r);return t||iu.set(r,t={vars:new Set,dep:Yt()}),t}function ou(r){Cr(r).vars.forEach(function(t){return t.forgetCache(r)})}function au(r){Cr(r).vars.forEach(function(t){return t.attachCache(r)})}function Dr(r){var t=new Set,e=new Set,n=function(o){if(arguments.length>0){if(r!==o){r=o,t.forEach(function(c){Cr(c).dep.dirty(n),Yl(c)});var a=Array.from(e);e.clear(),a.forEach(function(c){return c(r)})}}else{var s=Jt.getValue();s&&(i(s),Cr(s).dep(n))}return r};n.onNextChange=function(o){return e.add(o),function(){e.delete(o)}};var i=n.attachCache=function(o){return t.add(o),Cr(o).vars.add(n),n};return n.forgetCache=function(o){return t.delete(o)},n}function Yl(r){r.broadcastWatches&&r.broadcastWatches()}var Jt,iu,Tn=I(()=>{"use strict";kt();_n();Jt=new Gt,iu=new WeakMap});function Eo(r){return r.args!==void 0?r.args:r.field?Mt(r.field,r.variables):null}function fu(r,t,e,n,i){var o=r.getStoreFieldName(e),a=Xe(o),s=e.variables||n.variables,c=n.store,u=c.getFieldValue,f=c.toReference,l=c.canRead;return{args:Eo(e),field:e.field||null,fieldName:a,storeFieldName:o,variables:s,isReference:$,toReference:f,storage:i,cache:r.cache,canRead:l,readField:function(h,v){var g=typeof h=="string"?{fieldName:h,from:v}:w({},h);return g.from===void 0&&(g.from=t),g.variables===void 0&&(g.variables=s),r.readField(g,n)},mergeObjects:du(u)}}function du(r){return function(e,n){if(Array.isArray(e)||Array.isArray(n))throw new Y(2);if(e&&typeof e=="object"&&n&&typeof n=="object"){var i=r(e,"__typename"),o=r(n,"__typename"),a=i&&o&&i!==o;return a||!Nr(e)||!Nr(n)?n:w(w({},e),n)}return n}}function lu(r){return function(t,e){return t?e.fieldName+":"+JSON.stringify(So(t,r,!1)):e.fieldName}}function hu(r){var t=new ft(Ke);return function(e,n){var i;if(n.selectionSet&&n.fragmentMap){var o=t.lookupArray([n.selectionSet,n.fragmentMap]);i=o.aliasMap||(o.aliasMap=vu(n.selectionSet,n.fragmentMap))}var a=n.keyObject=So(e,r,!0,i);return n.typename+":"+JSON.stringify(a)}}function vu(r,t){var e=Object.create(null),n=new Set([r]);return n.forEach(function(i){i.selections.forEach(function(o){if(ae(o)){if(o.alias){var a=o.alias.value,s=o.name.value;if(s!==a){var c=e.aliases||(e.aliases=Object.create(null));c[s]=a}}if(o.selectionSet){var u=e.subsets||(e.subsets=Object.create(null));u[o.name.value]=vu(o.selectionSet,t)}}else{var f=Be(o,t);f&&n.add(f.selectionSet)}})}),e}function So(r,t,e,n){var i=Object.create(null),o;return t.forEach(function(a){if(Array.isArray(a)){if(typeof o=="string"){var s=n&&n.subsets,c=s&&s[o];i[o]=So(r[o],a,e,c)}}else{var u=n&&n.aliases,f=u&&u[a]||a;oe.call(r,f)?i[o=a]=r[f]:(j(!e,3),o=void 0)}}),i}var Zt,Hl,su,uu,cu,pu,xo=I(()=>{"use strict";Z();kt();ne();ee();Rr();Tn();Zt=function(r,t){var e=r.__typename,n=r.id,i=r._id;if(typeof e=="string"&&(t&&(t.keyObject=n!==void 0?{id:n}:i!==void 0?{_id:i}:void 0),n===void 0&&(n=i),n!==void 0))return e+":"+(typeof n=="number"||typeof n=="string"?n:JSON.stringify(n))},Hl=function(){},su=function(r,t){return t.fieldName},uu=function(r,t,e){var n=e.mergeObjects;return n(r,t)},cu=function(r,t){return t},pu=(function(){function r(t){this.config=t,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=w({dataIdFromObject:Zt},t),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),t.possibleTypes&&this.addPossibleTypes(t.possibleTypes),t.typePolicies&&this.addTypePolicies(t.typePolicies)}return r.prototype.identify=function(t,e,n){var i=e&&n?gt(t,e,n):t.__typename;if(i===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var o={typename:i,selectionSet:e,fragmentMap:n},a,s=i&&this.getTypePolicy(i),c=s&&s.keyFn||this.config.dataIdFromObject;c;){var u=c(t,o);if(Array.isArray(u))c=hu(u);else{a=u;break}}return a=a?String(a):void 0,o.keyObject?[a,o.keyObject]:[a]},r.prototype.addTypePolicies=function(t){var e=this;Object.keys(t).forEach(function(n){var i=t[n],o=i.queryType,a=i.mutationType,s=i.subscriptionType,c=be(i,["queryType","mutationType","subscriptionType"]);o&&e.setRootTypename("Query",n),a&&e.setRootTypename("Mutation",n),s&&e.setRootTypename("Subscription",n),oe.call(e.toBeAdded,n)?e.toBeAdded[n].push(c):e.toBeAdded[n]=[c]})},r.prototype.updateTypePolicy=function(t,e){var n=this,i=this.getTypePolicy(t),o=e.keyFields,a=e.fields;function s(c,u){c.merge=typeof u=="function"?u:u===!0?uu:u===!1?cu:c.merge}s(i,e.merge),i.keyFn=o===!1?Hl:Array.isArray(o)?hu(o):typeof o=="function"?o:i.keyFn,a&&Object.keys(a).forEach(function(c){var u=n.getFieldPolicy(t,c,!0),f=a[c];if(typeof f=="function")u.read=f;else{var l=f.keyArgs,h=f.read,v=f.merge;u.keyFn=l===!1?su:Array.isArray(l)?lu(l):typeof l=="function"?l:u.keyFn,typeof h=="function"&&(u.read=h),s(u,v)}u.read&&u.merge&&(u.keyFn=u.keyFn||su)})},r.prototype.setRootTypename=function(t,e){e===void 0&&(e=t);var n="ROOT_"+t.toUpperCase(),i=this.rootTypenamesById[n];e!==i&&(j(!i||i===t,1),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[e]=n,this.rootTypenamesById[n]=e)},r.prototype.addPossibleTypes=function(t){var e=this;this.usingPossibleTypes=!0,Object.keys(t).forEach(function(n){e.getSupertypeSet(n,!0),t[n].forEach(function(i){e.getSupertypeSet(i,!0).add(n);var o=i.match(go);(!o||o[0]!==i)&&e.fuzzySubtypes.set(i,new RegExp(i))})})},r.prototype.getTypePolicy=function(t){var e=this;if(!oe.call(this.typePolicies,t)){var n=this.typePolicies[t]=Object.create(null);n.fields=Object.create(null);var i=this.supertypeMap.get(t);i&&i.size&&i.forEach(function(a){var s=e.getTypePolicy(a),c=s.fields,u=be(s,["fields"]);Object.assign(n,u),Object.assign(n.fields,c)})}var o=this.toBeAdded[t];return o&&o.length&&o.splice(0).forEach(function(a){e.updateTypePolicy(t,a)}),this.typePolicies[t]},r.prototype.getFieldPolicy=function(t,e,n){if(t){var i=this.getTypePolicy(t).fields;return i[e]||n&&(i[e]=Object.create(null))}},r.prototype.getSupertypeSet=function(t,e){var n=this.supertypeMap.get(t);return!n&&e&&this.supertypeMap.set(t,n=new Set),n},r.prototype.fragmentMatches=function(t,e,n,i){var o=this;if(!t.typeCondition)return!0;if(!e)return!1;var a=t.typeCondition.name.value;if(e===a)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(a))for(var s=this.getSupertypeSet(e,!0),c=[s],u=function(g){var m=o.getSupertypeSet(g,!1);m&&m.size&&c.indexOf(m)<0&&c.push(m)},f=!!(n&&this.fuzzySubtypes.size),l=!1,h=0;h<c.length;++h){var v=c[h];if(v.has(a))return s.has(a)||s.add(a),!0;v.forEach(u),f&&h===c.length-1&&xn(t.selectionSet,n,i)&&(f=!1,l=!0,this.fuzzySubtypes.forEach(function(g,m){var _=e.match(g);_&&_[0]===e&&u(m)}))}return!1},r.prototype.hasKeyArgs=function(t,e){var n=this.getFieldPolicy(t,e,!1);return!!(n&&n.keyFn)},r.prototype.getStoreFieldName=function(t){var e=t.typename,n=t.fieldName,i=this.getFieldPolicy(e,n,!1),o,a=i&&i.keyFn;if(a&&e)for(var s={typename:e,fieldName:n,field:t.field||null,variables:t.variables},c=Eo(t);a;){var u=a(c,s);if(Array.isArray(u))a=lu(u);else{o=u||n;break}}return o===void 0&&(o=t.field?tn(t.field,t.variables):fr(n,Eo(t))),o===!1?n:n===Xe(o)?o:n+":"+o},r.prototype.readField=function(t,e){var n=t.from;if(n){var i=t.field||t.fieldName;if(i){if(t.typename===void 0){var o=e.store.getFieldValue(n,"__typename");o&&(t.typename=o)}var a=this.getStoreFieldName(t),s=Xe(a),c=e.store.getFieldValue(n,a),u=this.getFieldPolicy(t.typename,s,!1),f=u&&u.read;if(f){var l=fu(this,n,t,e,e.store.getStorage($(n)?n.__ref:n,a));return Jt.withValue(this.cache,f,[c,l])}return c}}},r.prototype.getMergeFunction=function(t,e,n){var i=this.getFieldPolicy(t,e,!1),o=i&&i.merge;return!o&&n&&(i=this.getTypePolicy(n),o=i&&i.merge),o},r.prototype.runMergeFunction=function(t,e,n,i,o){var a=n.field,s=n.typename,c=n.merge;return c===uu?du(i.store.getFieldValue)(t,e):c===cu?e:c(t,e,fu(this,void 0,{typename:s,fieldName:a.name.value,field:a,variables:i.variables},i,o||Object.create(null)))},r})()});var zl,Fr,mu=I(()=>{"use strict";Z();kt();yo();Sn();ee();$s();nu();wo();Tn();xo();Rr();zl={dataIdFromObject:Zt,addTypename:!0,resultCaching:!0,typePolicies:{}},Fr=(function(r){le(t,r);function t(e){e===void 0&&(e={});var n=r.call(this)||this;return n.watches=new Set,n.typenameDocumentCache=new Map,n.makeVar=Dr,n.txCount=0,n.maybeBroadcastWatch=At(function(i,o){return n.broadcastWatch.call(n,i,!!o)},{makeCacheKey:function(i){var o=i.optimistic?n.optimisticData:n.data;if(zt(o)){var a=i.optimistic,s=i.rootId,c=i.variables;return o.makeCacheKey(i.query,i.callback,JSON.stringify({optimistic:a,rootId:s,variables:c}))}}}),n.watchDep=Yt(),n.config=w(w({},zl),e),n.addTypename=!!n.config.addTypename,n.policies=new pu({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.data=new Ht.Root({policies:n.policies,resultCaching:n.config.resultCaching}),n.optimisticData=n.data,n.storeWriter=new tu(n,n.storeReader=new Zs({cache:n,addTypename:n.addTypename})),n}return t.prototype.restore=function(e){return e&&this.data.replace(e),this},t.prototype.extract=function(e){return e===void 0&&(e=!1),(e?this.optimisticData:this.data).extract()},t.prototype.read=function(e){var n=e.returnPartialData,i=n===void 0?!1:n;try{return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,query:e.query,variables:e.variables,rootId:e.rootId,config:this.config,returnPartialData:i}).result||null}catch(o){if(o instanceof It)return null;throw o}},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore({store:this.data,query:e.query,result:e.result,dataId:e.dataId,variables:e.variables})}finally{!--this.txCount&&e.broadcast!==!1&&this.broadcastWatches()}},t.prototype.modify=function(e){if(oe.call(e,"id")&&!e.id)return!1;var n=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,n.modify(e.id||"ROOT_QUERY",e.fields)}finally{!--this.txCount&&e.broadcast!==!1&&this.broadcastWatches()}},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",query:e.query,variables:e.variables,returnPartialData:e.returnPartialData,config:this.config})},t.prototype.watch=function(e){var n=this;return this.watches.size||au(this),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){n.watches.delete(e)&&!n.watches.size&&ou(n),n.watchDep.dirty(e),n.maybeBroadcastWatch.forget(e)}},t.prototype.gc=function(){return this.optimisticData.gc()},t.prototype.retain=function(e,n){return(n?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,n){return(n?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){return $(e)?e.__ref:this.policies.identify(e)[0]},t.prototype.evict=function(e){if(!e.id){if(oe.call(e,"id"))return!1;e=w(w({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e)}finally{!--this.txCount&&e.broadcast!==!1&&this.broadcastWatches()}},t.prototype.reset=function(){return this.data.clear(),this.optimisticData=this.data,this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var n=this.optimisticData.removeLayer(e);n!==this.optimisticData&&(this.optimisticData=n,this.broadcastWatches())},t.prototype.performTransaction=function(e,n){var i=this,o=function(s){var c=i,u=c.data,f=c.optimisticData;++i.txCount,s&&(i.data=i.optimisticData=s);try{e(i)}finally{--i.txCount,i.data=u,i.optimisticData=f}},a=!1;typeof n=="string"?(this.optimisticData=this.optimisticData.addLayer(n,o),a=!0):n===null?o(this.data):o(),this.broadcastWatches(a)},t.prototype.transformDocument=function(e){if(this.addTypename){var n=this.typenameDocumentCache.get(e);return n||(n=_t(e),this.typenameDocumentCache.set(e,n),this.typenameDocumentCache.set(n,n)),n}return e},t.prototype.broadcastWatches=function(e){var n=this;this.txCount||this.watches.forEach(function(i){return n.maybeBroadcastWatch(i,e)})},t.prototype.broadcastWatch=function(e,n){this.watchDep.dirty(e),this.watchDep(e);var i=this.diff({query:e.query,variables:e.variables,optimistic:e.optimistic});e.optimistic&&n&&(i.fromOptimisticTransaction=!0),e.callback(i)},t})(kr)});var Oo=I(()=>{"use strict"});var To=I(()=>{"use strict";yo();Ws();Sn();mu();Tn();xo();Oo()});var An,Ao=I(()=>{"use strict";Z();rt();ne();ee();To();An=(function(){function r(t){var e=t.cache,n=t.client,i=t.resolvers,o=t.fragmentMatcher;this.cache=e,n&&(this.client=n),i&&this.addResolvers(i),o&&this.setFragmentMatcher(o)}return r.prototype.addResolvers=function(t){var e=this;this.resolvers=this.resolvers||{},Array.isArray(t)?t.forEach(function(n){e.resolvers=wt(e.resolvers,n)}):this.resolvers=wt(this.resolvers,t)},r.prototype.setResolvers=function(t){this.resolvers={},this.addResolvers(t)},r.prototype.getResolvers=function(){return this.resolvers||{}},r.prototype.runResolvers=function(t){var e=t.document,n=t.remoteResult,i=t.context,o=t.variables,a=t.onlyRunForcedResolvers,s=a===void 0?!1:a;return Pe(this,void 0,void 0,function(){return qe(this,function(c){return e?[2,this.resolveDocument(e,n.data,i,o,this.fragmentMatcher,s).then(function(u){return w(w({},n),{data:u.result})})]:[2,n]})})},r.prototype.setFragmentMatcher=function(t){this.fragmentMatcher=t},r.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},r.prototype.clientQuery=function(t){return nt(["client"],t)&&this.resolvers?t:null},r.prototype.serverQuery=function(t){return cn(t)},r.prototype.prepareContext=function(t){var e=this.cache;return w(w({},t),{cache:e,getCacheKey:function(n){return e.identify(n)}})},r.prototype.addExportedVariables=function(t,e,n){return e===void 0&&(e={}),n===void 0&&(n={}),Pe(this,void 0,void 0,function(){return qe(this,function(i){return t?[2,this.resolveDocument(t,this.buildRootValueFromCache(t,e)||{},this.prepareContext(n),e).then(function(o){return w(w({},e),o.exportedVariables)})]:[2,w({},e)]})})},r.prototype.shouldForceResolvers=function(t){var e=!1;return Se(t,{Directive:{enter:function(n){if(n.name.value==="client"&&n.arguments&&(e=n.arguments.some(function(i){return i.name.value==="always"&&i.value.kind==="BooleanValue"&&i.value.value===!0}),e))return ga}}}),e},r.prototype.buildRootValueFromCache=function(t,e){return this.cache.diff({query:un(t),variables:e,returnPartialData:!0,optimistic:!1}).result},r.prototype.resolveDocument=function(t,e,n,i,o,a){return n===void 0&&(n={}),i===void 0&&(i={}),o===void 0&&(o=function(){return!0}),a===void 0&&(a=!1),Pe(this,void 0,void 0,function(){var s,c,u,f,l,h,v,g,m;return qe(this,function(_){return s=ot(t),c=Ve(t),u=je(c),f=s.operation,l=f?f.charAt(0).toUpperCase()+f.slice(1):"Query",h=this,v=h.cache,g=h.client,m={fragmentMap:u,context:w(w({},n),{cache:v,client:g}),variables:i,fragmentMatcher:o,defaultOperationType:l,exportedVariables:{},onlyRunForcedResolvers:a},[2,this.resolveSelectionSet(s.selectionSet,e,m).then(function(k){return{result:k,exportedVariables:m.exportedVariables}})]})})},r.prototype.resolveSelectionSet=function(t,e,n){return Pe(this,void 0,void 0,function(){var i,o,a,s,c,u=this;return qe(this,function(f){return i=n.fragmentMap,o=n.context,a=n.variables,s=[e],c=function(l){return Pe(u,void 0,void 0,function(){var h,v;return qe(this,function(g){return Ue(l,a)?ae(l)?[2,this.resolveField(l,e,n).then(function(m){var _;typeof m<"u"&&s.push((_={},_[Te(l)]=m,_))})]:(Pt(l)?h=l:(h=i[l.name.value],j(h,11)),h&&h.typeCondition&&(v=h.typeCondition.name.value,n.fragmentMatcher(e,v,o))?[2,this.resolveSelectionSet(h.selectionSet,e,n).then(function(m){s.push(m)})]:[2]):[2]})})},[2,Promise.all(t.selections.map(c)).then(function(){return qt(s)})]})})},r.prototype.resolveField=function(t,e,n){return Pe(this,void 0,void 0,function(){var i,o,a,s,c,u,f,l,h,v=this;return qe(this,function(g){return i=n.variables,o=t.name.value,a=Te(t),s=o!==a,c=e[a]||e[o],u=Promise.resolve(c),(!n.onlyRunForcedResolvers||this.shouldForceResolvers(t))&&(f=e.__typename||n.defaultOperationType,l=this.resolvers&&this.resolvers[f],l&&(h=l[s?o:a],h&&(u=Promise.resolve(Jt.withValue(this.cache,h,[e,Mt(t,i),n.context,{field:t,fragmentMap:n.fragmentMap}]))))),[2,u.then(function(m){if(m===void 0&&(m=c),t.directives&&t.directives.forEach(function(_){_.name.value==="export"&&_.arguments&&_.arguments.forEach(function(k){k.name.value==="as"&&k.value.kind==="StringValue"&&(n.exportedVariables[k.value.value]=m)})}),!t.selectionSet||m==null)return m;if(Array.isArray(m))return v.resolveSubSelectedArray(t,m,n);if(t.selectionSet)return v.resolveSelectionSet(t.selectionSet,m,n)})]})})},r.prototype.resolveSubSelectedArray=function(t,e,n){var i=this;return Promise.all(e.map(function(o){if(o===null)return null;if(Array.isArray(o))return i.resolveSubSelectedArray(t,o,n);if(t.selectionSet)return i.resolveSelectionSet(t.selectionSet,o,n)}))},r})()});function ko(r,t){var e=r[t];typeof e=="function"&&(r[t]=function(){return $t.set(r,($t.get(r)+1)%1e15),e.apply(this,arguments)})}function yu(r){r.notifyTimeout&&(clearTimeout(r.notifyTimeout),r.notifyTimeout=void 0)}function kn(r,t){t===void 0&&(t="none");var e=t==="ignore"||t==="all",n=!St(r);return!n&&e&&r.data&&(n=!0),n}var $t,Io,gu=I(()=>{"use strict";Qt();ee();Kt();$t=new(Ke?WeakMap:Map);Io=(function(){function r(t){this.cache=t,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.diff=null,this.observableQuery=null,$t.has(t)||($t.set(t,0),ko(t,"evict"),ko(t,"modify"),ko(t,"reset"))}return r.prototype.init=function(t){var e=t.networkStatus||X.loading;return this.variables&&this.networkStatus!==X.loading&&!_e(this.variables,t.variables)&&(e=X.setVariables),_e(t.variables,this.variables)||(this.diff=null),Object.assign(this,{document:t.document,variables:t.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:e}),t.observableQuery&&this.setObservableQuery(t.observableQuery),t.lastRequestId&&(this.lastRequestId=t.lastRequestId),this},r.prototype.reset=function(){yu(this),this.diff=null,this.dirty=!1},r.prototype.getDiff=function(t){return t===void 0&&(t=this.variables),this.diff&&_e(t,this.variables)?this.diff:(this.updateWatch(this.variables=t),this.diff=this.cache.diff({query:this.document,variables:t,returnPartialData:!0,optimistic:!0}))},r.prototype.setDiff=function(t){var e=this,n=this.diff;this.diff=t,!this.dirty&&(t&&t.result)!==(n&&n.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return e.notify()},0)))},r.prototype.setObservableQuery=function(t){var e=this;t!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=t,t?(t.queryInfo=this,this.listeners.add(this.oqListener=function(){e.getDiff().fromOptimisticTransaction?t.observe():t.reobserve()})):delete this.oqListener)},r.prototype.notify=function(){var t=this;yu(this),this.shouldNotify()&&this.listeners.forEach(function(e){return e(t)}),this.dirty=!1},r.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(ct(this.networkStatus)&&this.observableQuery){var t=this.observableQuery.options.fetchPolicy;if(t!=="cache-only"&&t!=="cache-and-network")return!1}return!0},r.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),delete this.cancel,this.subscriptions.forEach(function(e){return e.unsubscribe()});var t=this.observableQuery;t&&t.stopPolling()}},r.prototype.cancel=function(){},r.prototype.updateWatch=function(t){var e=this;t===void 0&&(t=this.variables);var n=this.observableQuery;n&&n.options.fetchPolicy==="no-cache"||(!this.lastWatch||this.lastWatch.query!==this.document||!_e(t,this.lastWatch.variables))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch={query:this.document,variables:t,optimistic:!0,callback:function(i){return e.setDiff(i)}}))},r.prototype.shouldWrite=function(t,e){var n=this.lastWrite;return!(n&&n.dmCount===$t.get(this.cache)&&_e(e,n.variables)&&_e(t.data,n.result.data))},r.prototype.markResult=function(t,e,n){var i=this;this.graphQLErrors=Qe(t.errors)?t.errors:[],this.reset(),e.fetchPolicy==="no-cache"?this.diff={result:t.data,complete:!0}:!this.stopped&&n&&(kn(t,e.errorPolicy)?this.cache.performTransaction(function(o){if(i.shouldWrite(t,e.variables))o.writeQuery({query:i.document,data:t.data,variables:e.variables}),i.lastWrite={result:t,variables:e.variables,dmCount:$t.get(i.cache)};else if(i.diff&&i.diff.complete){t.data=i.diff.result;return}var a=o.diff({query:i.document,variables:e.variables,returnPartialData:!0,optimistic:!0});i.stopped||i.updateWatch(e.variables),i.diff=a,a.complete&&(t.data=a.result)}):this.lastWrite=void 0)},r.prototype.markReady=function(){return this.networkError=null,this.networkStatus=X.ready},r.prototype.markError=function(t){return this.networkStatus=X.error,this.lastWrite=void 0,this.reset(),t.graphQLErrors&&(this.graphQLErrors=t.graphQLErrors),t.networkError&&(this.networkError=t.networkError),t},r})()});var Jl,bu,_u=I(()=>{"use strict";Z();ne();Qt();Tt();ee();so();uo();Kt();Ao();gu();Jl=Object.prototype.hasOwnProperty,bu=(function(){function r(t){var e=t.cache,n=t.link,i=t.queryDeduplication,o=i===void 0?!1:i,a=t.onBroadcast,s=t.ssrMode,c=s===void 0?!1:s,u=t.clientAwareness,f=u===void 0?{}:u,l=t.localState,h=t.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(Ke?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=e,this.link=n,this.queryDeduplication=o,this.clientAwareness=f,this.localState=l||new An({cache:e}),this.ssrMode=c,this.assumeImmutableResults=!!h,(this.onBroadcast=a)&&(this.mutationStore=Object.create(null))}return r.prototype.stop=function(){var t=this;this.queries.forEach(function(e,n){t.stopQueryNoBroadcast(n)}),this.cancelPendingFetches(new Y(12))},r.prototype.cancelPendingFetches=function(t){this.fetchCancelFns.forEach(function(e){return e(t)}),this.fetchCancelFns.clear()},r.prototype.mutate=function(t){var e=t.mutation,n=t.variables,i=t.optimisticResponse,o=t.updateQueries,a=t.refetchQueries,s=a===void 0?[]:a,c=t.awaitRefetchQueries,u=c===void 0?!1:c,f=t.update,l=t.errorPolicy,h=l===void 0?"none":l,v=t.fetchPolicy,g=t.context,m=g===void 0?{}:g;return Pe(this,void 0,void 0,function(){var _,k,T;return qe(this,function(N){switch(N.label){case 0:return j(e,13),j(!v||v==="no-cache",14),_=this.generateMutationId(),e=this.transform(e).document,n=this.getVariables(e,n),this.transform(e).hasClientExports?[4,this.localState.addExportedVariables(e,n,m)]:[3,2];case 1:n=N.sent(),N.label=2;case 2:return k=this.mutationStore&&(this.mutationStore[_]={mutation:e,variables:n,loading:!0,error:null}),i&&this.markMutationOptimistic(i,{mutationId:_,document:e,variables:n,errorPolicy:h,updateQueries:o,update:f}),this.broadcastQueries(),T=this,[2,new Promise(function(R,C){var M,F;T.getObservableFromLink(e,w(w({},m),{optimisticResponse:i}),n,!1).subscribe({next:function(E){if(St(E)&&h==="none"){F=new $e({graphQLErrors:E.errors});return}if(k&&(k.loading=!1,k.error=null),v!=="no-cache")try{T.markMutationResult({mutationId:_,result:E,document:e,variables:n,errorPolicy:h,updateQueries:o,update:f})}catch(U){F=new $e({networkError:U});return}M=E},error:function(E){k&&(k.loading=!1,k.error=E),i&&T.cache.removeOptimistic(_),T.broadcastQueries(),C(new $e({networkError:E}))},complete:function(){if(F&&k&&(k.loading=!1,k.error=F),i&&T.cache.removeOptimistic(_),T.broadcastQueries(),F){C(F);return}typeof s=="function"&&(s=s(M));var E=[];Qe(s)&&s.forEach(function(U){if(typeof U=="string")T.queries.forEach(function(p){var d=p.observableQuery;d&&d.hasObservers()&&d.queryName===U&&E.push(d.refetch())});else{var G={query:U.query,variables:U.variables,fetchPolicy:"network-only"};U.context&&(G.context=U.context),E.push(T.query(G))}}),Promise.all(u?E:[]).then(function(){h==="ignore"&&M&&St(M)&&delete M.errors,R(M)},C)}})})]}})})},r.prototype.markMutationResult=function(t,e){var n=this;if(e===void 0&&(e=this.cache),kn(t.result,t.errorPolicy)){var i=[{result:t.result.data,dataId:"ROOT_MUTATION",query:t.document,variables:t.variables}],o=t.updateQueries;o&&this.queries.forEach(function(a,s){var c=a.observableQuery,u=c&&c.queryName;if(!(!u||!Jl.call(o,u))){var f=o[u],l=n.queries.get(s),h=l.document,v=l.variables,g=e.diff({query:h,variables:v,returnPartialData:!0,optimistic:!1}),m=g.result,_=g.complete;if(_&&m){var k=f(m,{mutationResult:t.result,queryName:h&&bt(h)||void 0,queryVariables:v});k&&i.push({result:k,dataId:"ROOT_QUERY",query:h,variables:v})}}}),e.performTransaction(function(a){i.forEach(function(c){return a.write(c)});var s=t.update;s&&s(a,t.result)},null)}},r.prototype.markMutationOptimistic=function(t,e){var n=this,i=typeof t=="function"?t(e.variables):t;return this.cache.recordOptimisticTransaction(function(o){try{n.markMutationResult(w(w({},e),{result:{data:i}}),o)}catch{}},e.mutationId)},r.prototype.fetchQuery=function(t,e,n){return this.fetchQueryObservable(t,e,n).promise},r.prototype.getQueryStore=function(){var t=Object.create(null);return this.queries.forEach(function(e,n){t[n]={variables:e.variables,networkStatus:e.networkStatus,networkError:e.networkError,graphQLErrors:e.graphQLErrors}}),t},r.prototype.resetErrors=function(t){var e=this.queries.get(t);e&&(e.networkError=void 0,e.graphQLErrors=[])},r.prototype.transform=function(t){var e=this.transformCache;if(!e.has(t)){var n=this.cache.transformDocument(t),i=sn(this.cache.transformForLink(n)),o=this.localState.clientQuery(n),a=i&&this.localState.serverQuery(i),s={document:n,hasClientExports:$r(n),hasForcedResolvers:this.localState.shouldForceResolvers(n),clientQuery:o,serverQuery:a,defaultVars:at(Ce(n))},c=function(u){u&&!e.has(u)&&e.set(u,s)};c(t),c(n),c(o),c(a)}return e.get(t)},r.prototype.getVariables=function(t,e){return w(w({},this.transform(t).defaultVars),e)},r.prototype.watchQuery=function(t){t=w(w({},t),{variables:this.getVariables(t.query,t.variables)}),typeof t.notifyOnNetworkStatusChange>"u"&&(t.notifyOnNetworkStatusChange=!1);var e=new Io(this.cache),n=new Tr({queryManager:this,queryInfo:e,options:t});return this.queries.set(n.queryId,e),e.init({document:t.query,observableQuery:n,variables:t.variables}),n},r.prototype.query=function(t){var e=this;j(t.query,15),j(t.query.kind==="Document",16),j(!t.returnPartialData,17),j(!t.pollInterval,18);var n=this.generateQueryId();return this.fetchQuery(n,t).finally(function(){return e.stopQuery(n)})},r.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},r.prototype.generateRequestId=function(){return this.requestIdCounter++},r.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},r.prototype.stopQueryInStore=function(t){this.stopQueryInStoreNoBroadcast(t),this.broadcastQueries()},r.prototype.stopQueryInStoreNoBroadcast=function(t){var e=this.queries.get(t);e&&e.stop()},r.prototype.clearStore=function(){return this.cancelPendingFetches(new Y(19)),this.queries.forEach(function(t){t.observableQuery?t.networkStatus=X.loading:t.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset()},r.prototype.resetStore=function(){var t=this;return this.clearStore().then(function(){return t.reFetchObservableQueries()})},r.prototype.reFetchObservableQueries=function(t){var e=this;t===void 0&&(t=!1);var n=[];return this.queries.forEach(function(i,o){var a=i.observableQuery;if(a&&a.hasObservers()){var s=a.options.fetchPolicy;a.resetLastResults(),s!=="cache-only"&&(t||s!=="standby")&&n.push(a.refetch()),e.getQuery(o).setDiff(null)}}),this.broadcastQueries(),Promise.all(n)},r.prototype.setObservableQuery=function(t){this.getQuery(t.queryId).setObservableQuery(t)},r.prototype.startGraphQLSubscription=function(t){var e=this,n=t.query,i=t.fetchPolicy,o=t.errorPolicy,a=t.variables,s=t.context,c=s===void 0?{}:s;n=this.transform(n).document,a=this.getVariables(n,a);var u=function(l){return e.getObservableFromLink(n,c,l,!1).map(function(h){if(i!=="no-cache"&&(kn(h,o)&&e.cache.write({query:n,result:h.data,dataId:"ROOT_SUBSCRIPTION",variables:l}),e.broadcastQueries()),St(h))throw new $e({graphQLErrors:h.errors});return h})};if(this.transform(n).hasClientExports){var f=this.localState.addExportedVariables(n,a,c).then(u);return new B.default(function(l){var h=null;return f.then(function(v){return h=v.subscribe(l)},l.error),function(){return h&&h.unsubscribe()}})}return u(a)},r.prototype.stopQuery=function(t){this.stopQueryNoBroadcast(t),this.broadcastQueries()},r.prototype.stopQueryNoBroadcast=function(t){this.stopQueryInStoreNoBroadcast(t),this.removeQuery(t)},r.prototype.removeQuery=function(t){this.fetchCancelFns.delete(t),this.getQuery(t).stop(),this.queries.delete(t)},r.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(t){return t.notify()})},r.prototype.getLocalState=function(){return this.localState},r.prototype.getObservableFromLink=function(t,e,n,i){var o=this,a;i===void 0&&(i=(a=e?.queryDeduplication)!==null&&a!==void 0?a:this.queryDeduplication);var s,c=this.transform(t).serverQuery;if(c){var u=this,f=u.inFlightLinkObservables,l=u.link,h={query:c,variables:n,operationName:bt(c)||void 0,context:this.prepareContext(w(w({},e),{forceFetch:!i}))};if(e=h.context,i){var v=f.get(c)||new Map;f.set(c,v);var g=JSON.stringify(n);if(s=v.get(g),!s){var m=new Et([Ot(l,h)]);v.set(g,s=m),m.cleanup(function(){v.delete(g)&&v.size<1&&f.delete(c)})}}else s=new Et([Ot(l,h)])}else s=new Et([B.default.of({data:{}})]),e=this.prepareContext(e);var _=this.transform(t).clientQuery;return _&&(s=vn(s,function(k){return o.localState.runResolvers({document:_,remoteResult:k,context:e,variables:n})})),s},r.prototype.getResultsFromLink=function(t,e,n){var i=t.lastRequestId=this.generateRequestId();return vn(this.getObservableFromLink(t.document,n.context,n.variables),function(o){var a=Qe(o.errors);if(i>=t.lastRequestId){if(a&&n.errorPolicy==="none")throw t.markError(new $e({graphQLErrors:o.errors}));t.markResult(o,n,e),t.markReady()}var s={data:o.data,loading:!1,networkStatus:t.networkStatus||X.ready};return a&&n.errorPolicy!=="ignore"&&(s.errors=o.errors),s},function(o){var a=bn(o)?o:new $e({networkError:o});throw i>=t.lastRequestId&&t.markError(a),a})},r.prototype.fetchQueryObservable=function(t,e,n){var i=this;n===void 0&&(n=X.loading);var o=this.transform(e.query).document,a=this.getVariables(o,e.variables),s=this.getQuery(t),c=s.networkStatus,u=e.fetchPolicy,f=u===void 0?"cache-first":u,l=e.errorPolicy,h=l===void 0?"none":l,v=e.returnPartialData,g=v===void 0?!1:v,m=e.notifyOnNetworkStatusChange,_=m===void 0?!1:m,k=e.context,T=k===void 0?{}:k,N=f==="cache-first"||f==="cache-and-network"||f==="network-only"||f==="no-cache";N&&_&&typeof c=="number"&&c!==n&&ct(n)&&(f!=="cache-first"&&(f="cache-and-network"),g=!0);var R=Object.assign({},e,{query:o,variables:a,fetchPolicy:f,errorPolicy:h,returnPartialData:g,notifyOnNetworkStatusChange:_,context:T}),C=function(F){return R.variables=F,i.fetchQueryByPolicy(s,R,n)};this.fetchCancelFns.set(t,function(F){Promise.resolve().then(function(){return M.cancel(F)})});var M=new Et(this.transform(R.query).hasClientExports?this.localState.addExportedVariables(R.query,R.variables,R.context).then(C):C(R.variables));return M.cleanup(function(){i.fetchCancelFns.delete(t);var F=e.nextFetchPolicy;F&&(e.nextFetchPolicy=void 0,e.fetchPolicy=typeof F=="function"?F.call(e,e.fetchPolicy||"cache-first"):F)}),M},r.prototype.fetchQueryByPolicy=function(t,e,n){var i=this,o=e.query,a=e.variables,s=e.fetchPolicy,c=e.errorPolicy,u=e.returnPartialData,f=e.context;t.init({document:o,variables:a,networkStatus:n});var l=function(){return t.getDiff(a)},h=function(m,_){_===void 0&&(_=t.networkStatus||X.loading);var k=m.result,T=function(N){return B.default.of(w({data:N,loading:ct(_),networkStatus:_},m.complete?null:{partial:!0}))};return i.transform(o).hasForcedResolvers?i.localState.runResolvers({document:o,remoteResult:{data:k},context:f,variables:a,onlyRunForcedResolvers:!0}).then(function(N){return T(N.data)}):T(k)},v=function(m){return i.getResultsFromLink(t,m,{variables:a,context:f,fetchPolicy:s,errorPolicy:c})};switch(s){default:case"cache-first":{var g=l();return g.complete?[h(g,t.markReady())]:u?[h(g),v(!0)]:[v(!0)]}case"cache-and-network":{var g=l();return g.complete||u?[h(g),v(!0)]:[v(!0)]}case"cache-only":return[h(l(),t.markReady())];case"network-only":return[v(!0)];case"no-cache":return[v(!1)];case"standby":return[]}},r.prototype.getQuery=function(t){return t&&!this.queries.has(t)&&this.queries.set(t,new Io(this.cache)),this.queries.get(t)},r.prototype.prepareContext=function(t){t===void 0&&(t={});var e=this.localState.prepareContext(t);return w(w({},e),{clientAwareness:this.clientAwareness})},r})()});function Mr(r,t){return dr(r,t,t.variables&&{variables:w(w({},r.variables),t.variables)})}var Zl,In,wu=I(()=>{"use strict";Z();ne();Tt();ee();Ss();gn();_u();Ao();Zl=!1;In=(function(){function r(t){var e=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=t.uri,i=t.credentials,o=t.headers,a=t.cache,s=t.ssrMode,c=s===void 0?!1:s,u=t.ssrForceFetchDelay,f=u===void 0?0:u,l=t.connectToDevTools,h=l===void 0?typeof window=="object"&&!window.__APOLLO_CLIENT__&&!1:l,v=t.queryDeduplication,g=v===void 0?!0:v,m=t.defaultOptions,_=t.assumeImmutableResults,k=_===void 0?!1:_,T=t.resolvers,N=t.typeDefs,R=t.fragmentMatcher,C=t.name,M=t.version,F=t.link;if(F||(F=n?new Or({uri:n,credentials:i,headers:o}):te.empty()),!a)throw new Y(9);if(this.link=F,this.cache=a,this.disableNetworkFetches=c||f>0,this.queryDeduplication=g,this.defaultOptions=m||{},this.typeDefs=N,f&&setTimeout(function(){return e.disableNetworkFetches=!1},f),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),h&&typeof window=="object"&&(window.__APOLLO_CLIENT__=this),!Zl&&!1&&typeof window<"u"&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)var E,U,G;this.version=Es,this.localState=new An({cache:a,client:this,resolvers:T,fragmentMatcher:R}),this.queryManager=new bu({cache:this.cache,link:this.link,queryDeduplication:g,ssrMode:c,clientAwareness:{name:C,version:M},localState:this.localState,assumeImmutableResults:k,onBroadcast:h?function(){e.devToolsHookCb&&e.devToolsHookCb({action:{},state:{queries:e.queryManager.getQueryStore(),mutations:e.queryManager.mutationStore||{}},dataWithOptimisticResults:e.cache.extract(!0)})}:void 0})}return r.prototype.stop=function(){this.queryManager.stop()},r.prototype.watchQuery=function(t){return this.defaultOptions.watchQuery&&(t=Mr(this.defaultOptions.watchQuery,t)),this.disableNetworkFetches&&(t.fetchPolicy==="network-only"||t.fetchPolicy==="cache-and-network")&&(t=w(w({},t),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(t)},r.prototype.query=function(t){return this.defaultOptions.query&&(t=Mr(this.defaultOptions.query,t)),j(t.fetchPolicy!=="cache-and-network",10),this.disableNetworkFetches&&t.fetchPolicy==="network-only"&&(t=w(w({},t),{fetchPolicy:"cache-first"})),this.queryManager.query(t)},r.prototype.mutate=function(t){return this.defaultOptions.mutate&&(t=Mr(this.defaultOptions.mutate,t)),this.queryManager.mutate(t)},r.prototype.subscribe=function(t){return this.queryManager.startGraphQLSubscription(t)},r.prototype.readQuery=function(t,e){return e===void 0&&(e=!1),this.cache.readQuery(t,e)},r.prototype.readFragment=function(t,e){return e===void 0&&(e=!1),this.cache.readFragment(t,e)},r.prototype.writeQuery=function(t){this.cache.writeQuery(t),this.queryManager.broadcastQueries()},r.prototype.writeFragment=function(t){this.cache.writeFragment(t),this.queryManager.broadcastQueries()},r.prototype.__actionHookForDevTools=function(t){this.devToolsHookCb=t},r.prototype.__requestRaw=function(t){return Ot(this.link,t)},r.prototype.resetStore=function(){var t=this;return Promise.resolve().then(function(){return t.queryManager.clearStore()}).then(function(){return Promise.all(t.resetStoreCallbacks.map(function(e){return e()}))}).then(function(){return t.reFetchObservableQueries()})},r.prototype.clearStore=function(){var t=this;return Promise.resolve().then(function(){return t.queryManager.clearStore()}).then(function(){return Promise.all(t.clearStoreCallbacks.map(function(e){return e()}))})},r.prototype.onResetStore=function(t){var e=this;return this.resetStoreCallbacks.push(t),function(){e.resetStoreCallbacks=e.resetStoreCallbacks.filter(function(n){return n!==t})}},r.prototype.onClearStore=function(t){var e=this;return this.clearStoreCallbacks.push(t),function(){e.clearStoreCallbacks=e.clearStoreCallbacks.filter(function(n){return n!==t})}},r.prototype.reFetchObservableQueries=function(t){return this.queryManager.reFetchObservableQueries(t)},r.prototype.extract=function(t){return this.cache.extract(t)},r.prototype.restore=function(t){return this.cache.restore(t)},r.prototype.addResolvers=function(t){this.localState.addResolvers(t)},r.prototype.setResolvers=function(t){this.localState.setResolvers(t)},r.prototype.getResolvers=function(){return this.localState.getResolvers()},r.prototype.setLocalStateFragmentMatcher=function(t){this.localState.setFragmentMatcher(t)},r.prototype.setLink=function(t){this.link=this.queryManager.link=t},r})()});var Eu=I(()=>{"use strict"});function xu(r){return r.replace(/[\s,]+/g," ").trim()}function $l(r){return xu(r.source.body.substring(r.start,r.end))}function Xl(r){var t=new Set,e=[];return r.definitions.forEach(function(n){if(n.kind==="FragmentDefinition"){var i=n.name.value,o=$l(n.loc),a=No.get(i);a&&!a.has(o)?Su&&console.warn("Warning: fragment with name "+i+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):a||No.set(i,a=new Set),a.add(o),t.has(o)||(t.add(o),e.push(n))}else e.push(n)}),mi(mi({},r),{definitions:e})}function eh(r){var t=new Set(r.definitions);t.forEach(function(n){n.loc&&delete n.loc,Object.keys(n).forEach(function(i){var o=n[i];o&&typeof o=="object"&&t.add(o)})});var e=r.loc;return e&&(delete e.startToken,delete e.endToken),r}function th(r){var t=xu(r);if(!Nn.has(t)){var e=Jr(r,{experimentalFragmentVariables:Rn,allowLegacyFragmentVariables:Rn});if(!e||e.kind!=="Document")throw new Error("Not a valid GraphQL document.");Nn.set(t,eh(Xl(e)))}return Nn.get(t)}function Xt(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];typeof r=="string"&&(r=[r]);var n=r[0];return t.forEach(function(i,o){i&&i.kind==="Document"?n+=i.loc.source.body:n+=i,n+=r[o+1]}),th(n)}function Ro(){Nn.clear(),No.clear()}function Co(){Su=!1}function Do(){Rn=!0}function Fo(){Rn=!1}var Nn,No,Su,Rn,Pr,Ou,Tu=I(()=>{"use strict";ya();rt();Nn=new Map,No=new Map,Su=!0,Rn=!1;Pr={gql:Xt,resetCaches:Ro,disableFragmentWarnings:Co,enableExperimentalFragmentVariables:Do,disableExperimentalFragmentVariables:Fo};(function(r){r.gql=Pr.gql,r.resetCaches=Pr.resetCaches,r.disableFragmentWarnings=Pr.disableFragmentWarnings,r.enableExperimentalFragmentVariables=Pr.enableExperimentalFragmentVariables,r.disableExperimentalFragmentVariables=Pr.disableExperimentalFragmentVariables})(Xt||(Xt={}));Xt.default=Xt;Ou=Xt});var er={};yt(er,{ApolloCache:()=>kr,ApolloClient:()=>In,ApolloError:()=>$e,ApolloLink:()=>te,Cache:()=>Ir,HttpLink:()=>Or,InMemoryCache:()=>Fr,MissingFieldError:()=>It,NetworkStatus:()=>X,Observable:()=>B.default,ObservableQuery:()=>Tr,checkFetcher:()=>_r,concat:()=>gs,createHttpLink:()=>xr,createSignalIfSupported:()=>wr,defaultDataIdFromObject:()=>Zt,disableExperimentalFragmentVariables:()=>Fo,disableFragmentWarnings:()=>Co,empty:()=>hs,enableExperimentalFragmentVariables:()=>Do,execute:()=>Ot,fallbackHttpConfig:()=>gr,from:()=>ds,fromError:()=>Bt,fromPromise:()=>Hi,gql:()=>Ou,isApolloError:()=>bn,isReference:()=>$,makeReference:()=>xe,makeVar:()=>Dr,mergeOptions:()=>Mr,parseAndCheckHttpResponse:()=>yr,resetCaches:()=>Ro,rewriteURIForGET:()=>Sr,selectHttpOptionsAndBody:()=>br,selectURI:()=>Er,serializeFetchParameter:()=>ut,setLogVerbosity:()=>Si,split:()=>ms,throwServerError:()=>Vt,toPromise:()=>Yi});var Nt=I(()=>{"use strict";wu();uo();Kt();Eu();so();To();Oo();Tt();gn();vr();ee();ne();Tu();Si("log")});var Iu=L(Cn=>{"use strict";Cn.byteLength=nh;Cn.toByteArray=oh;Cn.fromByteArray=uh;var Ge=[],Ae=[],rh=typeof Uint8Array<"u"?Uint8Array:Array,Mo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Rt=0,Au=Mo.length;Rt<Au;++Rt)Ge[Rt]=Mo[Rt],Ae[Mo.charCodeAt(Rt)]=Rt;var Rt,Au;Ae[45]=62;Ae[95]=63;function ku(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");e===-1&&(e=t);var n=e===t?0:4-e%4;return[e,n]}function nh(r){var t=ku(r),e=t[0],n=t[1];return(e+n)*3/4-n}function ih(r,t,e){return(t+e)*3/4-e}function oh(r){var t,e=ku(r),n=e[0],i=e[1],o=new rh(ih(r,n,i)),a=0,s=i>0?n-4:n,c;for(c=0;c<s;c+=4)t=Ae[r.charCodeAt(c)]<<18|Ae[r.charCodeAt(c+1)]<<12|Ae[r.charCodeAt(c+2)]<<6|Ae[r.charCodeAt(c+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=t&255;return i===2&&(t=Ae[r.charCodeAt(c)]<<2|Ae[r.charCodeAt(c+1)]>>4,o[a++]=t&255),i===1&&(t=Ae[r.charCodeAt(c)]<<10|Ae[r.charCodeAt(c+1)]<<4|Ae[r.charCodeAt(c+2)]>>2,o[a++]=t>>8&255,o[a++]=t&255),o}function ah(r){return Ge[r>>18&63]+Ge[r>>12&63]+Ge[r>>6&63]+Ge[r&63]}function sh(r,t,e){for(var n,i=[],o=t;o<e;o+=3)n=(r[o]<<16&16711680)+(r[o+1]<<8&65280)+(r[o+2]&255),i.push(ah(n));return i.join("")}function uh(r){for(var t,e=r.length,n=e%3,i=[],o=16383,a=0,s=e-n;a<s;a+=o)i.push(sh(r,a,a+o>s?s:a+o));return n===1?(t=r[e-1],i.push(Ge[t>>2]+Ge[t<<4&63]+"==")):n===2&&(t=(r[e-2]<<8)+r[e-1],i.push(Ge[t>>10]+Ge[t>>4&63]+Ge[t<<2&63]+"=")),i.join("")}});var Nu=L(Po=>{"use strict";Po.read=function(r,t,e,n,i){var o,a,s=i*8-n-1,c=(1<<s)-1,u=c>>1,f=-7,l=e?i-1:0,h=e?-1:1,v=r[t+l];for(l+=h,o=v&(1<<-f)-1,v>>=-f,f+=s;f>0;o=o*256+r[t+l],l+=h,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=a*256+r[t+l],l+=h,f-=8);if(o===0)o=1-u;else{if(o===c)return a?NaN:(v?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-u}return(v?-1:1)*a*Math.pow(2,o-n)};Po.write=function(r,t,e,n,i,o){var a,s,c,u=o*8-i-1,f=(1<<u)-1,l=f>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:o-1,g=n?1:-1,m=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+l>=1?t+=h/c:t+=h*Math.pow(2,1-l),t*c>=2&&(a++,c/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(t*c-1)*Math.pow(2,i),a=a+l):(s=t*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;r[e+v]=s&255,v+=g,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;r[e+v]=a&255,v+=g,a/=256,u-=8);r[e+v-g]|=m*128}});var Cu=L((m_,Ru)=>{"use strict";var ch={}.toString;Ru.exports=Array.isArray||function(r){return ch.call(r)=="[object Array]"}});var Wu=L(rr=>{"use strict";var qo=Iu(),tr=Nu(),Mu=Cu();rr.Buffer=S;rr.SlowBuffer=vh;rr.INSPECT_MAX_BYTES=50;S.TYPED_ARRAY_SUPPORT=global.TYPED_ARRAY_SUPPORT!==void 0?global.TYPED_ARRAY_SUPPORT:fh();rr.kMaxLength=Dn();function fh(){try{var r=new Uint8Array(1);return r.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},r.foo()===42&&typeof r.subarray=="function"&&r.subarray(1,1).byteLength===0}catch{return!1}}function Dn(){return S.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function et(r,t){if(Dn()<t)throw new RangeError("Invalid typed array length");return S.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(t),r.__proto__=S.prototype):(r===null&&(r=new S(t)),r.length=t),r}function S(r,t,e){if(!S.TYPED_ARRAY_SUPPORT&&!(this instanceof S))return new S(r,t,e);if(typeof r=="number"){if(typeof t=="string")throw new Error("If encoding is specified then the first argument must be a string");return Uo(this,r)}return Pu(this,r,t,e)}S.poolSize=8192;S._augment=function(r){return r.__proto__=S.prototype,r};function Pu(r,t,e,n){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer?ph(r,t,e,n):typeof t=="string"?hh(r,t,e):dh(r,t)}S.from=function(r,t,e){return Pu(null,r,t,e)};S.TYPED_ARRAY_SUPPORT&&(S.prototype.__proto__=Uint8Array.prototype,S.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&S[Symbol.species]===S&&Object.defineProperty(S,Symbol.species,{value:null,configurable:!0}));function qu(r){if(typeof r!="number")throw new TypeError('"size" argument must be a number');if(r<0)throw new RangeError('"size" argument must not be negative')}function lh(r,t,e,n){return qu(t),t<=0?et(r,t):e!==void 0?typeof n=="string"?et(r,t).fill(e,n):et(r,t).fill(e):et(r,t)}S.alloc=function(r,t,e){return lh(null,r,t,e)};function Uo(r,t){if(qu(t),r=et(r,t<0?0:jo(t)|0),!S.TYPED_ARRAY_SUPPORT)for(var e=0;e<t;++e)r[e]=0;return r}S.allocUnsafe=function(r){return Uo(null,r)};S.allocUnsafeSlow=function(r){return Uo(null,r)};function hh(r,t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!S.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=Lu(t,e)|0;r=et(r,n);var i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}function Lo(r,t){var e=t.length<0?0:jo(t.length)|0;r=et(r,e);for(var n=0;n<e;n+=1)r[n]=t[n]&255;return r}function ph(r,t,e,n){if(t.byteLength,e<0||t.byteLength<e)throw new RangeError("'offset' is out of bounds");if(t.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");return e===void 0&&n===void 0?t=new Uint8Array(t):n===void 0?t=new Uint8Array(t,e):t=new Uint8Array(t,e,n),S.TYPED_ARRAY_SUPPORT?(r=t,r.__proto__=S.prototype):r=Lo(r,t),r}function dh(r,t){if(S.isBuffer(t)){var e=jo(t.length)|0;return r=et(r,e),r.length===0||t.copy(r,0,0,e),r}if(t){if(typeof ArrayBuffer<"u"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||Fh(t.length)?et(r,0):Lo(r,t);if(t.type==="Buffer"&&Mu(t.data))return Lo(r,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function jo(r){if(r>=Dn())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Dn().toString(16)+" bytes");return r|0}function vh(r){return+r!=r&&(r=0),S.alloc(+r)}S.isBuffer=function(t){return!!(t!=null&&t._isBuffer)};S.compare=function(t,e){if(!S.isBuffer(t)||!S.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,o=0,a=Math.min(n,i);o<a;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0};S.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};S.concat=function(t,e){if(!Mu(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return S.alloc(0);var n;if(e===void 0)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=S.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!S.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i};function Lu(r,t){if(S.isBuffer(r))return r.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer))return r.byteLength;typeof r!="string"&&(r=""+r);var e=r.length;if(e===0)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return Fn(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return Gu(r).length;default:if(n)return Fn(r).length;t=(""+t).toLowerCase(),n=!0}}S.byteLength=Lu;function mh(r,t,e){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,t>>>=0,e<=t))return"";for(r||(r="utf8");;)switch(r){case"hex":return Th(this,t,e);case"utf8":case"utf-8":return Bu(this,t,e);case"ascii":return xh(this,t,e);case"latin1":case"binary":return Oh(this,t,e);case"base64":return Eh(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ah(this,t,e);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}S.prototype._isBuffer=!0;function Ct(r,t,e){var n=r[t];r[t]=r[e],r[e]=n}S.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)Ct(this,e,e+1);return this};S.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)Ct(this,e,e+3),Ct(this,e+1,e+2);return this};S.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)Ct(this,e,e+7),Ct(this,e+1,e+6),Ct(this,e+2,e+5),Ct(this,e+3,e+4);return this};S.prototype.toString=function(){var t=this.length|0;return t===0?"":arguments.length===0?Bu(this,0,t):mh.apply(this,arguments)};S.prototype.equals=function(t){if(!S.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:S.compare(this,t)===0};S.prototype.inspect=function(){var t="",e=rr.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"};S.prototype.compare=function(t,e,n,i,o){if(!S.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(e===void 0&&(e=0),n===void 0&&(n=t?t.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,o>>>=0,this===t)return 0;for(var a=o-i,s=n-e,c=Math.min(a,s),u=this.slice(i,o),f=t.slice(e,n),l=0;l<c;++l)if(u[l]!==f[l]){a=u[l],s=f[l];break}return a<s?-1:s<a?1:0};function Uu(r,t,e,n,i){if(r.length===0)return-1;if(typeof e=="string"?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:r.length-1),e<0&&(e=r.length+e),e>=r.length){if(i)return-1;e=r.length-1}else if(e<0)if(i)e=0;else return-1;if(typeof t=="string"&&(t=S.from(t,n)),S.isBuffer(t))return t.length===0?-1:Du(r,t,e,n,i);if(typeof t=="number")return t=t&255,S.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(r,t,e):Uint8Array.prototype.lastIndexOf.call(r,t,e):Du(r,[t],e,n,i);throw new TypeError("val must be string, number or Buffer")}function Du(r,t,e,n,i){var o=1,a=r.length,s=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||t.length<2)return-1;o=2,a/=2,s/=2,e/=2}function c(v,g){return o===1?v[g]:v.readUInt16BE(g*o)}var u;if(i){var f=-1;for(u=e;u<a;u++)if(c(r,u)===c(t,f===-1?0:u-f)){if(f===-1&&(f=u),u-f+1===s)return f*o}else f!==-1&&(u-=u-f),f=-1}else for(e+s>a&&(e=a-s),u=e;u>=0;u--){for(var l=!0,h=0;h<s;h++)if(c(r,u+h)!==c(t,h)){l=!1;break}if(l)return u}return-1}S.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1};S.prototype.indexOf=function(t,e,n){return Uu(this,t,e,n,!0)};S.prototype.lastIndexOf=function(t,e,n){return Uu(this,t,e,n,!1)};function yh(r,t,e,n){e=Number(e)||0;var i=r.length-e;n?(n=Number(n),n>i&&(n=i)):n=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(a*2,2),16);if(isNaN(s))return a;r[e+a]=s}return a}function gh(r,t,e,n){return qn(Fn(t,r.length-e),r,e,n)}function ju(r,t,e,n){return qn(Ch(t),r,e,n)}function bh(r,t,e,n){return ju(r,t,e,n)}function _h(r,t,e,n){return qn(Gu(t),r,e,n)}function wh(r,t,e,n){return qn(Dh(t,r.length-e),r,e,n)}S.prototype.write=function(t,e,n,i){if(e===void 0)i="utf8",n=this.length,e=0;else if(n===void 0&&typeof e=="string")i=e,n=this.length,e=0;else if(isFinite(e))e=e|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-e;if((n===void 0||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return yh(this,t,e,n);case"utf8":case"utf-8":return gh(this,t,e,n);case"ascii":return ju(this,t,e,n);case"latin1":case"binary":return bh(this,t,e,n);case"base64":return _h(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return wh(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}};S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Eh(r,t,e){return t===0&&e===r.length?qo.fromByteArray(r):qo.fromByteArray(r.slice(t,e))}function Bu(r,t,e){e=Math.min(r.length,e);for(var n=[],i=t;i<e;){var o=r[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=e){var c,u,f,l;switch(s){case 1:o<128&&(a=o);break;case 2:c=r[i+1],(c&192)===128&&(l=(o&31)<<6|c&63,l>127&&(a=l));break;case 3:c=r[i+1],u=r[i+2],(c&192)===128&&(u&192)===128&&(l=(o&15)<<12|(c&63)<<6|u&63,l>2047&&(l<55296||l>57343)&&(a=l));break;case 4:c=r[i+1],u=r[i+2],f=r[i+3],(c&192)===128&&(u&192)===128&&(f&192)===128&&(l=(o&15)<<18|(c&63)<<12|(u&63)<<6|f&63,l>65535&&l<1114112&&(a=l))}}a===null?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),i+=s}return Sh(n)}var Fu=4096;function Sh(r){var t=r.length;if(t<=Fu)return String.fromCharCode.apply(String,r);for(var e="",n=0;n<t;)e+=String.fromCharCode.apply(String,r.slice(n,n+=Fu));return e}function xh(r,t,e){var n="";e=Math.min(r.length,e);for(var i=t;i<e;++i)n+=String.fromCharCode(r[i]&127);return n}function Oh(r,t,e){var n="";e=Math.min(r.length,e);for(var i=t;i<e;++i)n+=String.fromCharCode(r[i]);return n}function Th(r,t,e){var n=r.length;(!t||t<0)&&(t=0),(!e||e<0||e>n)&&(e=n);for(var i="",o=t;o<e;++o)i+=Rh(r[o]);return i}function Ah(r,t,e){for(var n=r.slice(t,e),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}S.prototype.slice=function(t,e){var n=this.length;t=~~t,e=e===void 0?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);var i;if(S.TYPED_ARRAY_SUPPORT)i=this.subarray(t,e),i.__proto__=S.prototype;else{var o=e-t;i=new S(o,void 0);for(var a=0;a<o;++a)i[a]=this[a+t]}return i};function se(r,t,e){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+t>e)throw new RangeError("Trying to access beyond buffer length")}S.prototype.readUIntLE=function(t,e,n){t=t|0,e=e|0,n||se(t,e,this.length);for(var i=this[t],o=1,a=0;++a<e&&(o*=256);)i+=this[t+a]*o;return i};S.prototype.readUIntBE=function(t,e,n){t=t|0,e=e|0,n||se(t,e,this.length);for(var i=this[t+--e],o=1;e>0&&(o*=256);)i+=this[t+--e]*o;return i};S.prototype.readUInt8=function(t,e){return e||se(t,1,this.length),this[t]};S.prototype.readUInt16LE=function(t,e){return e||se(t,2,this.length),this[t]|this[t+1]<<8};S.prototype.readUInt16BE=function(t,e){return e||se(t,2,this.length),this[t]<<8|this[t+1]};S.prototype.readUInt32LE=function(t,e){return e||se(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};S.prototype.readUInt32BE=function(t,e){return e||se(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};S.prototype.readIntLE=function(t,e,n){t=t|0,e=e|0,n||se(t,e,this.length);for(var i=this[t],o=1,a=0;++a<e&&(o*=256);)i+=this[t+a]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i};S.prototype.readIntBE=function(t,e,n){t=t|0,e=e|0,n||se(t,e,this.length);for(var i=e,o=1,a=this[t+--i];i>0&&(o*=256);)a+=this[t+--i]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*e)),a};S.prototype.readInt8=function(t,e){return e||se(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};S.prototype.readInt16LE=function(t,e){e||se(t,2,this.length);var n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};S.prototype.readInt16BE=function(t,e){e||se(t,2,this.length);var n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};S.prototype.readInt32LE=function(t,e){return e||se(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};S.prototype.readInt32BE=function(t,e){return e||se(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};S.prototype.readFloatLE=function(t,e){return e||se(t,4,this.length),tr.read(this,t,!0,23,4)};S.prototype.readFloatBE=function(t,e){return e||se(t,4,this.length),tr.read(this,t,!1,23,4)};S.prototype.readDoubleLE=function(t,e){return e||se(t,8,this.length),tr.read(this,t,!0,52,8)};S.prototype.readDoubleBE=function(t,e){return e||se(t,8,this.length),tr.read(this,t,!1,52,8)};function we(r,t,e,n,i,o){if(!S.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(e+n>r.length)throw new RangeError("Index out of range")}S.prototype.writeUIntLE=function(t,e,n,i){if(t=+t,e=e|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;we(this,t,e,n,o,0)}var a=1,s=0;for(this[e]=t&255;++s<n&&(a*=256);)this[e+s]=t/a&255;return e+n};S.prototype.writeUIntBE=function(t,e,n,i){if(t=+t,e=e|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;we(this,t,e,n,o,0)}var a=n-1,s=1;for(this[e+a]=t&255;--a>=0&&(s*=256);)this[e+a]=t/s&255;return e+n};S.prototype.writeUInt8=function(t,e,n){return t=+t,e=e|0,n||we(this,t,e,1,255,0),S.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=t&255,e+1};function Mn(r,t,e,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(r.length-e,2);i<o;++i)r[e+i]=(t&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}S.prototype.writeUInt16LE=function(t,e,n){return t=+t,e=e|0,n||we(this,t,e,2,65535,0),S.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8):Mn(this,t,e,!0),e+2};S.prototype.writeUInt16BE=function(t,e,n){return t=+t,e=e|0,n||we(this,t,e,2,65535,0),S.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t&255):Mn(this,t,e,!1),e+2};function Pn(r,t,e,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(r.length-e,4);i<o;++i)r[e+i]=t>>>(n?i:3-i)*8&255}S.prototype.writeUInt32LE=function(t,e,n){return t=+t,e=e|0,n||we(this,t,e,4,4294967295,0),S.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255):Pn(this,t,e,!0),e+4};S.prototype.writeUInt32BE=function(t,e,n){return t=+t,e=e|0,n||we(this,t,e,4,4294967295,0),S.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255):Pn(this,t,e,!1),e+4};S.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e=e|0,!i){var o=Math.pow(2,8*n-1);we(this,t,e,n,o-1,-o)}var a=0,s=1,c=0;for(this[e]=t&255;++a<n&&(s*=256);)t<0&&c===0&&this[e+a-1]!==0&&(c=1),this[e+a]=(t/s>>0)-c&255;return e+n};S.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e=e|0,!i){var o=Math.pow(2,8*n-1);we(this,t,e,n,o-1,-o)}var a=n-1,s=1,c=0;for(this[e+a]=t&255;--a>=0&&(s*=256);)t<0&&c===0&&this[e+a+1]!==0&&(c=1),this[e+a]=(t/s>>0)-c&255;return e+n};S.prototype.writeInt8=function(t,e,n){return t=+t,e=e|0,n||we(this,t,e,1,127,-128),S.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=t&255,e+1};S.prototype.writeInt16LE=function(t,e,n){return t=+t,e=e|0,n||we(this,t,e,2,32767,-32768),S.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8):Mn(this,t,e,!0),e+2};S.prototype.writeInt16BE=function(t,e,n){return t=+t,e=e|0,n||we(this,t,e,2,32767,-32768),S.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t&255):Mn(this,t,e,!1),e+2};S.prototype.writeInt32LE=function(t,e,n){return t=+t,e=e|0,n||we(this,t,e,4,2147483647,-2147483648),S.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):Pn(this,t,e,!0),e+4};S.prototype.writeInt32BE=function(t,e,n){return t=+t,e=e|0,n||we(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),S.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255):Pn(this,t,e,!1),e+4};function Vu(r,t,e,n,i,o){if(e+n>r.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function Qu(r,t,e,n,i){return i||Vu(r,t,e,4,34028234663852886e22,-34028234663852886e22),tr.write(r,t,e,n,23,4),e+4}S.prototype.writeFloatLE=function(t,e,n){return Qu(this,t,e,!0,n)};S.prototype.writeFloatBE=function(t,e,n){return Qu(this,t,e,!1,n)};function Ku(r,t,e,n,i){return i||Vu(r,t,e,8,17976931348623157e292,-17976931348623157e292),tr.write(r,t,e,n,52,8),e+8}S.prototype.writeDoubleLE=function(t,e,n){return Ku(this,t,e,!0,n)};S.prototype.writeDoubleBE=function(t,e,n){return Ku(this,t,e,!1,n)};S.prototype.copy=function(t,e,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var o=i-n,a;if(this===t&&n<e&&e<i)for(a=o-1;a>=0;--a)t[a+e]=this[a+n];else if(o<1e3||!S.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)t[a+e]=this[a+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o};S.prototype.fill=function(t,e,n,i){if(typeof t=="string"){if(typeof e=="string"?(i=e,e=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),t.length===1){var o=t.charCodeAt(0);o<256&&(t=o)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!S.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof t=="number"&&(t=t&255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e=e>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);var a;if(typeof t=="number")for(a=e;a<n;++a)this[a]=t;else{var s=S.isBuffer(t)?t:Fn(new S(t,i).toString()),c=s.length;for(a=0;a<n-e;++a)this[a+e]=s[a%c]}return this};var kh=/[^+\/0-9A-Za-z-_]/g;function Ih(r){if(r=Nh(r).replace(kh,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function Nh(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function Rh(r){return r<16?"0"+r.toString(16):r.toString(16)}function Fn(r,t){t=t||1/0;for(var e,n=r.length,i=null,o=[],a=0;a<n;++a){if(e=r.charCodeAt(a),e>55295&&e<57344){if(!i){if(e>56319){(t-=3)>-1&&o.push(239,191,189);continue}else if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(t-=3)>-1&&o.push(239,191,189),i=e;continue}e=(i-55296<<10|e-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((t-=1)<0)break;o.push(e)}else if(e<2048){if((t-=2)<0)break;o.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;o.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return o}function Ch(r){for(var t=[],e=0;e<r.length;++e)t.push(r.charCodeAt(e)&255);return t}function Dh(r,t){for(var e,n,i,o=[],a=0;a<r.length&&!((t-=2)<0);++a)e=r.charCodeAt(a),n=e>>8,i=e%256,o.push(i),o.push(n);return o}function Gu(r){return qo.toByteArray(Ih(r))}function qn(r,t,e,n){for(var i=0;i<n&&!(i+e>=t.length||i>=r.length);++i)t[i+e]=r[i];return i}function Fh(r){return r!==r}});var Ln=L(ir=>{"use strict";var Mh=Af(),We=kf();ir.parse=qr;ir.resolve=Gh;ir.resolveObject=Wh;ir.format=Kh;ir.Url=ke;function ke(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Ph=/^([a-z0-9.+-]+:)/i,qh=/:[0-9]*$/,Lh=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Uh=["<",">",'"',"`"," ","\r",`
`,"	"],jh=["{","}","|","\\","^","`"].concat(Uh),Bo=["'"].concat(jh),Yu=["%","/","?",";","#"].concat(Bo),Hu=["/","?","#"],Bh=255,zu=/^[+a-z0-9A-Z_-]{0,63}$/,Vh=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Qh={javascript:!0,"javascript:":!0},Vo={javascript:!0,"javascript:":!0},nr={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Qo=If();function qr(r,t,e){if(r&&We.isObject(r)&&r instanceof ke)return r;var n=new ke;return n.parse(r,t,e),n}ke.prototype.parse=function(r,t,e){if(!We.isString(r))throw new TypeError("Parameter 'url' must be a string, not "+typeof r);var n=r.indexOf("?"),i=n!==-1&&n<r.indexOf("#")?"?":"#",o=r.split(i),a=/\\/g;o[0]=o[0].replace(a,"/"),r=o.join(i);var s=r;if(s=s.trim(),!e&&r.split("#").length===1){var c=Lh.exec(s);if(c)return this.path=s,this.href=s,this.pathname=c[1],c[2]?(this.search=c[2],t?this.query=Qo.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var u=Ph.exec(s);if(u){u=u[0];var f=u.toLowerCase();this.protocol=f,s=s.substr(u.length)}if(e||u||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var l=s.substr(0,2)==="//";l&&!(u&&Vo[u])&&(s=s.substr(2),this.slashes=!0)}if(!Vo[u]&&(l||u&&!nr[u])){for(var h=-1,v=0;v<Hu.length;v++){var g=s.indexOf(Hu[v]);g!==-1&&(h===-1||g<h)&&(h=g)}var m,_;h===-1?_=s.lastIndexOf("@"):_=s.lastIndexOf("@",h),_!==-1&&(m=s.slice(0,_),s=s.slice(_+1),this.auth=decodeURIComponent(m)),h=-1;for(var v=0;v<Yu.length;v++){var g=s.indexOf(Yu[v]);g!==-1&&(h===-1||g<h)&&(h=g)}h===-1&&(h=s.length),this.host=s.slice(0,h),s=s.slice(h),this.parseHost(),this.hostname=this.hostname||"";var k=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!k)for(var T=this.hostname.split(/\./),v=0,N=T.length;v<N;v++){var R=T[v];if(R&&!R.match(zu)){for(var C="",M=0,F=R.length;M<F;M++)R.charCodeAt(M)>127?C+="x":C+=R[M];if(!C.match(zu)){var E=T.slice(0,v),U=T.slice(v+1),G=R.match(Vh);G&&(E.push(G[1]),U.unshift(G[2])),U.length&&(s="/"+U.join(".")+s),this.hostname=E.join(".");break}}}this.hostname.length>Bh?this.hostname="":this.hostname=this.hostname.toLowerCase(),k||(this.hostname=Mh.toASCII(this.hostname));var p=this.port?":"+this.port:"",d=this.hostname||"";this.host=d+p,this.href+=this.host,k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!Qh[f])for(var v=0,N=Bo.length;v<N;v++){var y=Bo[v];if(s.indexOf(y)!==-1){var O=encodeURIComponent(y);O===y&&(O=escape(y)),s=s.split(y).join(O)}}var A=s.indexOf("#");A!==-1&&(this.hash=s.substr(A),s=s.slice(0,A));var x=s.indexOf("?");if(x!==-1?(this.search=s.substr(x),this.query=s.substr(x+1),t&&(this.query=Qo.parse(this.query)),s=s.slice(0,x)):t&&(this.search="",this.query={}),s&&(this.pathname=s),nr[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var p=this.pathname||"",D=this.search||"";this.path=p+D}return this.href=this.format(),this};function Kh(r){return We.isString(r)&&(r=qr(r)),r instanceof ke?r.format():ke.prototype.format.call(r)}ke.prototype.format=function(){var r=this.auth||"";r&&(r=encodeURIComponent(r),r=r.replace(/%3A/i,":"),r+="@");var t=this.protocol||"",e=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=r+this.host:this.hostname&&(i=r+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&We.isObject(this.query)&&Object.keys(this.query).length&&(o=Qo.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||nr[t])&&i!==!1?(i="//"+(i||""),e&&e.charAt(0)!=="/"&&(e="/"+e)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),a&&a.charAt(0)!=="?"&&(a="?"+a),e=e.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),a=a.replace("#","%23"),t+i+e+a+n};function Gh(r,t){return qr(r,!1,!0).resolve(t)}ke.prototype.resolve=function(r){return this.resolveObject(qr(r,!1,!0)).format()};function Wh(r,t){return r?qr(r,!1,!0).resolveObject(t):t}ke.prototype.resolveObject=function(r){if(We.isString(r)){var t=new ke;t.parse(r,!1,!0),r=t}for(var e=new ke,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];e[o]=this[o]}if(e.hash=r.hash,r.href==="")return e.href=e.format(),e;if(r.slashes&&!r.protocol){for(var a=Object.keys(r),s=0;s<a.length;s++){var c=a[s];c!=="protocol"&&(e[c]=r[c])}return nr[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(r.protocol&&r.protocol!==e.protocol){if(!nr[r.protocol]){for(var u=Object.keys(r),f=0;f<u.length;f++){var l=u[f];e[l]=r[l]}return e.href=e.format(),e}if(e.protocol=r.protocol,!r.host&&!Vo[r.protocol]){for(var N=(r.pathname||"").split("/");N.length&&!(r.host=N.shift()););r.host||(r.host=""),r.hostname||(r.hostname=""),N[0]!==""&&N.unshift(""),N.length<2&&N.unshift(""),e.pathname=N.join("/")}else e.pathname=r.pathname;if(e.search=r.search,e.query=r.query,e.host=r.host||"",e.auth=r.auth,e.hostname=r.hostname||r.host,e.port=r.port,e.pathname||e.search){var h=e.pathname||"",v=e.search||"";e.path=h+v}return e.slashes=e.slashes||r.slashes,e.href=e.format(),e}var g=e.pathname&&e.pathname.charAt(0)==="/",m=r.host||r.pathname&&r.pathname.charAt(0)==="/",_=m||g||e.host&&r.pathname,k=_,T=e.pathname&&e.pathname.split("/")||[],N=r.pathname&&r.pathname.split("/")||[],R=e.protocol&&!nr[e.protocol];if(R&&(e.hostname="",e.port=null,e.host&&(T[0]===""?T[0]=e.host:T.unshift(e.host)),e.host="",r.protocol&&(r.hostname=null,r.port=null,r.host&&(N[0]===""?N[0]=r.host:N.unshift(r.host)),r.host=null),_=_&&(N[0]===""||T[0]==="")),m)e.host=r.host||r.host===""?r.host:e.host,e.hostname=r.hostname||r.hostname===""?r.hostname:e.hostname,e.search=r.search,e.query=r.query,T=N;else if(N.length)T||(T=[]),T.pop(),T=T.concat(N),e.search=r.search,e.query=r.query;else if(!We.isNullOrUndefined(r.search)){if(R){e.hostname=e.host=T.shift();var C=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;C&&(e.auth=C.shift(),e.host=e.hostname=C.shift())}return e.search=r.search,e.query=r.query,(!We.isNull(e.pathname)||!We.isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e}if(!T.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var M=T.slice(-1)[0],F=(e.host||r.host||T.length>1)&&(M==="."||M==="..")||M==="",E=0,U=T.length;U>=0;U--)M=T[U],M==="."?T.splice(U,1):M===".."?(T.splice(U,1),E++):E&&(T.splice(U,1),E--);if(!_&&!k)for(;E--;E)T.unshift("..");_&&T[0]!==""&&(!T[0]||T[0].charAt(0)!=="/")&&T.unshift(""),F&&T.join("/").substr(-1)!=="/"&&T.push("");var G=T[0]===""||T[0]&&T[0].charAt(0)==="/";if(R){e.hostname=e.host=G?"":T.length?T.shift():"";var C=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;C&&(e.auth=C.shift(),e.host=e.hostname=C.shift())}return _=_||e.host&&T.length,_&&!G&&T.unshift(""),T.length?e.pathname=T.join("/"):(e.pathname=null,e.path=null),(!We.isNull(e.pathname)||!We.isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=r.auth||e.auth,e.slashes=e.slashes||r.slashes,e.href=e.format(),e};ke.prototype.parseHost=function(){var r=this.host,t=qh.exec(r);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),r=r.substr(0,r.length-t.length)),r&&(this.hostname=r)}});var Ko=L(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.MAX_HASHABLE_LENGTH=Ie.INIT=Ie.KEY=Ie.DIGEST_LENGTH=Ie.BLOCK_SIZE=void 0;Ie.BLOCK_SIZE=64;Ie.DIGEST_LENGTH=32;Ie.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);Ie.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];Ie.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1});var Ju=L(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.RawSha256=void 0;var Ne=Ko(),Yh=(function(){function r(){this.state=Int32Array.from(Ne.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return r.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var e=0,n=t.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>Ne.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=t[e++],n--,this.bufferLength===Ne.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},r.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,e=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(e.setUint8(this.bufferLength++,128),n%Ne.BLOCK_SIZE>=Ne.BLOCK_SIZE-8){for(var i=this.bufferLength;i<Ne.BLOCK_SIZE;i++)e.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<Ne.BLOCK_SIZE-8;i++)e.setUint8(i,0);e.setUint32(Ne.BLOCK_SIZE-8,Math.floor(t/4294967296),!0),e.setUint32(Ne.BLOCK_SIZE-4,t),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(Ne.DIGEST_LENGTH),i=0;i<8;i++)o[i*4]=this.state[i]>>>24&255,o[i*4+1]=this.state[i]>>>16&255,o[i*4+2]=this.state[i]>>>8&255,o[i*4+3]=this.state[i]>>>0&255;return o},r.prototype.hashBuffer=function(){for(var t=this,e=t.buffer,n=t.state,i=n[0],o=n[1],a=n[2],s=n[3],c=n[4],u=n[5],f=n[6],l=n[7],h=0;h<Ne.BLOCK_SIZE;h++){if(h<16)this.temp[h]=(e[h*4]&255)<<24|(e[h*4+1]&255)<<16|(e[h*4+2]&255)<<8|e[h*4+3]&255;else{var v=this.temp[h-2],g=(v>>>17|v<<15)^(v>>>19|v<<13)^v>>>10;v=this.temp[h-15];var m=(v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3;this.temp[h]=(g+this.temp[h-7]|0)+(m+this.temp[h-16]|0)}var _=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&u^~c&f)|0)+(l+(Ne.KEY[h]+this.temp[h]|0)|0)|0,k=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&o^i&a^o&a)|0;l=f,f=u,u=c,c=s+_|0,s=a,a=o,o=i,i=_+k|0}n[0]+=i,n[1]+=o,n[2]+=a,n[3]+=s,n[4]+=c,n[5]+=u,n[6]+=f,n[7]+=l},r})();Un.RawSha256=Yh});var Zu,$u,Xu=I(()=>{"use strict";Zu=function(r){for(var t=[],e=0,n=r.length;e<n;e++){var i=r.charCodeAt(e);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,i&63|128);else if(e+1<r.length&&(i&64512)===55296&&(r.charCodeAt(e+1)&64512)===56320){var o=65536+((i&1023)<<10)+(r.charCodeAt(++e)&1023);t.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else t.push(i>>12|224,i>>6&63|128,i&63|128)}return Uint8Array.from(t)},$u=function(r){for(var t="",e=0,n=r.length;e<n;e++){var i=r[e];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=r[++e];t+=String.fromCharCode((i&31)<<6|o&63)}else if(240<=i&&i<365){var a=[i,r[++e],r[++e],r[++e]],s="%"+a.map(function(c){return c.toString(16)}).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((i&15)<<12|(r[++e]&63)<<6|r[++e]&63)}return t}});function ec(r){return new TextEncoder().encode(r)}function tc(r){return new TextDecoder("utf-8").decode(r)}var rc=I(()=>{"use strict"});var nc={};yt(nc,{fromUtf8:()=>Hh,toUtf8:()=>zh});var Hh,zh,ic=I(()=>{"use strict";Xu();rc();Hh=function(r){return typeof TextEncoder=="function"?ec(r):Zu(r)},zh=function(r){return typeof TextDecoder=="function"?tc(r):$u(r)}});var oc=L(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});jn.convertToBuffer=void 0;var Jh=(ic(),ye(nc)),Zh=typeof Buffer<"u"&&Buffer.from?function(r){return Buffer.from(r,"utf8")}:Jh.fromUtf8;function $h(r){return r instanceof Uint8Array?r:typeof r=="string"?Zh(r):ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(r)}jn.convertToBuffer=$h});var ac=L(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});Bn.isEmptyData=void 0;function Xh(r){return typeof r=="string"?r.length===0:r.byteLength===0}Bn.isEmptyData=Xh});var sc=L(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.numToUint8=void 0;function ep(r){return new Uint8Array([(r&4278190080)>>24,(r&16711680)>>16,(r&65280)>>8,r&255])}Vn.numToUint8=ep});var uc=L(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});Qn.uint32ArrayFrom=void 0;function tp(r){if(!Array.from){for(var t=new Uint32Array(r.length),e=0;e<r.length;)t[e]=r[e];return t}return Uint32Array.from(r)}Qn.uint32ArrayFrom=tp});var cc=L(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.uint32ArrayFrom=Ye.numToUint8=Ye.isEmptyData=Ye.convertToBuffer=void 0;var rp=oc();Object.defineProperty(Ye,"convertToBuffer",{enumerable:!0,get:function(){return rp.convertToBuffer}});var np=ac();Object.defineProperty(Ye,"isEmptyData",{enumerable:!0,get:function(){return np.isEmptyData}});var ip=sc();Object.defineProperty(Ye,"numToUint8",{enumerable:!0,get:function(){return ip.numToUint8}});var op=uc();Object.defineProperty(Ye,"uint32ArrayFrom",{enumerable:!0,get:function(){return op.uint32ArrayFrom}})});var lc=L(Gn=>{"use strict";Object.defineProperty(Gn,"__esModule",{value:!0});Gn.Sha256=void 0;var fc=(Z(),ye(bi)),Kn=Ko(),Go=Ju(),Wo=cc(),ap=(function(){function r(t){if(this.hash=new Go.RawSha256,t){this.outer=new Go.RawSha256;var e=sp(t),n=new Uint8Array(Kn.BLOCK_SIZE);n.set(e);for(var i=0;i<Kn.BLOCK_SIZE;i++)e[i]^=54,n[i]^=92;this.hash.update(e),this.outer.update(n);for(var i=0;i<e.byteLength;i++)e[i]=0}}return r.prototype.update=function(t){if(!((0,Wo.isEmptyData)(t)||this.error))try{this.hash.update((0,Wo.convertToBuffer)(t))}catch(e){this.error=e}},r.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},r.prototype.digest=function(){return(0,fc.__awaiter)(this,void 0,void 0,function(){return(0,fc.__generator)(this,function(t){return[2,this.digestSync()]})})},r})();Gn.Sha256=ap;function sp(r){var t=(0,Wo.convertToBuffer)(r);if(t.byteLength>Kn.BLOCK_SIZE){var e=new Go.RawSha256;e.update(t),t=e.digest()}var n=new Uint8Array(Kn.BLOCK_SIZE);return n.set(t),n}});var hc=L(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});var up=(Z(),ye(bi));(0,up.__exportStar)(lc(),Yo)});var dc={};yt(dc,{fromHex:()=>cp,toHex:()=>fp});function cp(r){if(r.length%2!==0)throw new Error("Hex encoded strings must have an even number length");for(var t=new Uint8Array(r.length/2),e=0;e<r.length;e+=2){var n=r.slice(e,e+2).toLowerCase();if(n in Ho)t[e/2]=Ho[n];else throw new Error("Cannot decode unrecognized sequence ".concat(n," as hexadecimal"))}return t}function fp(r){for(var t="",e=0;e<r.byteLength;e++)t+=pc[r[e]];return t}var pc,Ho,ar,or,vc=I(()=>{"use strict";pc={},Ho={};for(or=0;or<256;or++)ar=or.toString(16).toLowerCase(),ar.length===1&&(ar="0".concat(ar)),pc[or]=ar,Ho[ar]=or});var wc=L(Wn=>{"use strict";Object.defineProperty(Wn,"__esModule",{value:!0});global.Buffer=global.Buffer||Wu().Buffer;var zo=Ln(),mc=hc().Sha256,yc=(vc(),ye(dc)).toHex,Lr=function(r,t,e){e===void 0&&(e="");var n=new mc(r);n.update(t);var i=n.digestSync();return e==="hex"?yc(i):i},gc=function(r){var t=r||"",e=new mc;return e.update(t),yc(e.digestSync())},lp=function(r){return!r||Object.keys(r).length===0?"":Object.keys(r).map(function(t){return{key:t.toLowerCase(),value:r[t]?r[t].trim().replace(/\s+/g," "):""}}).sort(function(t,e){return t.key<e.key?-1:1}).map(function(t){return t.key+":"+t.value}).join(`
`)+`
`},bc=function(r){return Object.keys(r).map(function(t){return t.toLowerCase()}).sort().join(";")},hp=function(r){var t=zo.parse(r.url);return[r.method||"/",t.path,t.query,lp(r.headers),bc(r.headers),gc(r.body)].join(`
`)},pp=function(r){var t=zo.parse(r.url),e=t.host,n=e.match(/([^.]+)\.(?:([^.]*)\.)?amazonaws\.com$/),i=(n||[]).slice(1,3);return i[1]==="es"&&(i=i.reverse()),{service:r.service||i[0],region:r.region||i[1]}},dp=function(r,t,e){return[r,t,e,"aws4_request"].join("/")},vp=function(r,t,e,n){return[r,e,n,gc(t)].join(`
`)},mp=function(r,t,e){r===void 0&&(r="");var n="AWS4"+r,i=Lr(n,t),o=Lr(i,e.region),a=Lr(o,e.service),s=Lr(a,"aws4_request");return s},yp=function(r,t){return Lr(r,t,"hex")},gp=function(r,t,e,n,i){return t===void 0&&(t=""),[r+" Credential="+t+"/"+e,"SignedHeaders="+n,"Signature="+i].join(", ")},bp=function(r,t,e){e===void 0&&(e=null),r.headers=r.headers||{};var n=new Date,i=n.toISOString().replace(/[:-]|\.\d{3}/g,""),o=i.substr(0,8),a="AWS4-HMAC-SHA256",s=zo.parse(r.url);r.headers.host=s.host,r.headers["x-amz-date"]=i,t.session_token&&(r.headers["X-Amz-Security-Token"]=t.session_token);var c=hp(r);e=e||pp(r);var u=dp(o,e.region,e.service),f=vp(a,c,i,u),l=mp(t.secret_key,o,e),h=yp(l,f),v=gp(a,t.access_key,u,bc(r.headers),h);return r.headers.Authorization=v,r},_c=(function(){function r(){}return r.sign=bp,r})();Wn.Signer=_c;Wn.default=_c});var Jo=L(Yn=>{"use strict";function _p(r){for(var t in r)Yn.hasOwnProperty(t)||(Yn[t]=r[t])}Object.defineProperty(Yn,"__esModule",{value:!0});_p(wc())});var Ec=L(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});var wp="";Zo.userAgent=wp});var Sc=L((M_,Ep)=>{Ep.exports={name:"aws-appsync-auth-link",version:"3.0.7",main:"lib/index.js",license:"Apache-2.0",description:"AWS Mobile AppSync Auth Link for JavaScript",author:{name:"Amazon Web Services",url:"https://aws.amazon.com/"},homepage:"https://github.com/awslabs/aws-mobile-appsync-sdk-js.git",repository:{type:"git",url:"https://github.com/awslabs/aws-mobile-appsync-sdk-js.git"},scripts:{prepare:"tsc",test:"jest --coverage --coverageReporters=text --passWithNoTests","test-watch":"jest --watch"},dependencies:{"@aws-crypto/sha256-js":"^1.2.0","@aws-sdk/types":"^3.25.0","@aws-sdk/util-hex-encoding":"^3.29.0",debug:"2.6.9"},devDependencies:{"@apollo/client":"^3.2.0"},peerDependencies:{"@apollo/client":"3.x"}}});var Ac=L(re=>{"use strict";var Sp=re&&re.__extends||(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}})(),ce=re&&re.__assign||function(){return ce=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},ce.apply(this,arguments)},Oc=re&&re.__awaiter||function(r,t,e,n){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(r,t||[])).next())})},Tc=re&&re.__generator||function(r,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(r,e)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(re,"__esModule",{value:!0});var $o=(Nt(),ye(er)),xp=(Rf(),ye(Nf)),Op=Jo(),Tp=Ln(),xc=Ec(),Ap=Sc(),kp="appsync";re.USER_AGENT_HEADER="x-amz-user-agent";re.USER_AGENT="aws-amplify/"+Ap.version+(xc.userAgent&&" ")+xc.userAgent;var Dt;(function(r){r.NONE="NONE",r.API_KEY="API_KEY",r.AWS_IAM="AWS_IAM",r.AMAZON_COGNITO_USER_POOLS="AMAZON_COGNITO_USER_POOLS",r.OPENID_CONNECT="OPENID_CONNECT",r.AWS_LAMBDA="AWS_LAMBDA"})(Dt=re.AUTH_TYPE||(re.AUTH_TYPE={}));var Ip=(function(r){Sp(t,r);function t(e){var n=r.call(this)||this;return n.link=re.authLink(e),n}return t.prototype.request=function(e,n){return this.link.request(e,n)},t})($o.ApolloLink);re.AuthLink=Ip;var Hn=function(r,t,e){var n=r===void 0?{header:"",value:""}:r,i=n.header,o=n.value;return Oc(void 0,void 0,void 0,function(){var a,s,c,u,f,l;return Tc(this,function(h){switch(h.label){case 0:return a=t.getContext(),s=ce(ce({},a.headers),(f={},f[re.USER_AGENT_HEADER]=re.USER_AGENT,f)),i&&o?typeof o!="function"?[3,2]:[4,o.call(void 0)]:[3,5];case 1:return u=h.sent(),[3,4];case 2:return[4,o];case 3:u=h.sent(),h.label=4;case 4:c=u,s=ce((l={},l[i]=c,l),s),h.label=5;case 5:return t.setContext(ce(ce({},a),{headers:s})),[2,e(t)]}})})},Np=function(r,t,e){var n=r.credentials,i=r.region,o=r.url;return Oc(void 0,void 0,void 0,function(){var a,s,c,u,f,l,h,v,g,m,_,k,T;return Tc(this,function(N){switch(N.label){case 0:return a=kp,s=t.getContext(),c=typeof n=="function"?n.call():n||{},c&&typeof c.getPromise=="function"?[4,c.getPromise()]:[3,2];case 1:N.sent(),N.label=2;case 2:return[4,c];case 3:return u=N.sent(),f=u.accessKeyId,l=u.secretAccessKey,h=u.sessionToken,v=Tp.parse(o),g=v.host,m=v.path,_=ce(ce({},Rp(t,{})),{service:a,region:i,url:o,host:g,path:m}),k=Op.Signer.sign(_,{access_key:f,secret_key:l,session_token:h}).headers,t.setContext(ce(ce({},s),{headers:ce(ce(ce({},s.headers),k),(T={},T[re.USER_AGENT_HEADER]=re.USER_AGENT,T))})),[2,e(t)]}})})};re.authLink=function(r){var t=r.url,e=r.region,n=r.auth,i=(n===void 0?{}:n).type,o=r.auth;return new $o.ApolloLink(function(a,s){return new $o.Observable(function(c){var u,f;switch(i){case Dt.NONE:f=Hn(void 0,a,s);break;case Dt.AWS_IAM:var l=o.credentials,h=l===void 0?{}:l;f=Np({credentials:h,region:e,url:t},a,s);break;case Dt.API_KEY:var v=o.apiKey,g=v===void 0?"":v;f=Hn({header:"X-Api-Key",value:g},a,s);break;case Dt.AMAZON_COGNITO_USER_POOLS:case Dt.OPENID_CONNECT:var m=o.jwtToken,_=m===void 0?"":m;f=Hn({header:"Authorization",value:_},a,s);break;case Dt.AWS_LAMBDA:var k=o.token,T=k===void 0?"":k;f=Hn({header:"Authorization",value:T},a,s);break;default:var N=new Error("Invalid AUTH_TYPE: "+o.type);throw N}return f.then(function(R){u=R.subscribe({next:c.next.bind(c),error:c.error.bind(c),complete:c.complete.bind(c)})}),function(){u&&u.unsubscribe()}})})};var Rp=function(r,t){var e=r.operationName,n=r.variables,i=r.query,o={operationName:e,variables:Cp(n),query:xp.print(i)};return ce(ce({body:JSON.stringify(o),method:"POST"},t),{headers:ce({accept:"*/*","content-type":"application/json; charset=UTF-8"},t.headers)})},Cp=function(r){return Object.keys(r).filter(function(t){return!t.startsWith("@@")}).reduce(function(t,e){return t[e]=r[e],t},{})}});var Xo=L(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});var Ur=Ac();pt.AuthLink=Ur.AuthLink;pt.AUTH_TYPE=Ur.AUTH_TYPE;pt.USER_AGENT_HEADER=Ur.USER_AGENT_HEADER;pt.USER_AGENT=Ur.USER_AGENT;pt.createAuthLink=function(r){var t=r.url,e=r.region,n=r.auth;return new Ur.AuthLink({url:t,region:e,auth:n})};var Dp=Jo();pt.Signer=Dp.Signer});var Ic=L((L_,kc)=>{"use strict";var jr=1e3,Br=jr*60,Vr=Br*60,Qr=Vr*24,Fp=Qr*365.25;kc.exports=function(r,t){t=t||{};var e=typeof r;if(e==="string"&&r.length>0)return Mp(r);if(e==="number"&&isNaN(r)===!1)return t.long?qp(r):Pp(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function Mp(r){if(r=String(r),!(r.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(t){var e=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return e*Fp;case"days":case"day":case"d":return e*Qr;case"hours":case"hour":case"hrs":case"hr":case"h":return e*Vr;case"minutes":case"minute":case"mins":case"min":case"m":return e*Br;case"seconds":case"second":case"secs":case"sec":case"s":return e*jr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return e;default:return}}}}function Pp(r){return r>=Qr?Math.round(r/Qr)+"d":r>=Vr?Math.round(r/Vr)+"h":r>=Br?Math.round(r/Br)+"m":r>=jr?Math.round(r/jr)+"s":r+"ms"}function qp(r){return zn(r,Qr,"day")||zn(r,Vr,"hour")||zn(r,Br,"minute")||zn(r,jr,"second")||r+" ms"}function zn(r,t,e){if(!(r<t))return r<t*1.5?Math.floor(r/t)+" "+e:Math.ceil(r/t)+" "+e+"s"}});var Rc=L((W,Nc)=>{"use strict";W=Nc.exports=ta.debug=ta.default=ta;W.coerce=Vp;W.disable=jp;W.enable=Up;W.enabled=Bp;W.humanize=Ic();W.names=[];W.skips=[];W.formatters={};var ea;function Lp(r){var t=0,e;for(e in r)t=(t<<5)-t+r.charCodeAt(e),t|=0;return W.colors[Math.abs(t)%W.colors.length]}function ta(r){function t(){if(t.enabled){var e=t,n=+new Date,i=n-(ea||n);e.diff=i,e.prev=ea,e.curr=n,ea=n;for(var o=new Array(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];o[0]=W.coerce(o[0]),typeof o[0]!="string"&&o.unshift("%O");var s=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(u,f){if(u==="%%")return u;s++;var l=W.formatters[f];if(typeof l=="function"){var h=o[s];u=l.call(e,h),o.splice(s,1),s--}return u}),W.formatArgs.call(e,o);var c=t.log||W.log||console.log.bind(console);c.apply(e,o)}}return t.namespace=r,t.enabled=W.enabled(r),t.useColors=W.useColors(),t.color=Lp(r),typeof W.init=="function"&&W.init(t),t}function Up(r){W.save(r),W.names=[],W.skips=[];for(var t=(typeof r=="string"?r:"").split(/[\s,]+/),e=t.length,n=0;n<e;n++)t[n]&&(r=t[n].replace(/\*/g,".*?"),r[0]==="-"?W.skips.push(new RegExp("^"+r.substr(1)+"$")):W.names.push(new RegExp("^"+r+"$")))}function jp(){W.enable("")}function Bp(r){var t,e;for(t=0,e=W.skips.length;t<e;t++)if(W.skips[t].test(r))return!1;for(t=0,e=W.names.length;t<e;t++)if(W.names[t].test(r))return!0;return!1}function Vp(r){return r instanceof Error?r.stack||r.message:r}});var Fc=L((ge,Dc)=>{"use strict";ge=Dc.exports=Rc();ge.log=Gp;ge.formatArgs=Kp;ge.save=Wp;ge.load=Cc;ge.useColors=Qp;ge.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:Yp();ge.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function Qp(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}ge.formatters.j=function(r){try{return JSON.stringify(r)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}};function Kp(r){var t=this.useColors;if(r[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+r[0]+(t?"%c ":" ")+"+"+ge.humanize(this.diff),!!t){var e="color: "+this.color;r.splice(1,0,e,"color: inherit");var n=0,i=0;r[0].replace(/%[a-zA-Z%]/g,function(o){o!=="%%"&&(n++,o==="%c"&&(i=n))}),r.splice(i,0,e)}}function Gp(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function Wp(r){try{r==null?ge.storage.removeItem("debug"):ge.storage.debug=r}catch{}}function Cc(){var r;try{r=ge.storage.debug}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=process.env.DEBUG),r}ge.enable(Cc());function Yp(){try{return window.localStorage}catch{}}});var qc=L(Kr=>{"use strict";var Hp=Kr&&Kr.__spreadArrays||function(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var n=Array(r),i=0,t=0;t<e;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n};Object.defineProperty(Kr,"__esModule",{value:!0});var Mc=Fc(),ra=Mc.default("aws-appsync"),Pc=function(r){r===void 0&&(r="");var t=r?Hp(this.namespace.split(":"),[r]).join(":"):this.namespace,e=Mc.default(t);return e.extend=Pc.bind(e),e};ra.extend=Pc.bind(ra);Kr.default=ra});var Jn=L(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});var zp=qc();na.rootLogger=zp.default});var Lc=L((Gr,ia)=>{"use strict";(function(t,e){typeof Gr=="object"&&typeof ia=="object"?ia.exports=e():typeof define=="function"&&define.amd?define(e):typeof Gr=="object"?Gr=e():t.Paho=e()})(Gr,function(){var t=(function(e){var n="@VERSION@-@BUILDLEVEL@",i=e.localStorage||(function(){var p={};return{setItem:function(d,y){p[d]=y},getItem:function(d){return p[d]},removeItem:function(d){delete p[d]}}})(),o={CONNECT:1,CONNACK:2,PUBLISH:3,PUBACK:4,PUBREC:5,PUBREL:6,PUBCOMP:7,SUBSCRIBE:8,SUBACK:9,UNSUBSCRIBE:10,UNSUBACK:11,PINGREQ:12,PINGRESP:13,DISCONNECT:14},a=function(p,d){for(var y in p)if(p.hasOwnProperty(y))if(d.hasOwnProperty(y)){if(typeof p[y]!==d[y])throw new Error(f(c.INVALID_TYPE,[typeof p[y],y]))}else{var O="Unknown property, "+y+". Valid properties are:";for(var A in d)d.hasOwnProperty(A)&&(O=O+" "+A);throw new Error(O)}},s=function(p,d){return function(){return p.apply(d,arguments)}},c={OK:{code:0,text:"AMQJSC0000I OK."},CONNECT_TIMEOUT:{code:1,text:"AMQJSC0001E Connect timed out."},SUBSCRIBE_TIMEOUT:{code:2,text:"AMQJS0002E Subscribe timed out."},UNSUBSCRIBE_TIMEOUT:{code:3,text:"AMQJS0003E Unsubscribe timed out."},PING_TIMEOUT:{code:4,text:"AMQJS0004E Ping timed out."},INTERNAL_ERROR:{code:5,text:"AMQJS0005E Internal error. Error Message: {0}, Stack trace: {1}"},CONNACK_RETURNCODE:{code:6,text:"AMQJS0006E Bad Connack return code:{0} {1}."},SOCKET_ERROR:{code:7,text:"AMQJS0007E Socket error:{0}."},SOCKET_CLOSE:{code:8,text:"AMQJS0008I Socket closed."},MALFORMED_UTF:{code:9,text:"AMQJS0009E Malformed UTF data:{0} {1} {2}."},UNSUPPORTED:{code:10,text:"AMQJS0010E {0} is not supported by this browser."},INVALID_STATE:{code:11,text:"AMQJS0011E Invalid state {0}."},INVALID_TYPE:{code:12,text:"AMQJS0012E Invalid type {0} for {1}."},INVALID_ARGUMENT:{code:13,text:"AMQJS0013E Invalid argument {0} for {1}."},UNSUPPORTED_OPERATION:{code:14,text:"AMQJS0014E Unsupported operation."},INVALID_STORED_DATA:{code:15,text:"AMQJS0015E Invalid data in local storage key={0} value={1}."},INVALID_MQTT_MESSAGE_TYPE:{code:16,text:"AMQJS0016E Invalid MQTT message type {0}."},MALFORMED_UNICODE:{code:17,text:"AMQJS0017E Malformed Unicode string:{0} {1}."},BUFFER_FULL:{code:18,text:"AMQJS0018E Message buffer is full, maximum buffer size: {0}."}},u={0:"Connection Accepted",1:"Connection Refused: unacceptable protocol version",2:"Connection Refused: identifier rejected",3:"Connection Refused: server unavailable",4:"Connection Refused: bad user name or password",5:"Connection Refused: not authorized"},f=function(p,d){var y=p.text;if(d){for(var O,A,x=0;x<d.length;x++)if(O="{"+x+"}",A=y.indexOf(O),A>0){var D=y.substring(0,A),Q=y.substring(A+O.length);y=D+d[x]+Q}}return y},l=[0,6,77,81,73,115,100,112,3],h=[0,4,77,81,84,84,4],v=function(p,d){this.type=p;for(var y in d)d.hasOwnProperty(y)&&(this[y]=d[y])};v.prototype.encode=function(){var p=(this.type&15)<<4,d=0,y=[],O=0,A;switch(this.messageIdentifier!==void 0&&(d+=2),this.type){case o.CONNECT:switch(this.mqttVersion){case 3:d+=l.length+3;break;case 4:d+=h.length+3;break}d+=N(this.clientId)+2,this.willMessage!==void 0&&(d+=N(this.willMessage.destinationName)+2,A=this.willMessage.payloadBytes,A instanceof Uint8Array||(A=new Uint8Array(D)),d+=A.byteLength+2),this.userName!==void 0&&(d+=N(this.userName)+2),this.password!==void 0&&(d+=N(this.password)+2);break;case o.SUBSCRIBE:p|=2;for(var x=0;x<this.topics.length;x++)y[x]=N(this.topics[x]),d+=y[x]+2;d+=this.requestedQos.length;break;case o.UNSUBSCRIBE:p|=2;for(var x=0;x<this.topics.length;x++)y[x]=N(this.topics[x]),d+=y[x]+2;break;case o.PUBREL:p|=2;break;case o.PUBLISH:this.payloadMessage.duplicate&&(p|=8),p=p|=this.payloadMessage.qos<<1,this.payloadMessage.retained&&(p|=1),O=N(this.payloadMessage.destinationName),d+=O+2;var D=this.payloadMessage.payloadBytes;d+=D.byteLength,D instanceof ArrayBuffer?D=new Uint8Array(D):D instanceof Uint8Array||(D=new Uint8Array(D.buffer));break;case o.DISCONNECT:break;default:break}var Q=T(d),q=Q.length+1,J=new ArrayBuffer(d+q),P=new Uint8Array(J);if(P[0]=p,P.set(Q,1),this.type==o.PUBLISH)q=_(this.payloadMessage.destinationName,O,P,q);else if(this.type==o.CONNECT){switch(this.mqttVersion){case 3:P.set(l,q),q+=l.length;break;case 4:P.set(h,q),q+=h.length;break}var b=0;this.cleanSession&&(b=2),this.willMessage!==void 0&&(b|=4,b|=this.willMessage.qos<<3,this.willMessage.retained&&(b|=32)),this.userName!==void 0&&(b|=128),this.password!==void 0&&(b|=64),P[q++]=b,q=m(this.keepAliveInterval,P,q)}switch(this.messageIdentifier!==void 0&&(q=m(this.messageIdentifier,P,q)),this.type){case o.CONNECT:q=_(this.clientId,N(this.clientId),P,q),this.willMessage!==void 0&&(q=_(this.willMessage.destinationName,N(this.willMessage.destinationName),P,q),q=m(A.byteLength,P,q),P.set(A,q),q+=A.byteLength),this.userName!==void 0&&(q=_(this.userName,N(this.userName),P,q)),this.password!==void 0&&(q=_(this.password,N(this.password),P,q));break;case o.PUBLISH:P.set(D,q);break;case o.SUBSCRIBE:for(var x=0;x<this.topics.length;x++)q=_(this.topics[x],y[x],P,q),P[q++]=this.requestedQos[x];break;case o.UNSUBSCRIBE:for(var x=0;x<this.topics.length;x++)q=_(this.topics[x],y[x],P,q);break;default:}return J};function g(p,d){var y=d,O=p[d],A=O>>4,x=O&=15;d+=1;var D,Q=0,q=1;do{if(d==p.length)return[null,y];D=p[d++],Q+=(D&127)*q,q*=128}while((D&128)!==0);var J=d+Q;if(J>p.length)return[null,y];var P=new v(A);switch(A){case o.CONNACK:var b=p[d++];b&1&&(P.sessionPresent=!0),P.returnCode=p[d++];break;case o.PUBLISH:var K=x>>1&3,V=k(p,d);d+=2;var Re=C(p,d,V);d+=V,K>0&&(P.messageIdentifier=k(p,d),d+=2);var z=new t.Message(p.subarray(d,J));(x&1)==1&&(z.retained=!0),(x&8)==8&&(z.duplicate=!0),z.qos=K,z.destinationName=Re,P.payloadMessage=z;break;case o.PUBACK:case o.PUBREC:case o.PUBREL:case o.PUBCOMP:case o.UNSUBACK:P.messageIdentifier=k(p,d);break;case o.SUBACK:P.messageIdentifier=k(p,d),d+=2,P.returnCode=p.subarray(d,J);break;default:break}return[P,J]}function m(p,d,y){return d[y++]=p>>8,d[y++]=p%256,y}function _(p,d,y,O){return O=m(d,y,O),R(p,y,O),O+d}function k(p,d){return 256*p[d]+p[d+1]}function T(p){var d=new Array(1),y=0;do{var O=p%128;p=p>>7,p>0&&(O|=128),d[y++]=O}while(p>0&&y<4);return d}function N(p){for(var d=0,y=0;y<p.length;y++){var O=p.charCodeAt(y);O>2047?(55296<=O&&O<=56319&&(y++,d++),d+=3):O>127?d+=2:d++}return d}function R(p,d,y){for(var O=y,A=0;A<p.length;A++){var x=p.charCodeAt(A);if(55296<=x&&x<=56319){var D=p.charCodeAt(++A);if(isNaN(D))throw new Error(f(c.MALFORMED_UNICODE,[x,D]));x=(x-55296<<10)+(D-56320)+65536}x<=127?d[O++]=x:x<=2047?(d[O++]=x>>6&31|192,d[O++]=x&63|128):x<=65535?(d[O++]=x>>12&15|224,d[O++]=x>>6&63|128,d[O++]=x&63|128):(d[O++]=x>>18&7|240,d[O++]=x>>12&63|128,d[O++]=x>>6&63|128,d[O++]=x&63|128)}return d}function C(p,d,y){for(var O="",A,x=d;x<d+y;){var D=p[x++];if(D<128)A=D;else{var Q=p[x++]-128;if(Q<0)throw new Error(f(c.MALFORMED_UTF,[D.toString(16),Q.toString(16),""]));if(D<224)A=64*(D-192)+Q;else{var q=p[x++]-128;if(q<0)throw new Error(f(c.MALFORMED_UTF,[D.toString(16),Q.toString(16),q.toString(16)]));if(D<240)A=4096*(D-224)+64*Q+q;else{var J=p[x++]-128;if(J<0)throw new Error(f(c.MALFORMED_UTF,[D.toString(16),Q.toString(16),q.toString(16),J.toString(16)]));if(D<248)A=262144*(D-240)+4096*Q+64*q+J;else throw new Error(f(c.MALFORMED_UTF,[D.toString(16),Q.toString(16),q.toString(16),J.toString(16)]))}}}A>65535&&(A-=65536,O+=String.fromCharCode(55296+(A>>10)),A=56320+(A&1023)),O+=String.fromCharCode(A)}return O}var M=function(p,d){this._client=p,this._keepAliveInterval=d*1e3,this.isReset=!1;var y=new v(o.PINGREQ).encode(),O=function(x){return function(){return A.apply(x)}},A=function(){this.isReset?(this.isReset=!1,this._client._trace("Pinger.doPing","send PINGREQ"),this._client.socket.send(y),this.timeout=setTimeout(O(this),this._keepAliveInterval)):(this._client._trace("Pinger.doPing","Timed out"),this._client._disconnected(c.PING_TIMEOUT.code,f(c.PING_TIMEOUT)))};this.reset=function(){this.isReset=!0,clearTimeout(this.timeout),this._keepAliveInterval>0&&(this.timeout=setTimeout(O(this),this._keepAliveInterval))},this.cancel=function(){clearTimeout(this.timeout)}},F=function(p,d,y,O){d||(d=30);var A=function(x,D,Q){return function(){return x.apply(D,Q)}};this.timeout=setTimeout(A(y,p,O),d*1e3),this.cancel=function(){clearTimeout(this.timeout)}},E=function(p,d,y,O,A){if(!("WebSocket"in e&&e.WebSocket!==null))throw new Error(f(c.UNSUPPORTED,["WebSocket"]));if(!("ArrayBuffer"in e&&e.ArrayBuffer!==null))throw new Error(f(c.UNSUPPORTED,["ArrayBuffer"]));this._trace("Paho.Client",p,d,y,O,A),this.host=d,this.port=y,this.path=O,this.uri=p,this.clientId=A,this._wsuri=null,this._localKey=d+":"+y+(O!="/mqtt"?":"+O:"")+":"+A+":",this._msg_queue=[],this._buffered_msg_queue=[],this._sentMessages={},this._receivedMessages={},this._notify_msg_sent={},this._message_identifier=1,this._sequence=0;for(var x in i)(x.indexOf("Sent:"+this._localKey)===0||x.indexOf("Received:"+this._localKey)===0)&&this.restore(x)};E.prototype.host=null,E.prototype.port=null,E.prototype.path=null,E.prototype.uri=null,E.prototype.clientId=null,E.prototype.socket=null,E.prototype.connected=!1,E.prototype.maxMessageIdentifier=65536,E.prototype.connectOptions=null,E.prototype.hostIndex=null,E.prototype.onConnected=null,E.prototype.onConnectionLost=null,E.prototype.onMessageDelivered=null,E.prototype.onMessageArrived=null,E.prototype.traceFunction=null,E.prototype._msg_queue=null,E.prototype._buffered_msg_queue=null,E.prototype._connectTimeout=null,E.prototype.sendPinger=null,E.prototype.receivePinger=null,E.prototype._reconnectInterval=1,E.prototype._reconnecting=!1,E.prototype._reconnectTimeout=null,E.prototype.disconnectedPublishing=!1,E.prototype.disconnectedBufferSize=5e3,E.prototype.receiveBuffer=null,E.prototype._traceBuffer=null,E.prototype._MAX_TRACE_ENTRIES=100,E.prototype.connect=function(p){var d=this._traceMask(p,"password");if(this._trace("Client.connect",d,this.socket,this.connected),this.connected)throw new Error(f(c.INVALID_STATE,["already connected"]));if(this.socket)throw new Error(f(c.INVALID_STATE,["already connected"]));this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),this.connectOptions=p,this._reconnectInterval=1,this._reconnecting=!1,p.uris?(this.hostIndex=0,this._doConnect(p.uris[0])):this._doConnect(this.uri)},E.prototype.subscribe=function(p,d){if(this._trace("Client.subscribe",p,d),!this.connected)throw new Error(f(c.INVALID_STATE,["not connected"]));var y=new v(o.SUBSCRIBE);y.topics=[p],d.qos!==void 0?y.requestedQos=[d.qos]:y.requestedQos=[0],d.onSuccess&&(y.onSuccess=function(O){d.onSuccess({invocationContext:d.invocationContext,grantedQos:O})}),d.onFailure&&(y.onFailure=function(O){d.onFailure({invocationContext:d.invocationContext,errorCode:O,errorMessage:f(O)})}),d.timeout&&(y.timeOut=new F(this,d.timeout,d.onFailure,[{invocationContext:d.invocationContext,errorCode:c.SUBSCRIBE_TIMEOUT.code,errorMessage:f(c.SUBSCRIBE_TIMEOUT)}])),this._requires_ack(y),this._schedule_message(y)},E.prototype.unsubscribe=function(p,d){if(this._trace("Client.unsubscribe",p,d),!this.connected)throw new Error(f(c.INVALID_STATE,["not connected"]));var y=new v(o.UNSUBSCRIBE);y.topics=[p],d.onSuccess&&(y.callback=function(){d.onSuccess({invocationContext:d.invocationContext})}),d.timeout&&(y.timeOut=new F(this,d.timeout,d.onFailure,[{invocationContext:d.invocationContext,errorCode:c.UNSUBSCRIBE_TIMEOUT.code,errorMessage:f(c.UNSUBSCRIBE_TIMEOUT)}])),this._requires_ack(y),this._schedule_message(y)},E.prototype.send=function(p){this._trace("Client.send",p);var d=new v(o.PUBLISH);if(d.payloadMessage=p,this.connected)p.qos>0?this._requires_ack(d):this.onMessageDelivered&&(this._notify_msg_sent[d]=this.onMessageDelivered(d.payloadMessage)),this._schedule_message(d);else if(this._reconnecting&&this.disconnectedPublishing){var y=Object.keys(this._sentMessages).length+this._buffered_msg_queue.length;if(y>this.disconnectedBufferSize)throw new Error(f(c.BUFFER_FULL,[this.disconnectedBufferSize]));p.qos>0?this._requires_ack(d):(d.sequence=++this._sequence,this._buffered_msg_queue.unshift(d))}else throw new Error(f(c.INVALID_STATE,["not connected"]))},E.prototype.disconnect=function(){if(this._trace("Client.disconnect"),this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),!this.socket)throw new Error(f(c.INVALID_STATE,["not connecting or connected"]));var p=new v(o.DISCONNECT);this._notify_msg_sent[p]=s(this._disconnected,this),this._schedule_message(p)},E.prototype.getTraceLog=function(){if(this._traceBuffer!==null){this._trace("Client.getTraceLog",new Date),this._trace("Client.getTraceLog in flight messages",this._sentMessages.length);for(var p in this._sentMessages)this._trace("_sentMessages ",p,this._sentMessages[p]);for(var p in this._receivedMessages)this._trace("_receivedMessages ",p,this._receivedMessages[p]);return this._traceBuffer}},E.prototype.startTrace=function(){this._traceBuffer===null&&(this._traceBuffer=[]),this._trace("Client.startTrace",new Date,n)},E.prototype.stopTrace=function(){delete this._traceBuffer},E.prototype._doConnect=function(p){if(this.connectOptions.useSSL){var d=p.split(":");d[0]="wss",p=d.join(":")}this._wsuri=p,this.connected=!1,this.connectOptions.mqttVersion<4?this.socket=new WebSocket(p,["mqttv3.1"]):this.socket=new WebSocket(p,["mqtt"]),this.socket.binaryType="arraybuffer",this.socket.onopen=s(this._on_socket_open,this),this.socket.onmessage=s(this._on_socket_message,this),this.socket.onerror=s(this._on_socket_error,this),this.socket.onclose=s(this._on_socket_close,this),this.sendPinger=new M(this,this.connectOptions.keepAliveInterval),this.receivePinger=new M(this,this.connectOptions.keepAliveInterval),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._connectTimeout=new F(this,this.connectOptions.timeout,this._disconnected,[c.CONNECT_TIMEOUT.code,f(c.CONNECT_TIMEOUT)])},E.prototype._schedule_message=function(p){this._msg_queue.unshift(p),this.connected&&this._process_queue()},E.prototype.store=function(p,d){var y={type:d.type,messageIdentifier:d.messageIdentifier,version:1};switch(d.type){case o.PUBLISH:d.pubRecReceived&&(y.pubRecReceived=!0),y.payloadMessage={};for(var O="",A=d.payloadMessage.payloadBytes,x=0;x<A.length;x++)A[x]<=15?O=O+"0"+A[x].toString(16):O=O+A[x].toString(16);y.payloadMessage.payloadHex=O,y.payloadMessage.qos=d.payloadMessage.qos,y.payloadMessage.destinationName=d.payloadMessage.destinationName,d.payloadMessage.duplicate&&(y.payloadMessage.duplicate=!0),d.payloadMessage.retained&&(y.payloadMessage.retained=!0),p.indexOf("Sent:")===0&&(d.sequence===void 0&&(d.sequence=++this._sequence),y.sequence=d.sequence);break;default:throw Error(f(c.INVALID_STORED_DATA,[p+this._localKey+d.messageIdentifier,y]))}i.setItem(p+this._localKey+d.messageIdentifier,JSON.stringify(y))},E.prototype.restore=function(p){var d=i.getItem(p),y=JSON.parse(d),O=new v(y.type,y);switch(y.type){case o.PUBLISH:for(var A=y.payloadMessage.payloadHex,x=new ArrayBuffer(A.length/2),D=new Uint8Array(x),Q=0;A.length>=2;){var q=parseInt(A.substring(0,2),16);A=A.substring(2,A.length),D[Q++]=q}var J=new t.Message(D);J.qos=y.payloadMessage.qos,J.destinationName=y.payloadMessage.destinationName,y.payloadMessage.duplicate&&(J.duplicate=!0),y.payloadMessage.retained&&(J.retained=!0),O.payloadMessage=J;break;default:throw Error(f(c.INVALID_STORED_DATA,[p,d]))}p.indexOf("Sent:"+this._localKey)===0?(O.payloadMessage.duplicate=!0,this._sentMessages[O.messageIdentifier]=O):p.indexOf("Received:"+this._localKey)===0&&(this._receivedMessages[O.messageIdentifier]=O)},E.prototype._process_queue=function(){for(var p=null;p=this._msg_queue.pop();)this._socket_send(p),this._notify_msg_sent[p]&&(this._notify_msg_sent[p](),delete this._notify_msg_sent[p])},E.prototype._requires_ack=function(p){var d=Object.keys(this._sentMessages).length;if(d>this.maxMessageIdentifier)throw Error("Too many messages:"+d);for(;this._sentMessages[this._message_identifier]!==void 0;)this._message_identifier++;p.messageIdentifier=this._message_identifier,this._sentMessages[p.messageIdentifier]=p,p.type===o.PUBLISH&&this.store("Sent:",p),this._message_identifier===this.maxMessageIdentifier&&(this._message_identifier=1)},E.prototype._on_socket_open=function(){var p=new v(o.CONNECT,this.connectOptions);p.clientId=this.clientId,this._socket_send(p)},E.prototype._on_socket_message=function(p){this._trace("Client._on_socket_message",p.data);for(var d=this._deframeMessages(p.data),y=0;y<d.length;y+=1)this._handleMessage(d[y])},E.prototype._deframeMessages=function(p){var d=new Uint8Array(p),y=[];if(this.receiveBuffer){var O=new Uint8Array(this.receiveBuffer.length+d.length);O.set(this.receiveBuffer),O.set(d,this.receiveBuffer.length),d=O,delete this.receiveBuffer}try{for(var A=0;A<d.length;){var x=g(d,A),D=x[0];if(A=x[1],D!==null)y.push(D);else break}A<d.length&&(this.receiveBuffer=d.subarray(A))}catch(q){var Q=q.hasOwnProperty("stack")=="undefined"?q.stack.toString():"No Error Stack Available";this._disconnected(c.INTERNAL_ERROR.code,f(c.INTERNAL_ERROR,[q.message,Q]));return}return y},E.prototype._handleMessage=function(p){this._trace("Client._handleMessage",p);try{switch(p.type){case o.CONNACK:if(this._connectTimeout.cancel(),this._reconnectTimeout&&this._reconnectTimeout.cancel(),this.connectOptions.cleanSession){for(var d in this._sentMessages){var b=this._sentMessages[d];i.removeItem("Sent:"+this._localKey+b.messageIdentifier)}this._sentMessages={};for(var d in this._receivedMessages){var J=this._receivedMessages[d];i.removeItem("Received:"+this._localKey+J.messageIdentifier)}this._receivedMessages={}}if(p.returnCode===0)this.connected=!0,this.connectOptions.uris&&(this.hostIndex=this.connectOptions.uris.length);else{this._disconnected(c.CONNACK_RETURNCODE.code,f(c.CONNACK_RETURNCODE,[p.returnCode,u[p.returnCode]]));break}var A=[];for(var y in this._sentMessages)this._sentMessages.hasOwnProperty(y)&&A.push(this._sentMessages[y]);if(this._buffered_msg_queue.length>0)for(var O=null;O=this._buffered_msg_queue.pop();)A.push(O),this.onMessageDelivered&&(this._notify_msg_sent[O]=this.onMessageDelivered(O.payloadMessage));for(var A=A.sort(function(V,Re){return V.sequence-Re.sequence}),x=0,D=A.length;x<D;x++){var b=A[x];if(b.type==o.PUBLISH&&b.pubRecReceived){var Q=new v(o.PUBREL,{messageIdentifier:b.messageIdentifier});this._schedule_message(Q)}else this._schedule_message(b)}this.connectOptions.onSuccess&&this.connectOptions.onSuccess({invocationContext:this.connectOptions.invocationContext});var q=!1;this._reconnecting&&(q=!0,this._reconnectInterval=1,this._reconnecting=!1),this._connected(q,this._wsuri),this._process_queue();break;case o.PUBLISH:this._receivePublish(p);break;case o.PUBACK:var b=this._sentMessages[p.messageIdentifier];b&&(delete this._sentMessages[p.messageIdentifier],i.removeItem("Sent:"+this._localKey+p.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(b.payloadMessage));break;case o.PUBREC:var b=this._sentMessages[p.messageIdentifier];if(b){b.pubRecReceived=!0;var Q=new v(o.PUBREL,{messageIdentifier:p.messageIdentifier});this.store("Sent:",b),this._schedule_message(Q)}break;case o.PUBREL:var J=this._receivedMessages[p.messageIdentifier];i.removeItem("Received:"+this._localKey+p.messageIdentifier),J&&(this._receiveMessage(J),delete this._receivedMessages[p.messageIdentifier]);var P=new v(o.PUBCOMP,{messageIdentifier:p.messageIdentifier});this._schedule_message(P);break;case o.PUBCOMP:var b=this._sentMessages[p.messageIdentifier];delete this._sentMessages[p.messageIdentifier],i.removeItem("Sent:"+this._localKey+p.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(b.payloadMessage);break;case o.SUBACK:var b=this._sentMessages[p.messageIdentifier];b&&(b.timeOut&&b.timeOut.cancel(),p.returnCode[0]===128?b.onFailure&&b.onFailure(p.returnCode):b.onSuccess&&b.onSuccess(p.returnCode),delete this._sentMessages[p.messageIdentifier]);break;case o.UNSUBACK:var b=this._sentMessages[p.messageIdentifier];b&&(b.timeOut&&b.timeOut.cancel(),b.callback&&b.callback(),delete this._sentMessages[p.messageIdentifier]);break;case o.PINGRESP:this.sendPinger.reset();break;case o.DISCONNECT:this._disconnected(c.INVALID_MQTT_MESSAGE_TYPE.code,f(c.INVALID_MQTT_MESSAGE_TYPE,[p.type]));break;default:this._disconnected(c.INVALID_MQTT_MESSAGE_TYPE.code,f(c.INVALID_MQTT_MESSAGE_TYPE,[p.type]))}}catch(V){var K=V.hasOwnProperty("stack")=="undefined"?V.stack.toString():"No Error Stack Available";this._disconnected(c.INTERNAL_ERROR.code,f(c.INTERNAL_ERROR,[V.message,K]));return}},E.prototype._on_socket_error=function(p){this._reconnecting||this._disconnected(c.SOCKET_ERROR.code,f(c.SOCKET_ERROR,[p.data]))},E.prototype._on_socket_close=function(){this._reconnecting||this._disconnected(c.SOCKET_CLOSE.code,f(c.SOCKET_CLOSE))},E.prototype._socket_send=function(p){if(p.type==1){var d=this._traceMask(p,"password");this._trace("Client._socket_send",d)}else this._trace("Client._socket_send",p);this.socket.send(p.encode()),this.sendPinger.reset()},E.prototype._receivePublish=function(p){switch(p.payloadMessage.qos){case"undefined":case 0:this._receiveMessage(p);break;case 1:var d=new v(o.PUBACK,{messageIdentifier:p.messageIdentifier});this._schedule_message(d),this._receiveMessage(p);break;case 2:this._receivedMessages[p.messageIdentifier]=p,this.store("Received:",p);var y=new v(o.PUBREC,{messageIdentifier:p.messageIdentifier});this._schedule_message(y);break;default:throw Error("Invaild qos="+p.payloadMessage.qos)}},E.prototype._receiveMessage=function(p){this.onMessageArrived&&this.onMessageArrived(p.payloadMessage)},E.prototype._connected=function(p,d){this.onConnected&&this.onConnected(p,d)},E.prototype._reconnect=function(){this._trace("Client._reconnect"),this.connected||(this._reconnecting=!0,this.sendPinger.cancel(),this.receivePinger.cancel(),this._reconnectInterval<128&&(this._reconnectInterval=this._reconnectInterval*2),this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri))},E.prototype._disconnected=function(p,d){if(this._trace("Client._disconnected",p,d),p!==void 0&&this._reconnecting){this._reconnectTimeout=new F(this,this._reconnectInterval,this._reconnect);return}if(this.sendPinger.cancel(),this.receivePinger.cancel(),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._msg_queue=[],this._buffered_msg_queue=[],this._notify_msg_sent={},this.socket&&(this.socket.onopen=null,this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,this.socket.readyState===1&&this.socket.close(),delete this.socket),this.connectOptions.uris&&this.hostIndex<this.connectOptions.uris.length-1)this.hostIndex++,this._doConnect(this.connectOptions.uris[this.hostIndex]);else if(p===void 0&&(p=c.OK.code,d=f(c.OK)),this.connected){if(this.connected=!1,this.onConnectionLost&&this.onConnectionLost({errorCode:p,errorMessage:d,reconnect:this.connectOptions.reconnect,uri:this._wsuri}),p!==c.OK.code&&this.connectOptions.reconnect){this._reconnectInterval=1,this._reconnect();return}}else this.connectOptions.mqttVersion===4&&this.connectOptions.mqttVersionExplicit===!1?(this._trace("Failed to connect V4, dropping back to V3"),this.connectOptions.mqttVersion=3,this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri)):this.connectOptions.onFailure&&this.connectOptions.onFailure({invocationContext:this.connectOptions.invocationContext,errorCode:p,errorMessage:d})},E.prototype._trace=function(){if(this.traceFunction){var p=Array.prototype.slice.call(arguments);for(var d in p)typeof p[d]<"u"&&p.splice(d,1,JSON.stringify(p[d]));var y=p.join("");this.traceFunction({severity:"Debug",message:y})}if(this._traceBuffer!==null)for(var d=0,O=arguments.length;d<O;d++)this._traceBuffer.length==this._MAX_TRACE_ENTRIES&&this._traceBuffer.shift(),d===0?this._traceBuffer.push(arguments[d]):typeof arguments[d]>"u"?this._traceBuffer.push(arguments[d]):this._traceBuffer.push("  "+JSON.stringify(arguments[d]))},E.prototype._traceMask=function(p,d){var y={};for(var O in p)p.hasOwnProperty(O)&&(O==d?y[O]="******":y[O]=p[O]);return y};var U=function(p,d,y,O){var A;if(typeof p!="string")throw new Error(f(c.INVALID_TYPE,[typeof p,"host"]));if(arguments.length==2){O=d,A=p;var x=A.match(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/);if(x)p=x[4]||x[2],d=parseInt(x[7]),y=x[8];else throw new Error(f(c.INVALID_ARGUMENT,[p,"host"]))}else{if(arguments.length==3&&(O=y,y="/mqtt"),typeof d!="number"||d<0)throw new Error(f(c.INVALID_TYPE,[typeof d,"port"]));if(typeof y!="string")throw new Error(f(c.INVALID_TYPE,[typeof y,"path"]));var D=p.indexOf(":")!==-1&&p.slice(0,1)!=="["&&p.slice(-1)!=="]";A="ws://"+(D?"["+p+"]":p)+":"+d+y}for(var Q=0,q=0;q<O.length;q++){var J=O.charCodeAt(q);55296<=J&&J<=56319&&q++,Q++}if(typeof O!="string"||Q>65535)throw new Error(f(c.INVALID_ARGUMENT,[O,"clientId"]));var P=new E(A,p,d,y,O);Object.defineProperties(this,{host:{get:function(){return p},set:function(){throw new Error(f(c.UNSUPPORTED_OPERATION))}},port:{get:function(){return d},set:function(){throw new Error(f(c.UNSUPPORTED_OPERATION))}},path:{get:function(){return y},set:function(){throw new Error(f(c.UNSUPPORTED_OPERATION))}},uri:{get:function(){return A},set:function(){throw new Error(f(c.UNSUPPORTED_OPERATION))}},clientId:{get:function(){return P.clientId},set:function(){throw new Error(f(c.UNSUPPORTED_OPERATION))}},onConnected:{get:function(){return P.onConnected},set:function(b){if(typeof b=="function")P.onConnected=b;else throw new Error(f(c.INVALID_TYPE,[typeof b,"onConnected"]))}},disconnectedPublishing:{get:function(){return P.disconnectedPublishing},set:function(b){P.disconnectedPublishing=b}},disconnectedBufferSize:{get:function(){return P.disconnectedBufferSize},set:function(b){P.disconnectedBufferSize=b}},onConnectionLost:{get:function(){return P.onConnectionLost},set:function(b){if(typeof b=="function")P.onConnectionLost=b;else throw new Error(f(c.INVALID_TYPE,[typeof b,"onConnectionLost"]))}},onMessageDelivered:{get:function(){return P.onMessageDelivered},set:function(b){if(typeof b=="function")P.onMessageDelivered=b;else throw new Error(f(c.INVALID_TYPE,[typeof b,"onMessageDelivered"]))}},onMessageArrived:{get:function(){return P.onMessageArrived},set:function(b){if(typeof b=="function")P.onMessageArrived=b;else throw new Error(f(c.INVALID_TYPE,[typeof b,"onMessageArrived"]))}},trace:{get:function(){return P.traceFunction},set:function(b){if(typeof b=="function")P.traceFunction=b;else throw new Error(f(c.INVALID_TYPE,[typeof b,"onTrace"]))}}}),this.connect=function(b){if(b=b||{},a(b,{timeout:"number",userName:"string",password:"string",willMessage:"object",keepAliveInterval:"number",cleanSession:"boolean",useSSL:"boolean",invocationContext:"object",onSuccess:"function",onFailure:"function",hosts:"object",ports:"object",reconnect:"boolean",mqttVersion:"number",mqttVersionExplicit:"boolean",uris:"object"}),b.keepAliveInterval===void 0&&(b.keepAliveInterval=60),b.mqttVersion>4||b.mqttVersion<3)throw new Error(f(c.INVALID_ARGUMENT,[b.mqttVersion,"connectOptions.mqttVersion"]));if(b.mqttVersion===void 0?(b.mqttVersionExplicit=!1,b.mqttVersion=4):b.mqttVersionExplicit=!0,b.password!==void 0&&b.userName===void 0)throw new Error(f(c.INVALID_ARGUMENT,[b.password,"connectOptions.password"]));if(b.willMessage){if(!(b.willMessage instanceof G))throw new Error(f(c.INVALID_TYPE,[b.willMessage,"connectOptions.willMessage"]));if(b.willMessage.stringPayload=null,typeof b.willMessage.destinationName>"u")throw new Error(f(c.INVALID_TYPE,[typeof b.willMessage.destinationName,"connectOptions.willMessage.destinationName"]))}if(typeof b.cleanSession>"u"&&(b.cleanSession=!0),b.hosts){if(!(b.hosts instanceof Array))throw new Error(f(c.INVALID_ARGUMENT,[b.hosts,"connectOptions.hosts"]));if(b.hosts.length<1)throw new Error(f(c.INVALID_ARGUMENT,[b.hosts,"connectOptions.hosts"]));for(var K=!1,V=0;V<b.hosts.length;V++){if(typeof b.hosts[V]!="string")throw new Error(f(c.INVALID_TYPE,[typeof b.hosts[V],"connectOptions.hosts["+V+"]"]));if(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/.test(b.hosts[V])){if(V===0)K=!0;else if(!K)throw new Error(f(c.INVALID_ARGUMENT,[b.hosts[V],"connectOptions.hosts["+V+"]"]))}else if(K)throw new Error(f(c.INVALID_ARGUMENT,[b.hosts[V],"connectOptions.hosts["+V+"]"]))}if(K)b.uris=b.hosts;else{if(!b.ports)throw new Error(f(c.INVALID_ARGUMENT,[b.ports,"connectOptions.ports"]));if(!(b.ports instanceof Array))throw new Error(f(c.INVALID_ARGUMENT,[b.ports,"connectOptions.ports"]));if(b.hosts.length!==b.ports.length)throw new Error(f(c.INVALID_ARGUMENT,[b.ports,"connectOptions.ports"]));b.uris=[];for(var V=0;V<b.hosts.length;V++){if(typeof b.ports[V]!="number"||b.ports[V]<0)throw new Error(f(c.INVALID_TYPE,[typeof b.ports[V],"connectOptions.ports["+V+"]"]));var Re=b.hosts[V],z=b.ports[V],Tf=Re.indexOf(":")!==-1;A="ws://"+(Tf?"["+Re+"]":Re)+":"+z+y,b.uris.push(A)}}}P.connect(b)},this.subscribe=function(b,K){if(typeof b!="string")throw new Error("Invalid argument:"+b);if(K=K||{},a(K,{qos:"number",invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),K.timeout&&!K.onFailure)throw new Error("subscribeOptions.timeout specified with no onFailure callback.");if(typeof K.qos<"u"&&!(K.qos===0||K.qos===1||K.qos===2))throw new Error(f(c.INVALID_ARGUMENT,[K.qos,"subscribeOptions.qos"]));P.subscribe(b,K)},this.unsubscribe=function(b,K){if(typeof b!="string")throw new Error("Invalid argument:"+b);if(K=K||{},a(K,{invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),K.timeout&&!K.onFailure)throw new Error("unsubscribeOptions.timeout specified with no onFailure callback.");P.unsubscribe(b,K)},this.send=function(b,K,V,Re){var z;if(arguments.length===0)throw new Error("Invalid argument.length");if(arguments.length==1){if(!(b instanceof G)&&typeof b!="string")throw new Error("Invalid argument:"+typeof b);if(z=b,typeof z.destinationName>"u")throw new Error(f(c.INVALID_ARGUMENT,[z.destinationName,"Message.destinationName"]));P.send(z)}else z=new G(K),z.destinationName=b,arguments.length>=3&&(z.qos=V),arguments.length>=4&&(z.retained=Re),P.send(z)},this.publish=function(b,K,V,Re){var z;if(arguments.length===0)throw new Error("Invalid argument.length");if(arguments.length==1){if(!(b instanceof G)&&typeof b!="string")throw new Error("Invalid argument:"+typeof b);if(z=b,typeof z.destinationName>"u")throw new Error(f(c.INVALID_ARGUMENT,[z.destinationName,"Message.destinationName"]));P.send(z)}else z=new G(K),z.destinationName=b,arguments.length>=3&&(z.qos=V),arguments.length>=4&&(z.retained=Re),P.send(z)},this.disconnect=function(){P.disconnect()},this.getTraceLog=function(){return P.getTraceLog()},this.startTrace=function(){P.startTrace()},this.stopTrace=function(){P.stopTrace()},this.isConnected=function(){return P.connected}},G=function(p){var d;if(typeof p=="string"||p instanceof ArrayBuffer||ArrayBuffer.isView(p)&&!(p instanceof DataView))d=p;else throw f(c.INVALID_ARGUMENT,[p,"newPayload"]);var y,O=0,A=!1,x=!1;Object.defineProperties(this,{payloadString:{enumerable:!0,get:function(){return typeof d=="string"?d:C(d,0,d.length)}},payloadBytes:{enumerable:!0,get:function(){if(typeof d=="string"){var D=new ArrayBuffer(N(d)),Q=new Uint8Array(D);return R(d,Q,0),Q}else return d}},destinationName:{enumerable:!0,get:function(){return y},set:function(D){if(typeof D=="string")y=D;else throw new Error(f(c.INVALID_ARGUMENT,[D,"newDestinationName"]))}},qos:{enumerable:!0,get:function(){return O},set:function(D){if(D===0||D===1||D===2)O=D;else throw new Error("Invalid argument:"+D)}},retained:{enumerable:!0,get:function(){return A},set:function(D){if(typeof D=="boolean")A=D;else throw new Error(f(c.INVALID_ARGUMENT,[D,"newRetained"]))}},topic:{enumerable:!0,get:function(){return y},set:function(D){y=D}},duplicate:{enumerable:!0,get:function(){return x},set:function(D){x=D}}})};return{Client:U,Message:G}})(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});return t})});var Vc=L(he=>{"use strict";var Jp=he&&he.__extends||(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}})(),dt=he&&he.__assign||function(){return dt=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},dt.apply(this,arguments)},Uc=he&&he.__awaiter||function(r,t,e,n){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(r,t||[])).next())})},jc=he&&he.__generator||function(r,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(r,e)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Bc=he&&he.__rest||function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};Object.defineProperty(he,"__esModule",{value:!0});var Zn=(Nt(),ye(er)),Zp=Jn(),$p=Lc(),Xp=(ee(),ye(Wi)),oa=Zp.rootLogger.extend("subscriptions"),ed=oa.extend("mqtt");he.CONTROL_EVENTS_KEY="@@controlEvents";var td=(function(r){Jp(t,r);function t(e){var n=r.call(this)||this;return n.topicObservers=new Map,n.clientObservers=new Map,n.onMessage=function(i,o,a){var s=JSON.parse(o),c=n.topicObservers.get(i),u=a.reduce(function(f,l){return f[l]=f[l]||null,f},s.data||{});oa("Message received",{data:u,topic:i,observers:c}),c.forEach(function(f){try{f.next(dt(dt({},s),{data:u}))}catch(l){oa(l)}})},n.subsInfoContextKey=e,n}return t.prototype.request=function(e){var n,i=this,o=e.getContext(),a=this.subsInfoContextKey,s=o[a],c=o.controlMessages,u=he.CONTROL_EVENTS_KEY,f=(c===void 0?(n={},n[he.CONTROL_EVENTS_KEY]=void 0,n):c)[u],l=s.extensions,h=(l===void 0?{subscription:{newSubscriptions:{},mqttConnections:[]}}:l).subscription,v=h.newSubscriptions,g=h.mqttConnections,m=s.errors,_=m===void 0?[]:m;if(_&&_.length)return new Zn.Observable(function(R){return R.error(new Zn.ApolloError({errorMessage:"Error during subscription handshake",extraInfo:{errors:_},graphQLErrors:_})),function(){}});var k=Object.keys(v).map(function(R){return v[R].topic}),T=new Set(k.filter(function(R){return i.topicObservers.has(R)})),N=new Set(k.filter(function(R){return!T.has(R)}));return new Zn.Observable(function(R){T.forEach(function(M){i.topicObservers.get(M).add(R);var F=Array.from(i.topicObservers.get(M)).find(function(){return!0}),E=Array.from(i.clientObservers).find(function(U){var G=U[1].observers;return G.has(F)})[0];i.clientObservers.get(E).observers.add(R)});var C=g.filter(function(M){return M.topics.some(function(F){return N.has(F)})}).map(function(M){var F=M.topics,E=Bc(M,["topics"]);return dt(dt({},E),{topics:F.filter(function(U){return N.has(U)})})});return i.connectNewClients(C,R,e),function(){var M=Array.from(i.clientObservers).filter(function(F){var E=F[1].observers;return E.has(R)});M.forEach(function(F){var E=F[0];return i.clientObservers.get(E).observers.delete(R)}),i.clientObservers.forEach(function(F){var E=F.observers,U=F.client;E.size===0&&(U.isConnected()&&U.disconnect(),i.clientObservers.delete(U.clientId))}),i.clientObservers=new Map(Array.from(i.clientObservers).filter(function(F){var E=F[1].observers;return E.size>0})),i.topicObservers.forEach(function(F){return F.delete(R)}),i.topicObservers=new Map(Array.from(i.topicObservers).filter(function(F){var E=F[1];return E.size>0}))}}).filter(function(R){var C=R.extensions,M=(C===void 0?{}:C).controlMsgType,F=M===void 0?void 0:M,E=typeof F<"u";return f===!0||!E})},t.prototype.connectNewClients=function(e,n,i){return Uc(this,void 0,void 0,function(){var o,a,s,c,u=this;return jc(this,function(f){return o=i.query,a=Xp.getMainDefinition(o).selectionSet.selections.map(function(l){var h=l.name.value;return h}),s=Promise.all(e.map(function(l){return u.connectNewClient(l,n,a)})),c=a.reduce(function(l,h){return l[h]=l[h]||null,l},{}),n.next({data:c,extensions:{controlMsgType:"CONNECTED",controlMsgInfo:{connectionInfo:e}}}),[2,s]})})},t.prototype.connectNewClient=function(e,n,i){return Uc(this,void 0,void 0,function(){var o,a,s,c,u=this;return jc(this,function(f){switch(f.label){case 0:return o=e.client,a=e.url,s=e.topics,c=new $p.Client(a,o),c.trace=ed.bind(null,o),c.onConnectionLost=function(l){var h=l.errorCode,v=Bc(l,["errorCode"]);h!==0&&s.forEach(function(g){u.topicObservers.has(g)&&u.topicObservers.get(g).forEach(function(m){return m.error(dt(dt({},v),{permanent:!0}))})}),s.forEach(function(g){return u.topicObservers.delete(g)})},c.onMessageArrived=function(l){var h=l.destinationName,v=l.payloadString;return u.onMessage(h,v,i)},[4,new Promise(function(l,h){c.connect({useSSL:a.indexOf("wss://")===0,mqttVersion:3,onSuccess:function(){return l(c)},onFailure:h})})];case 1:return f.sent(),[4,this.subscribeToTopics(c,s,n)];case 2:return f.sent(),[2,c]}})})},t.prototype.subscribeToTopics=function(e,n,i){var o=this;return Promise.all(n.map(function(a){return o.subscribeToTopic(e,a,i)}))},t.prototype.subscribeToTopic=function(e,n,i){var o=this;return new Promise(function(a,s){e.subscribe(n,{onSuccess:function(){o.topicObservers.has(n)||o.topicObservers.set(n,new Set),o.clientObservers.has(e.clientId)||o.clientObservers.set(e.clientId,{client:e,observers:new Set}),o.topicObservers.get(n).add(i),o.clientObservers.get(e.clientId).observers.add(i),a(n)},onFailure:s})})},t})(Zn.ApolloLink);he.SubscriptionHandshakeLink=td});var Qc={};yt(Qc,{setContext:()=>rd});function rd(r){return new te(function(t,e){var n=be(t,[]);return new B.default(function(i){var o;return Promise.resolve(n).then(function(a){return r(a,t.getContext())}).then(t.setContext).then(function(){o=e(t).subscribe({next:i.next.bind(i),error:i.error.bind(i),complete:i.complete.bind(i)})}).catch(i.error.bind(i)),function(){o&&o.unsubscribe()}})})}var Kc=I(()=>{"use strict";Z();Tt();ee()});var Gc=L(De=>{"use strict";var nd=De&&De.__extends||(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}})(),$n=De&&De.__assign||function(){return $n=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},$n.apply(this,arguments)},id=De&&De.__awaiter||function(r,t,e,n){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(r,t||[])).next())})},od=De&&De.__generator||function(r,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(r,e)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(De,"__esModule",{value:!0});var ad=(Nt(),ye(er)),sd=(Kc(),ye(Qc)),ud=(function(r){nd(t,r);function t(e,n){var i=n.link,o=r.call(this)||this;return o.contextKey=e,o.link=i,o}return t.prototype.request=function(e,n){var i=this;return sd.setContext(function(o,a){return id(i,void 0,void 0,function(){var s,c,u=this;return od(this,function(f){switch(f.label){case 0:return[4,new Promise(function(l,h){u.link.request(e).subscribe({next:l,error:h})})];case 1:return s=f.sent(),[2,$n($n({},a),(c={},c[this.contextKey]=s,c))]}})})}).request(e,n)},t})(ad.ApolloLink);De.NonTerminatingLink=ud});var sa=L(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.default=fd;var Xn,cd=new Uint8Array(16);function fd(){if(!Xn&&(Xn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Xn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xn(cd)}});var Wc=L(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});ei.default=void 0;var ld=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;ei.default=ld});var Wr=L(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.default=void 0;var hd=pd(Wc());function pd(r){return r&&r.__esModule?r:{default:r}}function dd(r){return typeof r=="string"&&hd.default.test(r)}var vd=dd;ti.default=vd});var Hr=L(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});Yr.default=void 0;Yr.unsafeStringify=Yc;var md=yd(Wr());function yd(r){return r&&r.__esModule?r:{default:r}}var fe=[];for(let r=0;r<256;++r)fe.push((r+256).toString(16).slice(1));function Yc(r,t=0){return fe[r[t+0]]+fe[r[t+1]]+fe[r[t+2]]+fe[r[t+3]]+"-"+fe[r[t+4]]+fe[r[t+5]]+"-"+fe[r[t+6]]+fe[r[t+7]]+"-"+fe[r[t+8]]+fe[r[t+9]]+"-"+fe[r[t+10]]+fe[r[t+11]]+fe[r[t+12]]+fe[r[t+13]]+fe[r[t+14]]+fe[r[t+15]]}function gd(r,t=0){let e=Yc(r,t);if(!(0,md.default)(e))throw TypeError("Stringified UUID is invalid");return e}var bd=gd;Yr.default=bd});var zc=L(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.default=void 0;var _d=Ed(sa()),wd=Hr();function Ed(r){return r&&r.__esModule?r:{default:r}}var Hc,ua,ca=0,fa=0;function Sd(r,t,e){let n=t&&e||0,i=t||new Array(16);r=r||{};let o=r.node||Hc,a=r.clockseq!==void 0?r.clockseq:ua;if(o==null||a==null){let h=r.random||(r.rng||_d.default)();o==null&&(o=Hc=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]),a==null&&(a=ua=(h[6]<<8|h[7])&16383)}let s=r.msecs!==void 0?r.msecs:Date.now(),c=r.nsecs!==void 0?r.nsecs:fa+1,u=s-ca+(c-fa)/1e4;if(u<0&&r.clockseq===void 0&&(a=a+1&16383),(u<0||s>ca)&&r.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ca=s,fa=c,ua=a,s+=122192928e5;let f=((s&268435455)*1e4+c)%4294967296;i[n++]=f>>>24&255,i[n++]=f>>>16&255,i[n++]=f>>>8&255,i[n++]=f&255;let l=s/4294967296*1e4&268435455;i[n++]=l>>>8&255,i[n++]=l&255,i[n++]=l>>>24&15|16,i[n++]=l>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(let h=0;h<6;++h)i[n+h]=o[h];return t||(0,wd.unsafeStringify)(i)}var xd=Sd;ri.default=xd});var la=L(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.default=void 0;var Od=Td(Wr());function Td(r){return r&&r.__esModule?r:{default:r}}function Ad(r){if(!(0,Od.default)(r))throw TypeError("Invalid UUID");let t,e=new Uint8Array(16);return e[0]=(t=parseInt(r.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(r.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(r.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(r.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(r.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}var kd=Ad;ni.default=kd});var ha=L(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.URL=Ft.DNS=void 0;Ft.default=Dd;var Id=Hr(),Nd=Rd(la());function Rd(r){return r&&r.__esModule?r:{default:r}}function Cd(r){r=unescape(encodeURIComponent(r));let t=[];for(let e=0;e<r.length;++e)t.push(r.charCodeAt(e));return t}var Jc="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Ft.DNS=Jc;var Zc="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Ft.URL=Zc;function Dd(r,t,e){function n(i,o,a,s){var c;if(typeof i=="string"&&(i=Cd(i)),typeof o=="string"&&(o=(0,Nd.default)(o)),((c=o)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=e(u),u[6]=u[6]&15|t,u[8]=u[8]&63|128,a){s=s||0;for(let f=0;f<16;++f)a[s+f]=u[f];return a}return(0,Id.unsafeStringify)(u)}try{n.name=r}catch{}return n.DNS=Jc,n.URL=Zc,n}});var Xc=L(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.default=void 0;function Fd(r){if(typeof r=="string"){let t=unescape(encodeURIComponent(r));r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e)}return Md(Pd(qd(r),r.length*8))}function Md(r){let t=[],e=r.length*32,n="0123456789abcdef";for(let i=0;i<e;i+=8){let o=r[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);t.push(a)}return t}function $c(r){return(r+64>>>9<<4)+14+1}function Pd(r,t){r[t>>5]|=128<<t%32,r[$c(t)-1]=t;let e=1732584193,n=-271733879,i=-1732584194,o=271733878;for(let a=0;a<r.length;a+=16){let s=e,c=n,u=i,f=o;e=pe(e,n,i,o,r[a],7,-680876936),o=pe(o,e,n,i,r[a+1],12,-389564586),i=pe(i,o,e,n,r[a+2],17,606105819),n=pe(n,i,o,e,r[a+3],22,-1044525330),e=pe(e,n,i,o,r[a+4],7,-176418897),o=pe(o,e,n,i,r[a+5],12,1200080426),i=pe(i,o,e,n,r[a+6],17,-1473231341),n=pe(n,i,o,e,r[a+7],22,-45705983),e=pe(e,n,i,o,r[a+8],7,1770035416),o=pe(o,e,n,i,r[a+9],12,-1958414417),i=pe(i,o,e,n,r[a+10],17,-42063),n=pe(n,i,o,e,r[a+11],22,-1990404162),e=pe(e,n,i,o,r[a+12],7,1804603682),o=pe(o,e,n,i,r[a+13],12,-40341101),i=pe(i,o,e,n,r[a+14],17,-1502002290),n=pe(n,i,o,e,r[a+15],22,1236535329),e=de(e,n,i,o,r[a+1],5,-165796510),o=de(o,e,n,i,r[a+6],9,-1069501632),i=de(i,o,e,n,r[a+11],14,643717713),n=de(n,i,o,e,r[a],20,-373897302),e=de(e,n,i,o,r[a+5],5,-701558691),o=de(o,e,n,i,r[a+10],9,38016083),i=de(i,o,e,n,r[a+15],14,-660478335),n=de(n,i,o,e,r[a+4],20,-405537848),e=de(e,n,i,o,r[a+9],5,568446438),o=de(o,e,n,i,r[a+14],9,-1019803690),i=de(i,o,e,n,r[a+3],14,-187363961),n=de(n,i,o,e,r[a+8],20,1163531501),e=de(e,n,i,o,r[a+13],5,-1444681467),o=de(o,e,n,i,r[a+2],9,-51403784),i=de(i,o,e,n,r[a+7],14,1735328473),n=de(n,i,o,e,r[a+12],20,-1926607734),e=ve(e,n,i,o,r[a+5],4,-378558),o=ve(o,e,n,i,r[a+8],11,-2022574463),i=ve(i,o,e,n,r[a+11],16,1839030562),n=ve(n,i,o,e,r[a+14],23,-35309556),e=ve(e,n,i,o,r[a+1],4,-1530992060),o=ve(o,e,n,i,r[a+4],11,1272893353),i=ve(i,o,e,n,r[a+7],16,-155497632),n=ve(n,i,o,e,r[a+10],23,-1094730640),e=ve(e,n,i,o,r[a+13],4,681279174),o=ve(o,e,n,i,r[a],11,-358537222),i=ve(i,o,e,n,r[a+3],16,-722521979),n=ve(n,i,o,e,r[a+6],23,76029189),e=ve(e,n,i,o,r[a+9],4,-640364487),o=ve(o,e,n,i,r[a+12],11,-421815835),i=ve(i,o,e,n,r[a+15],16,530742520),n=ve(n,i,o,e,r[a+2],23,-995338651),e=me(e,n,i,o,r[a],6,-198630844),o=me(o,e,n,i,r[a+7],10,1126891415),i=me(i,o,e,n,r[a+14],15,-1416354905),n=me(n,i,o,e,r[a+5],21,-57434055),e=me(e,n,i,o,r[a+12],6,1700485571),o=me(o,e,n,i,r[a+3],10,-1894986606),i=me(i,o,e,n,r[a+10],15,-1051523),n=me(n,i,o,e,r[a+1],21,-2054922799),e=me(e,n,i,o,r[a+8],6,1873313359),o=me(o,e,n,i,r[a+15],10,-30611744),i=me(i,o,e,n,r[a+6],15,-1560198380),n=me(n,i,o,e,r[a+13],21,1309151649),e=me(e,n,i,o,r[a+4],6,-145523070),o=me(o,e,n,i,r[a+11],10,-1120210379),i=me(i,o,e,n,r[a+2],15,718787259),n=me(n,i,o,e,r[a+9],21,-343485551),e=vt(e,s),n=vt(n,c),i=vt(i,u),o=vt(o,f)}return[e,n,i,o]}function qd(r){if(r.length===0)return[];let t=r.length*8,e=new Uint32Array($c(t));for(let n=0;n<t;n+=8)e[n>>5]|=(r[n/8]&255)<<n%32;return e}function vt(r,t){let e=(r&65535)+(t&65535);return(r>>16)+(t>>16)+(e>>16)<<16|e&65535}function Ld(r,t){return r<<t|r>>>32-t}function ii(r,t,e,n,i,o){return vt(Ld(vt(vt(t,r),vt(n,o)),i),e)}function pe(r,t,e,n,i,o,a){return ii(t&e|~t&n,r,t,i,o,a)}function de(r,t,e,n,i,o,a){return ii(t&n|e&~n,r,t,i,o,a)}function ve(r,t,e,n,i,o,a){return ii(t^e^n,r,t,i,o,a)}function me(r,t,e,n,i,o,a){return ii(e^(t|~n),r,t,i,o,a)}var Ud=Fd;oi.default=Ud});var tf=L(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});ai.default=void 0;var jd=ef(ha()),Bd=ef(Xc());function ef(r){return r&&r.__esModule?r:{default:r}}var Vd=(0,jd.default)("v3",48,Bd.default),Qd=Vd;ai.default=Qd});var rf=L(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.default=void 0;var Kd=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Gd={randomUUID:Kd};si.default=Gd});var af=L(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.default=void 0;var nf=of(rf()),Wd=of(sa()),Yd=Hr();function of(r){return r&&r.__esModule?r:{default:r}}function Hd(r,t,e){if(nf.default.randomUUID&&!t&&!r)return nf.default.randomUUID();r=r||{};let n=r.random||(r.rng||Wd.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){e=e||0;for(let i=0;i<16;++i)t[e+i]=n[i];return t}return(0,Yd.unsafeStringify)(n)}var zd=Hd;ui.default=zd});var sf=L(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.default=void 0;function Jd(r,t,e,n){switch(r){case 0:return t&e^~t&n;case 1:return t^e^n;case 2:return t&e^t&n^e&n;case 3:return t^e^n}}function pa(r,t){return r<<t|r>>>32-t}function Zd(r){let t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){let a=unescape(encodeURIComponent(r));r=[];for(let s=0;s<a.length;++s)r.push(a.charCodeAt(s))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);let n=r.length/4+2,i=Math.ceil(n/16),o=new Array(i);for(let a=0;a<i;++a){let s=new Uint32Array(16);for(let c=0;c<16;++c)s[c]=r[a*64+c*4]<<24|r[a*64+c*4+1]<<16|r[a*64+c*4+2]<<8|r[a*64+c*4+3];o[a]=s}o[i-1][14]=(r.length-1)*8/Math.pow(2,32),o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=(r.length-1)*8&4294967295;for(let a=0;a<i;++a){let s=new Uint32Array(80);for(let v=0;v<16;++v)s[v]=o[a][v];for(let v=16;v<80;++v)s[v]=pa(s[v-3]^s[v-8]^s[v-14]^s[v-16],1);let c=e[0],u=e[1],f=e[2],l=e[3],h=e[4];for(let v=0;v<80;++v){let g=Math.floor(v/20),m=pa(c,5)+Jd(g,u,f,l)+h+t[g]+s[v]>>>0;h=l,l=f,f=pa(u,30)>>>0,u=c,c=m}e[0]=e[0]+c>>>0,e[1]=e[1]+u>>>0,e[2]=e[2]+f>>>0,e[3]=e[3]+l>>>0,e[4]=e[4]+h>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var $d=Zd;ci.default=$d});var cf=L(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.default=void 0;var Xd=uf(ha()),ev=uf(sf());function uf(r){return r&&r.__esModule?r:{default:r}}var tv=(0,Xd.default)("v5",80,ev.default),rv=tv;fi.default=rv});var ff=L(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.default=void 0;var nv="00000000-0000-0000-0000-000000000000";li.default=nv});var lf=L(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.default=void 0;var iv=ov(Wr());function ov(r){return r&&r.__esModule?r:{default:r}}function av(r){if(!(0,iv.default)(r))throw TypeError("Invalid UUID");return parseInt(r.slice(14,15),16)}var sv=av;hi.default=sv});var hf=L(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Object.defineProperty(Fe,"NIL",{enumerable:!0,get:function(){return hv.default}});Object.defineProperty(Fe,"parse",{enumerable:!0,get:function(){return mv.default}});Object.defineProperty(Fe,"stringify",{enumerable:!0,get:function(){return vv.default}});Object.defineProperty(Fe,"v1",{enumerable:!0,get:function(){return uv.default}});Object.defineProperty(Fe,"v3",{enumerable:!0,get:function(){return cv.default}});Object.defineProperty(Fe,"v4",{enumerable:!0,get:function(){return fv.default}});Object.defineProperty(Fe,"v5",{enumerable:!0,get:function(){return lv.default}});Object.defineProperty(Fe,"validate",{enumerable:!0,get:function(){return dv.default}});Object.defineProperty(Fe,"version",{enumerable:!0,get:function(){return pv.default}});var uv=tt(zc()),cv=tt(tf()),fv=tt(af()),lv=tt(cf()),hv=tt(ff()),pv=tt(lf()),dv=tt(Wr()),vv=tt(Hr()),mv=tt(la());function tt(r){return r&&r.__esModule?r:{default:r}}});var pf=L(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});var yv;(function(r){r[r.PENDING=0]="PENDING",r[r.CONNECTED=1]="CONNECTED",r[r.FAILED=2]="FAILED"})(yv=He.SUBSCRIPTION_STATUS||(He.SUBSCRIPTION_STATUS={}));var gv;(function(r){r[r.CLOSED=0]="CLOSED",r[r.READY=1]="READY",r[r.CONNECTING=2]="CONNECTING"})(gv=He.SOCKET_STATUS||(He.SOCKET_STATUS={}));var bv;(function(r){r.GQL_CONNECTION_INIT="connection_init",r.GQL_CONNECTION_ERROR="connection_error",r.GQL_CONNECTION_ACK="connection_ack",r.GQL_START="start",r.GQL_START_ACK="start_ack",r.GQL_DATA="data",r.GQL_CONNECTION_KEEP_ALIVE="ka",r.GQL_STOP="stop",r.GQL_COMPLETE="complete",r.GQL_ERROR="error"})(bv=He.MESSAGE_TYPES||(He.MESSAGE_TYPES={}));var _v;(function(r){r.CONNECTION_CLOSED="Connection closed",r.TIMEOUT_DISCONNECT="Timeout disconnect",r.SUBSCRIPTION_ACK="Subscription ack"})(_v=He.CONTROL_MSG||(He.CONTROL_MSG={}))});var df=L(Me=>{"use strict";var wv=Me&&Me.__extends||(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}})(),Ev=Me&&Me.__awaiter||function(r,t,e,n){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(r,t||[])).next())})},Sv=Me&&Me.__generator||function(r,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(r,e)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Me,"__esModule",{value:!0});var xv=Jn(),pi=xv.rootLogger.extend("retry"),Ov=5e3,Tv=(function(r){wv(t,r);function t(e){var n=r.call(this,e)||this;return n.nonRetryable=!0,n}return t})(Error);Me.NonRetryableError=Tv;var Av=function(r){var t="nonRetryable";return r&&r[t]};function da(r,t,e,n){return n===void 0&&(n=1),Ev(this,void 0,void 0,function(){var i,o;return Sv(this,function(a){switch(a.label){case 0:pi("Attempt #"+n+" for this vars: "+JSON.stringify(t)),a.label=1;case 1:return a.trys.push([1,3,,8]),[4,r.apply(void 0,t)];case 2:return a.sent(),[3,8];case 3:if(i=a.sent(),pi("error "+i),Av(i))throw pi("non retryable error"),i;return o=e(n,t,i),pi("retryIn ",o),o===!1?[3,6]:[4,new Promise(function(s){return setTimeout(s,o)})];case 4:return a.sent(),[4,da(r,t,e,n+1)];case 5:return[2,a.sent()];case 6:throw i;case 7:return[3,8];case 8:return[2]}})})}Me.retry=da;function kv(r){var t=100,e=100;return function(n){var i=Math.pow(2,n)*t+e*Math.random();return i>r?!1:i}}Me.jitteredExponentialRetry=function(r,t,e){return e===void 0&&(e=Ov),da(r,t,kv(e))}});var bf=L(Ee=>{"use strict";var Iv=Ee&&Ee.__extends||(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}})(),Oe=Ee&&Ee.__assign||function(){return Oe=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Oe.apply(this,arguments)},ze=Ee&&Ee.__awaiter||function(r,t,e,n){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(r,t||[])).next())})},Je=Ee&&Ee.__generator||function(r,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(r,e)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Ee,"__esModule",{value:!0});var vf=(Nt(),ye(er)),Nv=Jn(),mt=Xo(),sr=(rt(),ye(Cf)),Rv=Ln(),Cv=hf(),H=pf(),mf=df(),ie=Nv.rootLogger.extend("subscriptions");Ee.CONTROL_EVENTS_KEY="@@controlEvents";var Dv=[400,401,403],Fv="appsync",Mv={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"},yf=15e3,Pv=15e3,gf=60*1e3,qv=300*1e3,Lv=/^https:\/\/\w{26}\.appsync\-api\.\w{2}(?:(?:\-\w{2,})+)\-\d\.amazonaws.com\/graphql$/i,Uv="/realtime",jv=(function(r){Iv(t,r);function t(e){var n=e.url,i=e.region,o=e.auth,a=e.keepAliveTimeoutMs,s=r.call(this)||this;if(s.socketStatus=H.SOCKET_STATUS.CLOSED,s.keepAliveTimeout=void 0,s.subscriptionObserverMap=new Map,s.promiseArray=[],s.url=n,s.region=i,s.auth=o,s.keepAliveTimeout=a,s.keepAliveTimeout<gf){var c="keepAliveTimeoutMs";throw new Error(c+" must be greater than or equal to "+gf+" ("+s.keepAliveTimeout+" used).")}return s}return t.prototype.isCustomDomain=function(e){return e.match(Lv)===null},t.prototype.request=function(e){var n,i=this,o=e.query,a=e.variables,s=e.getContext(),c=s.controlMessages,u=Ee.CONTROL_EVENTS_KEY,f=(c===void 0?(n={},n[Ee.CONTROL_EVENTS_KEY]=void 0,n):c)[u],l=s.headers;return new vf.Observable(function(h){if(!i.url)h.error({errors:[Oe({},new sr.GraphQLError("Subscribe only available for AWS AppSync endpoint"))]}),h.complete();else{var v=Cv.v4(),g=i.auth.type===mt.AUTH_TYPE.AMAZON_COGNITO_USER_POOLS||i.auth.type===mt.AUTH_TYPE.OPENID_CONNECT?i.auth.jwtToken:null;g=i.auth.type===mt.AUTH_TYPE.AWS_LAMBDA?i.auth.token:g;var m={appSyncGraphqlEndpoint:i.url,authenticationType:i.auth.type,query:sr.print(o),region:i.region,graphql_headers:function(){return l},variables:a,apiKey:i.auth.type===mt.AUTH_TYPE.API_KEY?i.auth.apiKey:"",credentials:i.auth.type===mt.AUTH_TYPE.AWS_IAM?i.auth.credentials:null,token:g};return i._startSubscriptionWithAWSAppSyncRealTime({options:m,observer:h,subscriptionId:v}),function(){return ze(i,void 0,void 0,function(){var _;return Je(this,function(k){try{if(this._verifySubscriptionAlreadyStarted(v),_=this.subscriptionObserverMap.get(v).subscriptionState,_===H.SUBSCRIPTION_STATUS.CONNECTED)this._sendUnsubscriptionMessage(v);else throw new Error("Subscription has failed, starting to remove subscription.")}catch{return this._removeSubscriptionObserver(v),[2]}return[2]})})}}}).filter(function(h){var v=h.extensions,g=(v===void 0?{}:v).controlMsgType,m=g===void 0?void 0:g,_=typeof m<"u";return f===!0||!_})},t.prototype._verifySubscriptionAlreadyStarted=function(e){return ze(this,void 0,void 0,function(){var n,i=this;return Je(this,function(o){return n=this.subscriptionObserverMap.get(e).subscriptionState,n===H.SUBSCRIPTION_STATUS.PENDING?[2,new Promise(function(a,s){var c=i.subscriptionObserverMap.get(e),u=c.observer,f=c.subscriptionState,l=c.variables,h=c.query;i.subscriptionObserverMap.set(e,{observer:u,subscriptionState:f,variables:l,query:h,subscriptionReadyCallback:a,subscriptionFailedCallback:s})})]:[2]})})},t.prototype._sendUnsubscriptionMessage=function(e){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===H.SOCKET_STATUS.READY){var n={id:e,type:H.MESSAGE_TYPES.GQL_STOP},i=JSON.stringify(n);this.awsRealTimeSocket.send(i),this._removeSubscriptionObserver(e)}}catch(o){ie({err:o})}},t.prototype._removeSubscriptionObserver=function(e){this.subscriptionObserverMap.delete(e),setTimeout(this._closeSocketIfRequired.bind(this),1e3)},t.prototype._closeSocketIfRequired=function(){if(!(this.subscriptionObserverMap.size>0)){if(!this.awsRealTimeSocket){this.socketStatus=H.SOCKET_STATUS.CLOSED;return}if(this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{ie("closing WebSocket..."),clearTimeout(this.keepAliveTimeoutId);var e=this.awsRealTimeSocket;e.close(1e3),this.awsRealTimeSocket=null,this.socketStatus=H.SOCKET_STATUS.CLOSED}}},t.prototype._startSubscriptionWithAWSAppSyncRealTime=function(e){var n=e.options,i=e.observer,o=e.subscriptionId;return ze(this,void 0,void 0,function(){var a,s,c,u,f,l,h,v,g,m,_,k,T,N,R,C,M,F,E,U,G,p,d,y,O,A=this;return Je(this,function(x){switch(x.label){case 0:return a=n.appSyncGraphqlEndpoint,s=n.authenticationType,c=n.query,u=n.variables,f=n.apiKey,l=n.region,h=n.graphql_headers,v=h===void 0?function(){return{}}:h,g=n.credentials,m=n.token,_=H.SUBSCRIPTION_STATUS.PENDING,k={query:c,variables:u},this.subscriptionObserverMap.set(o,{observer:i,query:c,variables:u,subscriptionState:_,startAckTimeoutId:null}),T=JSON.stringify(k),R=[{}],[4,this._awsRealTimeHeaderBasedAuth({apiKey:f,appSyncGraphqlEndpoint:a,authenticationType:s,payload:T,canonicalUri:"",region:l,credentials:g,token:m,graphql_headers:v})];case 1:N=Oe.apply(void 0,[Oe.apply(void 0,R.concat([x.sent()])),(O={},O[mt.USER_AGENT_HEADER]=mt.USER_AGENT,O)]),C={id:o,payload:{data:T,extensions:{authorization:Oe({},N)}},type:H.MESSAGE_TYPES.GQL_START},M=JSON.stringify(C),x.label=2;case 2:return x.trys.push([2,4,,5]),[4,this._initializeWebSocketConnection({apiKey:f,appSyncGraphqlEndpoint:a,authenticationType:s,region:l,credentials:g,token:m})];case 3:return x.sent(),[3,5];case 4:return F=x.sent(),E=F.message,U=E===void 0?"":E,i.error({errors:[Oe({},new sr.GraphQLError("Connection failed: "+U))]}),i.complete(),G=(this.subscriptionObserverMap.get(o)||{}).subscriptionFailedCallback,typeof G=="function"&&G(),[2];case 5:return p=this.subscriptionObserverMap.get(o)||{},d=p.subscriptionFailedCallback,y=p.subscriptionReadyCallback,this.subscriptionObserverMap.set(o,{observer:i,subscriptionState:_,variables:u,query:c,subscriptionReadyCallback:y,subscriptionFailedCallback:d,startAckTimeoutId:setTimeout(function(){A._timeoutStartSubscriptionAck.call(A,o)},Pv)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send(M),[2]}})})},t.prototype._initializeWebSocketConnection=function(e){var n=this,i=e.appSyncGraphqlEndpoint,o=e.authenticationType,a=e.apiKey,s=e.region,c=e.credentials,u=e.token;if(this.socketStatus!==H.SOCKET_STATUS.READY)return new Promise(function(f,l){return ze(n,void 0,void 0,function(){var h,v,g,m,_,k,T,N,R;return Je(this,function(C){switch(C.label){case 0:if(this.promiseArray.push({res:f,rej:l}),this.socketStatus!==H.SOCKET_STATUS.CLOSED)return[3,5];C.label=1;case 1:return C.trys.push([1,4,,5]),this.socketStatus=H.SOCKET_STATUS.CONNECTING,h="{}",m=(g=JSON).stringify,[4,this._awsRealTimeHeaderBasedAuth({authenticationType:o,payload:h,canonicalUri:"/connect",apiKey:a,appSyncGraphqlEndpoint:i,region:s,credentials:c,token:u,graphql_headers:function(){}})];case 2:return v=m.apply(g,[C.sent()]),_=Buffer.from(v).toString("base64"),k=Buffer.from(h).toString("base64"),T=i,this.isCustomDomain(T)?T=T.concat(Uv):T=T.replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta"),T=T.replace("https://","wss://").replace("http://","ws://"),N=T+"?header="+_+"&payload="+k,[4,this._initializeRetryableHandshake({awsRealTimeUrl:N})];case 3:return C.sent(),this.promiseArray.forEach(function(M){var F=M.res;ie("Notifying connection successful"),F()}),this.socketStatus=H.SOCKET_STATUS.READY,this.promiseArray=[],[3,5];case 4:return R=C.sent(),this.promiseArray.forEach(function(M){var F=M.rej;return F(R)}),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=null,this.socketStatus=H.SOCKET_STATUS.CLOSED,[3,5];case 5:return[2]}})})})},t.prototype._awsRealTimeHeaderBasedAuth=function(e){var n=e.authenticationType,i=e.payload,o=e.canonicalUri,a=e.appSyncGraphqlEndpoint,s=e.apiKey,c=e.region,u=e.credentials,f=e.token,l=e.graphql_headers;return ze(this,void 0,void 0,function(){var h,v,g,m;return Je(this,function(_){switch(_.label){case 0:return h={API_KEY:this._awsRealTimeApiKeyHeader.bind(this),AWS_IAM:this._awsRealTimeIAMHeader.bind(this),OPENID_CONNECT:this._awsRealTimeAuthorizationHeader.bind(this),AMAZON_COGNITO_USER_POOLS:this._awsRealTimeAuthorizationHeader.bind(this),AWS_LAMBDA:this._awsRealTimeAuthorizationHeader.bind(this)},v=h[n],typeof v!="function"?(ie("Authentication type "+n+" not supported"),[2,{}]):(g=Rv.parse(a).host,[4,v({payload:i,canonicalUri:o,appSyncGraphqlEndpoint:a,apiKey:s,region:c,host:g,credentials:u,token:f,graphql_headers:l})]);case 1:return m=_.sent(),[2,m]}})})},t.prototype._awsRealTimeAuthorizationHeader=function(e){var n=e.host,i=e.token,o=e.graphql_headers;return ze(this,void 0,void 0,function(){var a,s,c;return Je(this,function(u){switch(u.label){case 0:return a={},typeof i!="function"?[3,2]:[4,i.call(void 0)];case 1:return s=u.sent(),[3,4];case 2:return[4,i];case 3:s=u.sent(),u.label=4;case 4:return c=[(a.Authorization=s,a.host=n,a)],[4,o()];case 5:return[2,Oe.apply(void 0,c.concat([u.sent()]))]}})})},t.prototype._awsRealTimeApiKeyHeader=function(e){var n=e.apiKey,i=e.host,o=e.graphql_headers;return ze(this,void 0,void 0,function(){var a,s,c;return Je(this,function(u){switch(u.label){case 0:return a=new Date,s=a.toISOString().replace(/[:\-]|\.\d{3}/g,""),c=[{host:i,"x-amz-date":s,"x-api-key":n}],[4,o()];case 1:return[2,Oe.apply(void 0,c.concat([u.sent()]))]}})})},t.prototype._awsRealTimeIAMHeader=function(e){var n=e.payload,i=e.canonicalUri,o=e.appSyncGraphqlEndpoint,a=e.region,s=e.credentials;return ze(this,void 0,void 0,function(){var c,u,f,l,h,v,g,m,_;return Je(this,function(k){switch(k.label){case 0:return c={region:a,service:Fv},u=typeof s=="function"?s.call():s||{},u&&typeof u.getPromise=="function"?[4,u.getPromise()]:[3,2];case 1:k.sent(),k.label=2;case 2:if(!u)throw new Error("No credentials");return[4,u];case 3:return f=k.sent(),l=f.accessKeyId,h=f.secretAccessKey,v=f.sessionToken,g={access_key:l,secret_key:h,session_token:v},m={url:""+o+i,body:n,method:"POST",headers:Oe({},Mv)},_=mt.Signer.sign(m,g,c),[2,_.headers]}})})},t.prototype._initializeRetryableHandshake=function(e){var n=e.awsRealTimeUrl;return ze(this,void 0,void 0,function(){return Je(this,function(i){switch(i.label){case 0:return ie("Initializaling retryable Handshake"),[4,mf.jitteredExponentialRetry(this._initializeHandshake.bind(this),[{awsRealTimeUrl:n}])];case 1:return i.sent(),[2]}})})},t.prototype._initializeHandshake=function(e){var n=e.awsRealTimeUrl;return ze(this,void 0,void 0,function(){var i,o,a,s=this;return Je(this,function(c){switch(c.label){case 0:ie("Initializing handshake "+n),c.label=1;case 1:return c.trys.push([1,4,,5]),[4,(function(){return new Promise(function(u,f){var l=t.createWebSocket(n,"graphql-ws");l.onerror=function(){ie("WebSocket connection error")},l.onclose=function(){f(new Error("Connection handshake error"))},l.onopen=function(){return s.awsRealTimeSocket=l,u()}})})()];case 2:return c.sent(),[4,(function(){return new Promise(function(u,f){var l=!1;s.awsRealTimeSocket.onerror=function(g){ie("WebSocket closed "+JSON.stringify(g))},s.awsRealTimeSocket.onclose=function(g){ie("WebSocket closed "+g.reason),f(new Error(JSON.stringify(g)))},s.awsRealTimeSocket.onmessage=function(g){var m;ie("subscription message from AWS AppSyncRealTime: "+g.data+" ");var _=JSON.parse(g.data),k=_.type,T=_.payload,N=(T===void 0?{}:T).connectionTimeoutMs,R=N===void 0?qv:N;if(k===H.MESSAGE_TYPES.GQL_CONNECTION_ACK){l=!0,s.keepAliveTimeout=(m=s.keepAliveTimeout)!==null&&m!==void 0?m:R,s.awsRealTimeSocket.onmessage=s._handleIncomingSubscriptionMessage.bind(s),s.awsRealTimeSocket.onerror=function(y){ie(y),s._errorDisconnect(H.CONTROL_MSG.CONNECTION_CLOSED)},s.awsRealTimeSocket.onclose=function(y){ie("WebSocket closed "+y.reason),s._errorDisconnect(H.CONTROL_MSG.CONNECTION_CLOSED)},u("Cool, connected to AWS AppSyncRealTime");return}if(k===H.MESSAGE_TYPES.GQL_CONNECTION_ERROR){var C=_.payload,M=(C===void 0?{}:C).errors,F=(M===void 0?[]:M)[0],E=F===void 0?{}:F,U=E.errorType,G=U===void 0?"":U,p=E.errorCode,d=p===void 0?0:p;f({errorType:G,errorCode:d})}};var h={type:H.MESSAGE_TYPES.GQL_CONNECTION_INIT};s.awsRealTimeSocket.send(JSON.stringify(h));function v(){l||f(new Error("Connection timeout: ack from AWSRealTime was not received on "+yf+" ms"))}setTimeout(v.bind(s),yf)})})()];case 3:return c.sent(),[3,5];case 4:throw i=c.sent(),o=i.errorType,a=i.errorCode,Dv.indexOf(a)>=0?new mf.NonRetryableError(o):o?new Error(o):i;case 5:return[2]}})})},t.prototype._handleIncomingSubscriptionMessage=function(e){ie("subscription message from AWS AppSync RealTime: "+e.data);var n=JSON.parse(e.data),i=n.id,o=i===void 0?"":i,a=n.payload,s=n.type,c=this.subscriptionObserverMap.get(o)||{},u=c.observer,f=u===void 0?null:u,l=c.query,h=l===void 0?"":l,v=c.variables,g=v===void 0?{}:v,m=c.startAckTimeoutId,_=m===void 0?0:m,k=c.subscriptionReadyCallback,T=k===void 0?null:k,N=c.subscriptionFailedCallback,R=N===void 0?null:N;if(ie({id:o,observer:f,query:h,variables:g}),s===H.MESSAGE_TYPES.GQL_DATA&&a&&a.data){f?f.next(a):ie("observer not found for id: "+o);return}if(s===H.MESSAGE_TYPES.GQL_START_ACK){ie("subscription ready for "+JSON.stringify({query:h,variables:g})),typeof T=="function"&&T(),clearTimeout(_),f?f.next({data:a,extensions:{controlMsgType:"CONNECTED"}}):ie("observer not found for id: "+o);var C=H.SUBSCRIPTION_STATUS.CONNECTED;this.subscriptionObserverMap.set(o,{observer:f,query:h,variables:g,startAckTimeoutId:null,subscriptionState:C,subscriptionReadyCallback:T,subscriptionFailedCallback:R});return}if(s===H.MESSAGE_TYPES.GQL_CONNECTION_KEEP_ALIVE){clearTimeout(this.keepAliveTimeoutId),this.keepAliveTimeoutId=setTimeout(this._errorDisconnect.bind(this,H.CONTROL_MSG.TIMEOUT_DISCONNECT),this.keepAliveTimeout);return}if(s===H.MESSAGE_TYPES.GQL_ERROR){var C=H.SUBSCRIPTION_STATUS.FAILED;this.subscriptionObserverMap.set(o,{observer:f,query:h,variables:g,startAckTimeoutId:_,subscriptionReadyCallback:T,subscriptionFailedCallback:R,subscriptionState:C}),clearTimeout(_),f?(f.error({errors:[Oe({},new sr.GraphQLError("Connection failed: "+JSON.stringify(a)))]}),f.complete()):ie("observer not found for id: "+o),typeof R=="function"&&R()}},t.prototype._errorDisconnect=function(e){ie("Disconnect error: "+e),this.subscriptionObserverMap.forEach(function(n){var i=n.observer;i&&!i.closed&&i.error({errors:[Oe({},new sr.GraphQLError(e))]})}),this.subscriptionObserverMap.clear(),this.awsRealTimeSocket&&this.awsRealTimeSocket.close(),this.socketStatus=H.SOCKET_STATUS.CLOSED},t.prototype._timeoutStartSubscriptionAck=function(e){var n=this.subscriptionObserverMap.get(e)||{},i=n.observer,o=n.query,a=n.variables;i&&(this.subscriptionObserverMap.set(e,{observer:i,query:o,variables:a,subscriptionState:H.SUBSCRIPTION_STATUS.FAILED}),i&&!i.closed&&(i.error({errors:[Oe({},new sr.GraphQLError("Subscription timeout "+JSON.stringify({query:o,variables:a})))]}),i.complete()),ie("timeoutStartSubscription",JSON.stringify({query:o,variables:a})))},t.createWebSocket=function(e,n){return new WebSocket(e,n)},t})(vf.ApolloLink);Ee.AppSyncRealTimeSubscriptionHandshakeLink=jv});var Ef=L(ur=>{"use strict";var Bv=ur&&ur.__rest||function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};Object.defineProperty(ur,"__esModule",{value:!0});var vi=Vc();ur.CONTROL_EVENTS_KEY=vi.CONTROL_EVENTS_KEY;var di=(Nt(),ye(er)),_f=(gn(),ye(Ts)),Vv=(ee(),ye(Wi)),wf=Gc(),Qv=bf();function Kv(r,t){var e,n;if(typeof r=="string")e=t||_f.createHttpLink({uri:r}),n=di.ApolloLink.from([new wf.NonTerminatingLink("controlMessages",{link:new di.ApolloLink(function(o,a){return new di.Observable(function(s){var c,u=o,f=u.variables,l=vi.CONTROL_EVENTS_KEY,h=f[l],v=Bv(f,[typeof l=="symbol"?l:l+""]);return typeof h<"u"&&(o.variables=v),s.next((c={},c[vi.CONTROL_EVENTS_KEY]=h,c)),function(){}})})}),new wf.NonTerminatingLink("subsInfo",{link:e}),new vi.SubscriptionHandshakeLink("subsInfo")]);else{var i=r.url;e=t||_f.createHttpLink({uri:i}),n=new Qv.AppSyncRealTimeSubscriptionHandshakeLink(r)}return di.ApolloLink.split(function(o){var a=o.query,s=Vv.getMainDefinition(a),c=s.kind,u=s.operation,f=c==="OperationDefinition"&&u==="subscription";return f},n,e)}ur.createSubscriptionHandshakeLink=Kv});rt();var xf=zr(Xo()),Of=zr(Ef());Nt();var Sf=class{handle(t){return new va(e=>{let n=typeof t.additionalParams?.aws_appsync_graphqlEndpoint=="string"?t.additionalParams.aws_appsync_graphqlEndpoint:"",i=typeof t.additionalParams?.aws_appsync_region=="string"?t.additionalParams.aws_appsync_region:"",o={type:typeof t.additionalParams?.aws_appsync_authenticationType=="string"?t.additionalParams.aws_appsync_authenticationType:"",apiKey:typeof t.additionalParams?.aws_appsync_apiKey=="string"?t.additionalParams.aws_appsync_apiKey:"",jwtToken:typeof t.additionalParams?.aws_appsync_jwtToken=="string"?t.additionalParams.aws_appsync_jwtToken:"",token:typeof t.additionalParams?.aws_appsync_token=="string"?t.additionalParams.aws_appsync_token:""},a=te.from([(0,xf.createAuthLink)({url:n,region:i,auth:o}),(0,Of.createSubscriptionHandshakeLink)({url:n,region:i,auth:o})]),s=new In({link:a,cache:new Fr}),c=Date.now();return this.subscription=s.subscribe({query:Jr(t.query),variables:t.variables}).subscribe(_a(e,t.url,c)),()=>{this.destroy()}})}destroy(){this.subscription?.closed&&this.subscription?.unsubscribe()}};export{Sf as AppSyncRequestHandler};
//# sourceMappingURL=chunk-P3RC52FF.js.map

//# debugId=d2759024-c41e-5594-9d72-a463872e9e45
